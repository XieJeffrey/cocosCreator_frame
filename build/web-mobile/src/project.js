window.__require=function t(e,i,n){function o(s,c){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!c&&h)return h(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,a){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var c=/\+/g;t=t.split(e);var r=1e3;a&&"number"==typeof a.maxKeys&&(r=a.maxKeys);var h=t.length;r>0&&h>r&&(h=r);for(var l=0;l<h;++l){var f,m,d,g,p=t[l].replace(c,"%20"),u=p.indexOf(i);u>=0?(f=p.substr(0,u),m=p.substr(u+1)):(f=p,m=""),d=decodeURIComponent(f),g=decodeURIComponent(m),n(s,d)?o(s[d])?s[d].push(g):s[d]=[s[d],g]:s[d]=g}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],2:[function(t,e,i){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,i,c){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?a(s(t),function(s){var c=encodeURIComponent(n(s))+i;return o(t[s])?a(t[s],function(t){return c+encodeURIComponent(n(t))}).join(e):c+encodeURIComponent(n(t[s]))}).join(e):c?encodeURIComponent(n(c))+i+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],3:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":1,"./encode":2}],ad:[function(t,e,i){"use strict";cc._RF.push(e,"a2f16MrKjBEorVoKQebbnCs","ad");var n={banner:null,bannerDuring:0,bannerCheck:0,videoad:null,videoLoaded:!1,videoCB:null,videoduring:null,interstitialad:null,load:function(){(WECHATGAME||QQPLAY)&&(this.createVideo(),this.createBanner(),this.createInterstitial())},createVideo:function(){if(WECHATGAME||QQPLAY){var t="";WECHATGAME&&(t="adunit-5ba9b95931900205"),QQPLAY&&(t="6433549f9bfa8fe7364afc329656e505");var e=this;this.videoad=platform.createRewardedVideoAd({adUnitId:t}),this.videoad.load().then(function(){}).catch(function(t){console.log("\u9996\u6b21\u62c9\u53d6\u8f7d\u6fc0\u52b1\u89c6\u9891\u5931\u8d25")}),this.videoduring=0,this.videoLoaded=!1,this.videoad.onLoad(function(){console.log("\u6210\u529f\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),e.videoLoaded=!0}),this.videoad.onError(function(){e.videoLoaded=!1,e.videoCB=null,e.videotype=null}),this.videoad.onClose(function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed"),e.bannershowing&&e.banner.show(),t&&t.isEnded||void 0===t?null!=e.videoCB&&e.videoCB():e.videotype,e.videoCB=null,e.videotype=null})}},createBoxAd:function(){if(QQPLAY){this.appBoxAd&&this.appBoxAd.destroy(),this.appBoxAd=qq.createAppBox({adUnitId:"161c85fbb64cd2710e8f7b6b2d0e2649"});var t=this;this.appBoxAd.load().then(function(){t.appBoxAd.show()})}},showBoxAd:function(){this.createBoxAd()},hideBoxAd:function(){this.appBoxAd&&(this.appBoxAd.destroy(),this.appBoxAd=null)},createBanner:function(){var t=platform.getSystemInfoSync(),e=t.screenWidth,i=t.screenHeight,n=e;e/i>.5625&&(n=.7*e);var o=n/4,a=(e-n)/2,s=i-o-4;s*=1.8*e<i?.96:.99;var c="";WECHATGAME&&(c="adunit-b0b9e29a179ec68f"),QQPLAY&&(c="76e45d75f61e2625d05890865ff62d70"),(WECHATGAME||QQPLAY)&&(this.banner=platform.createBannerAd({adUnitId:c,style:{left:a,top:s,width:n,height:o}}));var r=this;null!=this.banner&&(this.banner.onLoad(function(){r.bannershowing&&r.banner.show(),console.log("\u6210\u529f\u52a0\u8f7dbanner\u5e7f\u544a")}),this.banner.onError(function(){console.error("create banner error")}))},createInterstitial:function(){if(!QQPLAY)return"function"==typeof wx.createInterstitialAd?(this.interstitialad=wx.createInterstitialAd({adUnitId:"adunit-6ccdb687b5f4e9ab"}),void console.log("\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a")):void 0},update:function(t){if(this.videoduring+=t,WECHATGAME||QQPLAY){if(!this.videoLoaded&&this.videoduring>10){console.log("\u68c0\u6d4b\u89c6\u9891");var e=this;this.videoad.load().then(function(){e.videoLoaded=!0,event.emit("videoAdLoaded"),console.log("\u6210\u529f\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891 update")}).catch(function(t){console.log("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25")}),this.videoduring=0}this.bannerCheck+=t,this.bannerCheck>2&&(this.bannershowing||this.hideBannerAd(),this.bannerCheck=0)}},isVideoLoaded:function(){return this.videoLoaded},showVideoAd:function(t,e){if(console.log("showVideoAd"),WECHATGAME||QQPLAY){var i=this,n=function(){i.videoLoaded=!1,i.videoCB=null,platform.showModal({title:"\u63d0\u793a",content:"\u52a0\u8f7d\u89c6\u9891\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5",showCancel:!1,cancelText:"",confirmText:"\u786e\u5b9a",success:function(t){}}),i.videoad.load()};this.videoLoaded?(this.videoCB=t,this.videoad.show().catch(function(t){n()}),this.videotype=e,this.hideBannerAd()):n()}},showBannerAd:function(){(WECHATGAME||QQPLAY)&&null!=this.banner&&(this.banner.show(),this.bannershowing=!0)},showInsertAd:function(){WECHATGAME&&this.interstitialad&&this.interstitialad.show()},hideBannerAd:function(){(WECHATGAME||QQPLAY)&&null!=this.banner&&(this.banner.hide(),this.bannershowing=!1)}};e.exports=n,cc._RF.pop()},{}],app:[function(t,e,i){"use strict";cc._RF.push(e,"44d30a3d1FHlbb1KZWSp6Au","app");var n=t("./manager/ui"),o=t("./manager/event"),a=t("./manager/audio"),s=t("./manager/request"),c=t("./manager/storage"),r=(t("./manager/subpackage"),t("./manager/time")),h=t("./manager/res"),l=t("./platform/ad"),f=t("./platform/launch"),m=(t("./platform/gameMgr"),t("./platform/share")),d=t("./data/userdata"),g=t("./data/gamedata"),p=t("./data/gametype"),u=t("./common/config"),y=t("./common/gameConfig"),w=t("./common/util"),v={init:function(t){h.load(),f.init(),a.init(),n.load(t),m.init()},update:function(t){r.update(t),this.fixedUpdate.do(t)},share:m,launch:f,ad:l,ui:n,event:o,audio:a,request:s,res:h,time:r,userdata:d,gamedata:g,gametype:p,config:u,gameConfig:y,util:w,storage:c,fixedUpdate:{list:[],add:function(t,e,i){this.list.push({idx:t,func:e,field:i})},remove:function(t){for(var e=0;e<this.list.length;++e){if(this.list[e].idx==t){this.list.splice(t,1);break}}},do:function(t){0!=this.list.length&&this.list.forEach(function(e){"function"==typeof e.func&&e.func.call(e.field,t)})}}};e.exports=v,cc._RF.pop()},{"./common/config":"config","./common/gameConfig":"gameConfig","./common/util":"util","./data/gamedata":"gamedata","./data/gametype":"gametype","./data/userdata":"userdata","./manager/audio":"audio","./manager/event":"event","./manager/request":"request","./manager/res":"res","./manager/storage":"storage","./manager/subpackage":"subpackage","./manager/time":"time","./manager/ui":"ui","./platform/ad":"ad","./platform/gameMgr":"gameMgr","./platform/launch":"launch","./platform/share":"share"}],audio:[function(t,e,i){"use strict";cc._RF.push(e,"4447dZ0h+9OWaTj+wTlSPr7","audio");var n={},o={},a={musicOn:!0,init:function(){var t=cc.sys.localStorage.getItem("music");this.musicOn=""===t||null===t||1==t},on:function(){this.musicOn=!this.musicOn,0==this.musicOn?this.stopBgm():this.playBgm(this.bgmType.start),cc.sys.localStorage.setItem("music",this.musicOn?1:0)},playEffect:function(t){if(this.musicOn)if(void 0==n[t]){if(""==t)return;cc.loader.loadRes("audios/"+t,function(e,i){n[t]=i,cc.audioEngine.playEffect(i,!1)})}else cc.audioEngine.playEffect(n[t],!1)},playBgm:function(t){this.musicOn&&(void 0==o[t]?cc.loader.loadRes("audios/"+t,function(e,i){e&&console.log(e),o[t]=i,cc.audioEngine.playMusic(i,!0)}):cc.audioEngine.playMusic(o[t],!0))},stopBgm:function(){cc.audioEngine.stopAll()}};e.exports=a,cc._RF.pop()},{}],collider:[function(t,e,i){"use strict";cc._RF.push(e,"163dcL29bRH+Z9zmLKL2LgC","collider");var n=t("../manager/event"),o=t("../data/gametype");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.enterEvtList=new Array,this.stayEventList=new Array,this.exitEventList=new Array},registerEnterEvt:function(t){this.enterEvtList.push(t)},registerStayEvt:function(t){this.stayEventList.push(t)},registerExitEvt:function(t){this.exitEventList.push(t)},onCollisionEnter:function(t,e){n.emit(o.eventType.TRIGGERENTER,[t,e])},onCollisionStay:function(t,e){n.emit(o.eventType.TRIGGERSTAY,[t,e])},onCollisionExit:function(t,e){n.emit(o.eventType.TRIGGEREXIT,[t,e])}}),cc._RF.pop()},{"../data/gametype":"gametype","../manager/event":"event"}],config:[function(t,e,i){"use strict";cc._RF.push(e,"bc258tnWaBOLaz5GeXJ3vLL","config"),window.QQPLAY="undefined"!=typeof qq,window.TTGAME="undefined"!=typeof tt,window.WECHATGAME="undefined"!=typeof wx&&"undefined"==typeof qq&&"undefined"==typeof tt,window.VIVO="undefined"!=typeof qg,window.IOS=cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS,window.ANDROID=cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID,window.NATIVE=IOS||ANDROID,window.platform=window.WECHATGAME?wx:window.QQPLAY?qq:null;var n={appID:"wx63f948f281abf42d",QQ_appID:"1109792590",tt_appID:"",localversion:1,netversion:0,configUrl:{gamelist:"https://list.ty200772.com/GameList.aspx",share:"https://list.ty200772.com/CopywritingList.aspx",control:"https://list.ty200772.com/GetGameControlInfo.aspx",url:"https://z1.shaoweiwy.cn/DragonSlayer/DragonSlayer.aspx"}};e.exports=n,cc._RF.pop()},{}],event:[function(t,e,i){"use strict";cc._RF.push(e,"11579R1cZ1DKa13g9vRvgGN","event");new Array;var n={};e.exports={on:function(t,e,i){void 0==n[t]&&(n[t]=new Array),n[t].push({f:e,n:i})},emit:function(t,e){var i=n[t];if(void 0!=i)for(var o=0;o<i.length;++o){var a=i[o];void 0!=a?a.n.node.active&&a.f.call(a.n,e):console.error(t+" hasn't callback")}}},cc._RF.pop()},{}],float:[function(t,e,i){"use strict";cc._RF.push(e,"e9bc3q5r8pA1rSW3wjQOy/j","float"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onShow:function(t){this.node.stopAllActions(),this.node.getChildByName("text").getComponent(cc.Label).string=t.content,this.node.setPosition(0,0);var e=this,i=cc.callFunc(function(){e.node.active=!1}),n=cc.sequence(cc.moveBy(t.during,0,200),i);this.node.runAction(n)},update:function(t){}}),cc._RF.pop()},{}],gameConfig:[function(t,e,i){"use strict";cc._RF.push(e,"d9418hj34hEaKPWKMzNlQnw","gameConfig");e.exports={robotData:[{name:"\u8d75\u5927\u559c\u5440",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto237bq2j302a02a743.jpg"},{name:"\u8d75\u5c0f\u7c92",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto4jdpibj302a02aa9u.jpg"},{name:"\u4e2b\u4e2b",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto27b5pqj302a02aa9u.jpg"},{name:"\u7ef4\u5a1c",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto4lnd4aj302a02aa9u.jpg"},{name:"only",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto4orhqvj302a02aa9u.jpg"},{name:"\u5c0f\u73b2\u5b50",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto4qr7ugj302a02ajr6.jpg"},{name:"A hero",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto0ippr8j302a02adfm.jpg"},{name:"A my girl",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto0oqthuj302a02aa9u.jpg"},{name:"A_yan",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto0vrazcj302a02aq2q.jpg"},{name:"Power.",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto12fgd0j302a02a0sj.jpg"},{name:"Tina",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto16o94bj302a02ajr6.jpg"},{name:"C.c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1bdmuwj302a02aa9v.jpg"},{name:"\u90b1\u563f\u563f",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto1lkxtvj302a02a3yb.jpg"},{name:"Cbaby",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1qcw92j302a02agle.jpg"},{name:"\u751c\u9152",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1v1mr6j302a02ajr6.jpg"},{name:"Bella fu",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnyzby8ij302a02adfm.jpg"},{name:"\u5012\u5438\u4e00\u53e3\u51c9\u6c14\u541b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnz30midj302a02aa9u.jpg"},{name:"\u9648\u5c0f\u767d\u767d",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnz9fat8j302a02a742.jpg"},{name:"\u9648\u5c34\u5c2c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzdoieoj302a02aa9u.jpg"},{name:"\u6d77\u71d5\u5450",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnzjvfdbj302a02at8i.jpg"},{name:"\u614c\u5f20\u5c0f\u59d0\u59d0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzonc6mj302a02a3ya.jpg"},{name:"\u5976\u6cb9\u5c0f\u997c\u5e72",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzrrg8mj302a02at8i.jpg"},{name:"Nine",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto04f3dlj302a02aweb.jpg"},{name:"yoyoliu",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto08v80fj302a02awea.jpg"},{name:"\u4eb2\u7231\u7684\u8d75\u5c0f\u59d0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnxxtsv6j302x02x743.jpg"},{name:"Riki",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtny0h145j301u01u0si.jpg"},{name:"\u590f\u672b\u521d\u51c9",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtny30ysij302a02aa9u.jpg"},{name:"\u5446\u732b.",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtny6fodpj302f02fgle.jpg"},{name:"X.",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtny9q0n3j302a02ajr6.jpg"},{name:"A.Yoho",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnyd9igaj302a02ajr6.jpg"},{name:"\u7c73\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtnyhblkpj302a02adfm.jpg"},{name:"\u5948\u7f8e\u554a",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnylt0pwj302a02a742.jpg"},{name:"Bling",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtnyrj27jj302a02adfm.jpg"},{name:"\u5c0f\u9896\u5b50",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx09r4ij302a02ajr6.jpg"},{name:"\u7c73\u5a1c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx1t761j302a02aa9u.jpg"},{name:"Joc\u997c\u5e72",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx3c98oj302a02amwy.jpg"},{name:"\u59da\u5c0f\u803f",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtnx525v4j302a02amwy.jpg"},{name:"\u67da\u80a5\u80a5",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnx6r1mij302a02a3ya.jpg"},{name:"\u8335\u8335\u8335\u513f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtnx8dsjxj301r01rq2p.jpg"},{name:"\u6dfc\u6dfc",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnxa2751j302f02fjr6.jpg"},{name:"\u6167\u51cc\u554a",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnxbl1cxj301u01u3ya.jpg"},{name:"Dany",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnxepsdpj303a03a0sj.jpg"},{name:"\u3002",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt5esw8lj3046046web.jpg"},{name:"\uff01",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt5j2ceej3046046wed.jpg"},{name:"\u5927\u9505",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt5mi2dgj3046046web.jpg"},{name:"\u5c0f\u9505",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt5ppvmuj3046046aa2.jpg"},{name:"\u5927\u5173",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt5t7o8uj30460460sm.jpg"},{name:"\u5c0f\u5173",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt5w0cz1j3046046mx1.jpg"},{name:"\u5c0f\u660e",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt5zihdfj3046046wef.jpg"},{name:"Arvin",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt634pzdj3046046a9x.jpg"},{name:"Bruce",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt668szoj3046046q2x.jpg"},{name:"\u4e09\u91cc\u5c6f\u53e4\u5de8\u57fa",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4fqlevj3046046t8l.jpg"},{name:"\u4e50\u4e50",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt4jc0vzj3046046dfr.jpg"},{name:"\u94a2\u94c1\u867e",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4nbxy3j30c80bwmxw.jpg"},{name:"\u8759\u8760\u867e",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4rhvpkj30460463ye.jpg"},{name:"\u9648\u6a59\u6a59",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt4uf2ahj30460463yd.jpg"},{name:"Link",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4wgx6rj3046046wec.jpg"},{name:"BiuBiu",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt54538dj30c80c8t8v.jpg"},{name:"amu\u963f\u6728",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt55y6exj3046046745.jpg"},{name:"\u827e\u59c6",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt38orffj30c80c80sy.jpg"},{name:"\u9ec4bar\u5929",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt3ckowpj30c80c8mxe.jpg"},{name:"\u4ec5\u6709",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3fngslj30c80c80t7.jpg"},{name:"\u7b26\u53f7",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt3mczouj30c80c8js5.jpg"},{name:"\u7cef\u7c73\u4ed4",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3qddqvj30c80c8ac1.jpg"},{name:"\u89e3\u5fe7\u5c0f\u5e03\u4e01",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3tzx45j3046046t8m.jpg"},{name:"\u5446\u5341\u4e09",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt3yh5nvj30460463yb.jpg"},{name:"\u5c0f\u9a6c\u7532",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt426ns8j30460463yc.jpg"},{name:"\u6587\u5ba4\u957f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt46znpfj30a00hddgp.jpg"},{name:"\u5c0f\u6ce1\u996d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt22w89aj3046046q2u.jpg"},{name:"\u732b\u5c0f\u5317",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt26mtikj3046046jra.jpg"},{name:"\u8c46\u8c46",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt29qjp9j30460460sm.jpg"},{name:"\u6bd4\u514b\u8857",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2ehmo9j3046046glj.jpg"},{name:"\u963f\u83ab",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2ismbrj30c80c80tf.jpg"},{name:"\u5ddd\u5f1f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt2nx5gyj30c80c8mxv.jpg"},{name:"\u5c0f\u867e\u7c73",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2qehkvj30c80c8dgf.jpg"},{name:"\u670b\u514b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt2vr9eaj30c80c8dgl.jpg"},{name:"\u76d6\u5b50",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt2zpte5j30c80c8jrr.jpg"},{name:"\u5f6d\u5f6d",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt0unxb1j3046046q2t.jpg"},{name:"\u95f9\u54ea\u6837",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt11h7obj3046046746.jpg"},{name:"\u963f\u5927",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt15e52yj30460460sn.jpg"},{name:"\u6389\u4ef7\u884c\u4e3a",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt18hf1pj3046046t8l.jpg"},{name:"\u963f\u590f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt1d2x2vj3046046q2u.jpg"},{name:"\u732b\u5b81",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt1fih5hj3046046t8l.jpg"},{name:"\u68a6\u663c\u521d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1kdg7pj3046046mx2.jpg"},{name:"\u4e01\u683c",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1p7d7dj3046046mx2.jpg"},{name:"\u9876\u70b9",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1stnhmj3046046q2u.jpg"},{name:"\u5c1b\u5c1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpszrdlntj3046046jr9.jpg"},{name:"\u6dfc\u6dfc",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpszv0ifzj3046046gli.jpg"},{name:"\u68ee\u68ee",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpszx8hh0j3046046glh.jpg"},{name:"\u7131\u7131",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt00dag5j3046046glh.jpg"},{name:"\u6e9c\u6e9c\u7403",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt03z4gqj3046046mx3.jpg"},{name:"\u5927\u5927\u7cd6",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt07ght5j3046046a9y.jpg"},{name:"\u9ea6\u5f53\u7eb3",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt0ar4rxj30460463yd.jpg"},{name:"\u738b\u601d\u8471",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt0du6fmj30460460sm.jpg"},{name:"\u5df4\u5df4",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt0h1b34j3046046mx1.jpg"},{name:"\u9ebb\u9ebb",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsyj5jqyj3046046mx3.jpg"},{name:"\u76db\u5347\u5347",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsym90zxj3046046t8l.jpg"},{name:"\u5c0f\u767d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsyqhkpjj3046046mx5.jpg"},{name:"\u5927\u767d",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsyus3i7j3046046dfr.jpg"},{name:"\u5e18\u5916\u96e8",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsyx8zbmj3046046jr8.jpg"},{name:"\u5c0f\u9ed1",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsyzugguj3046046glf.jpg"},{name:"\u5927\u9ed1",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsz4x2vwj30460463ye.jpg"},{name:"\u563f\u563f",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpszb9dy5j30460463yf.jpg"},{name:"\u51ef\u51ef",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpszeujdwj3046046t8l.jpg"},{name:"\u5c0f\u51ef",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpss03jg4j3046046mx0.jpg"},{name:"\u5927\u51ef",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsxe8a7pj3046046mx2.jpg"},{name:"\u9ad8\u8d31i",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsxfsxzoj3046046glg.jpg"},{name:"\u5927\u6d77",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsxk4osij30460460sl.jpg"},{name:"\u9510",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsxop8msj3046046jr8.jpg"},{name:"\u5c0f\u667a",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsxv5qk4j30460463yf.jpg"},{name:"\u667a\u667a",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsxykrkuj30460463yf.jpg"},{name:"\u5c0f\u8896\u73cd",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsy0xevnj3046046q2t.jpg"},{name:"\u590f\u590f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsy5tf29j3046046wee.jpg"},{name:"\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqmsqibj3046046mwz.jpg"},{name:"\u7c92\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqr2p0ij3046046glh.jpg"},{name:"\u83ca\u82b1\u8336",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqudee6j3046046a9x.jpg"},{name:"\u80a5\u80a5",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsqxhwv1j3046046746.jpg"},{name:"\u5c0f\u80d6",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsqzt9aej3046046q2t.jpg"},{name:"\u5927\u80d6",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsr3okpgj3046046a9y.jpg"},{name:"\u5927\u5934",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsr6pri2j3046046t8k.jpg"},{name:"\xb0\u51c9\u5fc3\u3002",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsrg9lsej30460460sl.jpg"},{name:"\u5c0f\u6587",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsrix90uj3046046q2s.jpg"},{name:"\u963f\u6587\u6587",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpspwm46sj3046046glf.jpg"},{name:"\u667a\u5546\u5df2\u6b20\u8d39\xb0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspxtnvaj3046046wed.jpg"},{name:"\u6d1b\u6d1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspzyydbj30b40b4mxm.jpg"},{name:"\u6d1b\u514b",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsq1sr8sj30b40b4dge.jpg"},{name:"\u5c0f\u7f57",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsq3o40rj30b40b43ys.jpg"},{name:"\u7231\u8fc7\u90a3\u5f20\u8138@",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsq7vomij30b40b474j.jpg"},{name:"\u5c0f\u6d1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsqbiu2aj30b40b43yq.jpg"},{name:"\u76ae\u76ae\u4fa0",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsqd7k1ij3046046jr8.jpg"},{name:"\u5df4\u62c9\u62c9",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsqglul7j3046046dfm.jpg"},{name:"\u8bb0\u5fc6\u5fe7\u5fc3",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspat98rj30c80c8weo.jpg"},{name:"\u9ed1\u5929\u4f7f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspb32jrj3046046a9w.jpg"},{name:"\u70b9\u65f3\u4f9d\u8d56",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspcpbdoj3046046glh.jpg"},{name:"\u56cd\u69d1 ?",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspf3l96j30460463yc.jpg"},{name:"\u9c7c\u6c89\u6df1\u6d77@",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspfzbi4j3046046glh.jpg"},{name:"\u6d77\u7ef5\u963f\u5b9d\u5b9d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpspiwut8j3046046wec.jpg"},{name:"\u672c\u5bab\u7565\u840c",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpspkxcwej30460463yc.jpg"},{name:"\u56db\u53f6\u8349",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpspmw3a7j30460460sm.jpg"},{name:"\u9a37\u5e74\u4e0d\u9a37",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsppvx6lj3046046q2u.jpg"}],task:[{ID:"-1",content:"\u62e5\u6709{0}\u4e2a{1}\u54c1\u8d28\u7684\u82f1\u96c4",num:"5|1",type:"2"}],monster:[{id:"-1",name:"\u65b0\u624b\u602a",detail:"\u7ed9\u65b0\u624b\u7ec3\u624b\u7528",atk:"20",def:"20",hp:"100",sp:"100",grade:"0"}],level:[{ID:"-1",name:"\u65b0\u624b\u5173",monster:"0|0",reward:"0|0"}],hero:[{ID:"-1",name:"\u968f\u4ece",detail:"\u9886\u4e3b\u7684\u7b2c\u4e00\u4e2a\u82f1\u96c4",atk:"20",def:"20",hp:"20",sp:"20",star:"1",grade:"1"}],buffContent:[{name:"\u8f7b\u76c8",content:"\u7ed9\u81ea\u5df1\u52a0\u901f"},{name:"\u8fdf\u7f13",content:"\u8ba9\u5bf9\u65b9\u51cf\u901f"},{name:"\u5f3a\u58ee",content:"\u7ed9\u81ea\u5df1\u52a0\u8840"},{name:"\u575a\u56fa",content:"\u7ed9\u81ea\u5df1\u52a0\u9632"},{name:"\u7834\u7532",content:"\u7ed9\u5bf9\u65b9\u51cf\u9632"},{name:"\u950b\u5229",content:"\u7ed9\u81ea\u5df1\u52a0\u653b"},{name:"\u5f31\u5316",content:"\u7ed9\u5bf9\u65b9\u51cf\u653b"}],buff:[{id:"1",hp:"10",atk:"10",def:"10",sp:"10",slow:"10",dropDef:"10",dropAtk:"10"}],summon:[{lv:"1",star:"70|30",grade:"50|25|20"},{lv:"2",star:"20|60|20",grade:"30|50|20"},{lv:"3",star:"0|60|20|10",grade:"30|50|20|10"},{lv:"4",star:"0|10|60|20|10",grade:"0|30|50|20|10"},{lv:"5",star:"0|0|60|20|10",grade:"0|0|50|20|10"}],chest:[{lv:"1",rate:"20",max:"1000",cost:"2"},{lv:"2",rate:"20",max:"2000",cost:"4"},{lv:"3",rate:"20",max:"3000",cost:"6"},{lv:"4",rate:"20",max:"4000",cost:"8"},{lv:"5",rate:"20",max:"5000",cost:"10"}],draw:[{idx:"1",reward:"100|0"},{idx:"2",reward:"100|0"},{idx:"3",reward:"100|0"},{idx:"4",reward:"100|0"},{idx:"5",reward:"100|0"},{idx:"6",reward:"100|0"},{idx:"7",reward:"100|0"},{idx:"8",reward:"100|0"}],sign:[{day:"1",reward:"200|0"},{day:"2",reward:"200|1"},{day:"3",reward:"200|2"},{day:"4",reward:"200|3"},{day:"5",reward:"200|4"},{day:"6",reward:"200|5"},{day:"7",reward:"200|6"},{day:"8",reward:"200|7"}],friend:[{num:"1",reward:"200|100"},{num:"3",reward:"200|101"},{num:"5",reward:"200|102"},{num:"7",reward:"200|103"},{num:"10",reward:"200|104"}]},cc._RF.pop()},{}],gameMgr:[function(t,e,i){"use strict";cc._RF.push(e,"dc1e4FSLmxALYJlNoKtVBu7","gameMgr");var n=t("../common/config"),o=t("../common/gameConfig"),a=t("../manager/request"),s=t("../manager/time"),c=(t("../platform/launch"),t("../manager/ui")),r=t("../data/userdata"),h=t("../data/gamedata"),l=t("../data/gametype"),f=(t("../common/util"),t("../manager/event")),m=(c=t("../manager/ui"),{login:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("login"),e&&c.showLoading({title:"\u767b\u5f55\u4e2d"});if(WECHATGAME||QQPLAY){var i=platform.getLaunchOptionsSync().query.channel;void 0==i&&(i=""),platform.login({success:function(t){console.log("res.code:"+t.code);var e={Code:t.code};QQPLAY&&(e={QQCode:t.code}),a.post(n.configUrl.url,e,function(t){0==t.Result&&(console.log("Get OpenID:"+t.Member.OpenID),r.openid=t.Member.OpenID,h.heroData=t.Member.HeroStr,h.masterData=t.Member.SuzerainStr,h.taskData=t.Member.Task,""==h.heroData&&h.initHeroData(),""==h.masterData&&h.initMasterData(),""==h.taskData&&h.initTaskData(),platform.getUserInfo({lang:"zh_CN",success:function(t){console.log(t),r.isGetUserData=!0,r.nickname=t.userInfo.nickName,r.icon=t.userInfo.avatarUrl},fail:function(t){console.log("\u6388\u6743\u5931\u8d25")}}))})},fail:function(t){c.showFloatTip("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},complete:function(){c.hideLoading()}})}},saveHero:function(){if(WECHATGAME||QQPLAY){var t=JSON.stringify(h.heroData),e={UpdateHero:r.openid+"|"+t};a.post(n.configUrl.url,e,function(t){0==t.Result&&console.log("\u82f1\u96c4\u6570\u636e\u4fdd\u5b58\u6210\u529f")})}},saveTask:function(){if(WECHATGAME||QQPLAY){var t=JSON.stringify(h.taskData),e={UpdateTask:r.openid+"|"+t};a.post(n.configUrl.url,e,function(t){0==t.Result&&console.log("\u4efb\u52a1\u6570\u636e\u4fdd\u5b58\u6210\u529f")})}},saveMaster:function(){if(WECHATGAME||QQPLAY){var t=JSON.stringify(h.masterData),e={UpdateSuzerain:r.openid+"|"+t};a.post(n.configUrl.url,e,function(t){0==t.Result&&console.log("\u9886\u4e3b\u6570\u636e\u4fdd\u5b58\u6210\u529f")})}},sign:function(t){if(WECHATGAME||QQPLAY){var e={RepairSign:r.openid+"|"+t};a.post(n.configUrl.url,e,function(t){t.Result})}},draw:function(){if(WECHATGAME||QQPLAY){var t={LuckDraw:r.openid};a.post(n.configUrl.url,t,function(t){t.Result})}},Delete:function(){r.openid;a.post(n.configUrl.url.params,function(){c.showFloatTip("\u91cd\u542f\u540e\u751f\u6548")})},getMasterBattleValue:function(){return 0},getChestData:function(){var t=cc.sys.localStorage.getItem("chest291205_1");""===t||null===t?h.chestData.time=s.now:this.chestData=JSON.parse(t)},saveChestData:function(){cc.sys.localStorage.setItem("chest291205_1",JSON.stringify(h.chestData))},initChestData:function(){this.getChestData(),this.settleChest()},settleChest:function(){var t=parseInt((s.now-h.chestData.time)/1e3);console.log("second:"+t),h.chestData.time=s.now,h.chestData.storage+=parseInt(t/5*o.chest[h.chestData.lv].rate),h.chestData.storage+=h.chestData.cache,h.chestData.storage=0,h.chestData.cache=0,h.chestData.storage>=o.chest[h.chestData.lv].max&&(h.chestData.storage=o.chest[h.chestData.lv].max),this.saveChestData()},increaseChest:function(){h.chestData.cache+=o.chest[h.chestData.lv].rate,this.saveChestData()},upgradeBuff:function(t,e){h.masterData.buffPoint>0?(h.masterData.buffPoint--,h.masterData.buffLv[t]++,f.emit(l.eventType.BUFF),e&&e()):c.showFloatTip("\u6280\u80fd\u70b9\u6570\u4e0d\u8db3")},selectBuff:function(t){h.masterData.selectBuff=t,f.emit(l.eventType.BUFF)}});e.exports=m,cc._RF.pop()},{"../common/config":"config","../common/gameConfig":"gameConfig","../common/util":"util","../data/gamedata":"gamedata","../data/gametype":"gametype","../data/userdata":"userdata","../manager/event":"event","../manager/request":"request","../manager/time":"time","../manager/ui":"ui","../platform/launch":"launch"}],gamedata:[function(t,e,i){"use strict";cc._RF.push(e,"4be3d8iSphEf74/5PPh1Hoo","gamedata");var n={shareData:new Array,gamelist:new Array,control:new Array,dataKey:"191207",recorder:null,isRecord:!1,recordTimer:0,heroData:"",masterData:{lv:0,gold:0,gem:0,buffLv:[0,0,0,0,0,0,0],buffPoint:0,selectBuff:-1,lvIdx:10},taskData:{lv:0,progress:0},chestData:{lv:0,cache:0,storage:0,time:0},friendReward:[0,0,0,0,0],friendNum:0,isInvite:!1,inviteId:0,getHeroData:function(){var t=cc.sys.localStorage.getItem("hero"+this.dataKey);""===t||null===t?this.initHeroData():this.heroData=JSON.parse(t)},initHeroData:function(){this.heroData=new Array},setHeroData:function(){cc.sys.localStorage.setItem("hero"+this.dataKey,JSON.stringify(this.heroData))},getMasterData:function(){var t=cc.sys.localStorage.getItem("master"+this.dataKey);""===t||null==t?this.initMasterData():this.masterData=JSON.parse(t)},initMasterData:function(){this.masterData={lv:0,gold:0,gem:0,buffLv:[0,0,0,0,0,0,0],buffPoint:0,lvIdx:1,selectBuff:-1}},setMasterData:function(){cc.sys.localStorage.setItem("master"+this.dataKey,JSON.stringify(this.masterData))},getTaskData:function(){var t=cc.sys.localStorage.getItem("task"+this.dataKey);""===t||null===t?this.initTaskData():this.taskData=JSON.parse(t)},initTaskData:function(){this.taskData={},this.taskData.lv=0,this.taskData.progress=0},setTaskData:function(){cc.sys.localStorage.setItem("task"+this.dataKey,JSON.stringify(this.taskData))}};e.exports=n,cc._RF.pop()},{}],gamelist:[function(t,e,i){"use strict";cc._RF.push(e,"340edhZZOpD4bwrQO1CpiN7","gamelist");var n=t("../app");t("querystring");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.findChild("board"),this.arrowBtn=this.board.findChild("arrow"),this.closeBtn=this.board.findChild("close"),this.content=this.board.findChild("scroll/view/content"),this.item=this.content.findChild("item"),this.item.active=!1,this.playBreathAnima(),this.register()},playBreathAnima:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.2,1.1,1.1),cc.scaleTo(.2,1,1),cc.scaleTo(.2,.9,.9),cc.scaleTo(.2,1,1)));this.arrowBtn.runAction(t)},register:function(){var t=this;this.board.findChild("arrow").on("click",this.onClickArrow,this),this.board.findChild("close").on("click",function(){t.board.x=-720,t.closeBtn.active=!1,t.arrowBtn.active=!0}),n.event.on(n.gametype.eventType.SHOWGAMELIST,function(){t.onClickArrow()},this)},onClickArrow:function(){this.board.x=0,this.arrowBtn.active=!1,this.closeBtn.active=!0},start:function(){this.everrefresh=!1},update:function(t){},onShow:function(){if(!QQPLAY)return!n.config.control.gamelistEnable||n.config.localversion>n.config.netversion?(console.log("\u9690\u85cf\u5217\u8868"),void n.ui.hide("gamelist")):void this.refresh();n.ui.hide("gamelist")},refresh:function(){if(console.log(n.gamedata.gamelist),0!=n.gamedata.gamelist.length){for(var t=0;t<n.gamedata.gamelist.length;++t)if(n.gamedata.gamelist[t].appid!=n.config.appID){var e=t+"",i=this.content.findChild(e);void 0==i&&((i=cc.instantiate(this.item)).name=e,this.content.addChild(i),i.on("click",this.onClickIcon,this)),i.active=!0,i.findChild("name").getComponent(cc.Label).string=n.gamedata.gamelist[t].name,n.util.createIcon(i.findChild("icon").getComponent(cc.Sprite),n.gamedata.gamelist[t].icon)}}else n.ui.hide("gamelist")},onClickIcon:function(t){var e=parseInt(t.target.name),i=n.gamedata.gamelist[e],o=i.appid,a=i.path,s=t.target;"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:o,path:a,success:function(t){s.findChild("red").active=!1,console.log("\u8f6c\u8df3\u6210\u529f");var e=o,i=cc.sys.localStorage.getItem(e);if(void 0===i||""===i){var a={AppID:n.config.appID+"|"+o};n.request.post(n.config.configUrl.gamelist,a,function(t){}),cc.sys.localStorage.setItem(e,"1")}},fail:function(t){console.log(t)}})}}),cc._RF.pop()},{"../app":"app",querystring:3}],gametype:[function(t,e,i){"use strict";cc._RF.push(e,"21973vec8VP3anKfmQ0baNs","gametype");e.exports={eventType:{LOGIN:"login",GOLD:"refreshGold",BUFF:"buff",RELIVE:"relive",GETGAMELIST:"getGameList",SHOWGAMELIST:"showGamelist",SHOWMOREBTN:"showMoreBtn",HIDEMOREBTN:"hideMoreBtn",UPDATEFRIEND:"updateFriend",STAMPTIPHIDE:"stampTipHide",REFRESHSTAMP:"refreshStamp",REFRESHDRAW:"refreshDraw"},GameState:{Guide:0,Ready:1,Running:2,DeadAnima:3,Dead:4,GameOver:5,Flying:6},SoundType:{soso:"normal",double:"double",high:"highScore",damage:"damage",spring:"spring",fail:"fail",gainGold:"gainGold",click:"btnclick",fly:"fly",result:"result",getHeart:"hp",getScoreProp:"score",xiu:"xiu",stampShow:"stampShow",countdown:"321",go:"go"},BgmType:{Start:"",Game:""},BuffType:{SpeedUp:0,SpeedDown:1,HpUp:2,DefUp:3,DefDown:4,AtkUp:5,AtkDown:6}},cc._RF.pop()},{}],guess:[function(t,e,i){"use strict";cc._RF.push(e,"4a3dcAp3llHlYDBKFVDnTdE","guess");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.item=this.node.findChild("content/item"),this.content=this.node.findChild("content"),this.bg=this.node.findChild("bg"),this.itemlist=new Array,this.itemlist.push(this.item),this.register(),this.refreshDelta=30,this.timer=this.refreshDelta;var t=cc.director.getWinSizeInPixels();this.offsetY=(t.height-1280)/2,this.content.y-=this.offsetY,this.bg.y-=this.offsetY},register:function(){this.item.on("click",this.onClickItem,this)},start:function(){},onShow:function(t){if(QQPLAY)n.ui.hide("guess");else if(n.config.control.gamelistEnable&&0!=n.gamedata.gamelist.length){for(var e=new Array,i=new Array,o=0;o<n.gamedata.gamelist.length;o++)1==n.gamedata.gamelist[o].recommend&&i.push(o);for(;i.length>0;){var a=Math.floor(i.length*Math.random());e.push(i.splice(a,1))}var s=Math.floor(e.length/2);for(o=0;o<e.length;o++){var c=this.itemlist[o];void 0==c&&((c=cc.instantiate(this.item)).parent=this.content,this.itemlist.push(c),c.on("click",this.onClickItem,this)),c.active=!0;a=e[o];c.name=""+a,o==s?(c.scaleX=1.15,c.scaleY=1.15,c.findChild("tip").active=!0):(c.scaleX=1,c.scaleY=1,c.findChild("tip").active=!1),c.findChild("name").getComponent(cc.Label).string=n.gamedata.gamelist[a].name,n.util.createIcon(c.findChild("icon").getComponent(cc.Sprite),n.gamedata.gamelist[a].icon)}}else n.ui.hide("guess")},onClickItem:function(t){var e=parseInt(t.target.name),i=n.gamedata.gamelist[e],o=i.appid,a=i.path,s=t.target;"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:o,path:a,success:function(t){s.findChild("tip").active=!1,console.log("\u8f6c\u8df3\u6210\u529f");var e=o,i=cc.sys.localStorage.getItem(e);if(void 0===i||""===i){var a={AppID:n.config.appID+"|"+o};n.request.post(n.config.configUrl.gamelist,a,function(t){}),cc.sys.localStorage.setItem(e,"1")}},fail:function(t){console.log(t)}})},update:function(t){this.timer-=t,this.timer<=0&&(this.onShow(),this.timer=this.refreshDelta)}}),cc._RF.pop()},{"../app":"app"}],guidedata:[function(t,e,i){"use strict";cc._RF.push(e,"556f9eNHktKrZQIDFtrUGDz","guidedata");t("../app");e.exports=[],cc._RF.pop()},{"../app":"app"}],launch:[function(t,e,i){"use strict";cc._RF.push(e,"0283eUrUQxFhbmV73hkHOIe","launch");t("../common/config"),t("../data/userdata"),t("../data/gamedata");var n=t("../manager/event"),o=(t("../data/gametype"),t("../manager/request"),{query:{},feedback:null,system:{},network:0,scene:"",init:function(){var t=this;if(WECHATGAME||QQPLAY){var e=platform.getLaunchOptionsSync();this.query=e.query,this.scene=e.scene,console.log("\u542f\u52a8:"+JSON.stringify(this.query)),platform.onShow(function(e){t.query=e.query,t.scene=e.scene,n.emit("wxshow")})}}});e.exports=o,cc._RF.pop()},{"../common/config":"config","../data/gamedata":"gamedata","../data/gametype":"gametype","../data/userdata":"userdata","../manager/event":"event","../manager/request":"request"}],loading:[function(t,e,i){"use strict";cc._RF.push(e,"9f592b9TzFHPK76qrxUgDnS","loading"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.img=this.node.getChildByName("img")},start:function(){},update:function(t){},onShow:function(){console.log("loadingshow"),this.img.rotation=0,this.img.stopAllActions();var t=cc.repeatForever(cc.rotateBy(2,360));this.img.runAction(t)},onHide:function(){console.log("loadinghide")}}),cc._RF.pop()},{}],main:[function(t,e,i){"use strict";cc._RF.push(e,"adf7a7NpfNDH7cIIEB3NoNI","main");var n=t("./app");cc.Class({extends:cc.Component,properties:{},fitiPad:function(){var t=cc.view.getFrameSize();if(t.height/t.width<1.4){var e=cc.find("Canvas").getComponent(cc.Canvas);e.fitHeight=!0,e.fitWidth=!1}},onLoad:function(){window.TTGAME="undefined"!=typeof tt;var t=this;n.init(function(){t.uiInited()})},update:function(t){n.update(t),n.ad.update(t)},uiInited:function(){console.log("uiinited"),n.ui.show("start")}}),cc._RF.pop()},{"./app":"app"}],menu:[function(t,e,i){"use strict";cc._RF.push(e,"b8e830oCbFCl60P0408Vy+1","menu");var n=t("../common/util"),o=t("../app"),a=t("../platform/gameMgr"),s=0,c=1,r={Idle:0,ATK:1,Enter:2,Exit:3};cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.floor=this.node.findChild("content"),this.floorItem=this.floor.findChild("0"),this.baseFloor=this.floor.findChild("base"),this.up=this.node.findChild("up"),this.down=this.node.findChild("down"),this.hero=this.node.findChild("hero"),this.heroAnima=this.hero.getComponent(sp.Skeleton),this.heroAnima.setCompleteListener(this.heroAnimaListener.bind(this)),this.lvTxt=this.node.findChild("up/lv").getComponent(cc.Label),this.head=this.node.findChild("up/head").getComponent(cc.Sprite),this.nameTxt=this.node.findChild("up/name").getComponent(cc.Label),this.battleTxt=this.node.findChild("up/battle/num").getComponent(cc.Label),this.buff=this.node.findChild("up/buff").getComponent(cc.Sprite),this.goldTxt=this.node.findChild("up/gold/num").getComponent(cc.Label),this.gemTxt=this.node.findChild("up/gem/num").getComponent(cc.Label),this.addGoldBtn=this.node.findChild("up/gold/addBtn"),this.homeBtn=this.node.findChild("up/homeBtn"),this.summonBtn=this.node.findChild("down/summon"),this.fightBtn=this.node.findChild("down/fight"),this.moneyBoxBtn=this.node.findChild("down/moneyBox"),this.skillBtn=this.node.findChild("up/btn/skill"),this.isDrag=!1,this.animaState=s,this.focusTime=0,this.direction="null",this.focusIdx=0,this.isMaskDrag=!1,this.heroInfo={time:0,state:r.Enter,enterReady:!1,exitDone:!1,enterIdx:0,targetIdx:0},this.chestWave_minPos=-170,this.chestWave_maxPos=-15,this.chestRaise=50,this.chestWave_interval=this.chestWave_maxPos-this.chestWave_minPos;var t=this.node.findChild("down/moneyBox");this.chestWave=t.findChild("mask/proImg"),this.chest_curTxt=t.findChild("progress/cur"),this.chest_maxTxt=t.findChild("progress/max"),this.floorGoldData=new Array,this.floorGoldPool=new Array,this.floorGoldParent=this.node.findChild("floorGold"),this.floorGoldItem=this.node.findChild("floorGold/gold"),this.floorGoldItem.on("click",this.onClickFloorGold,this),this.floorGoldItem.active=!1,this.floorGoldPool.push(this.floorGoldItem),this.initFloor(),this.register(),this.resize()},onShow:function(){this.refreshPlayInfo(),this.moveToFloor(o.gamedata.masterData.lvIdx-1),this.scheduleOnce(this.timedOutput,5),this.updateChestShow(),this.schedule(function(){this.collectFloorGold()}.bind(this),10)},onHide:function(){this.isMaskDrag=!1,this.heroInfo.state=r.Enter,this.enterReady=!1,this.exitDone=!1,this.enterIdx=0,this.unscheduleAllCallbacks(),a.settleChest()},timedOutput:function(){a.increaseChest()},register:function(){this.addGoldBtn.on("click",this.onAddGold,this),this.homeBtn.on("click",this.onHome,this),this.summonBtn.on("click",this.onSummon,this),this.fightBtn.on("click",this.onFight,this),this.moneyBoxBtn.on("click",this.onMoneyBox,this),this.skillBtn.on("click",this.onSkill,this),this.floor.on("touchstart",this.touchStart,this),this.floor.on("touchmove",this.touchMove,this),this.floor.on("touchend",this.touchEnd,this),this.floor.on("touchcancle",this.touchEnd,this)},initFloor:function(){this.floorList=new Array,this.floorList.push(this.floorItem);for(var t=0;t<4;t++){var e=cc.instantiate(this.floorItem);e.parent=this.floor,e.zIndex=0,this.floorList.push(e)}this.baseFloor.zIndex=this.floorList.length,this.baseFloor.y=0;for(t=0;t<this.floorList.length;t++)this.floorList[t].name=""+t,this.floorList[t].y=t*this.floorItem.height,this.floorList[t].findChild("level").getComponent(cc.Label).string="\u7b2c"+t+"\u5c42";this.floorMaxY=100,this.updateFloorLimit()},updateChestShow:function(){this.chest_curTxt.string=o.gamedata.chestData.storage,this.chest_maxTxt.string=o.gameConfig.chest[o.gamedata.chestData.lv].max;var t=o.gamedata.chestData.storage/o.gameConfig.chest[o.gamedata.chestData.lv].max;this.chest_target=this.chestWave_minPos+this.chestWave_interval*t,this.chestWave.y>this.chest_target&&(this.chestWave=this.chest_target)},updateFloorLimit:function(){0==o.gamedata.masterData.lvIdx?this.floorMinY=-100:this.floorMinY=-(o.gamedata.masterData.lvIdx-1)*this.floorItem.height-100},floorRecycle:function(){for(var t=0;t<this.floorList.length;t++){if(this.floorList[t].y<-this.baseFloor.height){this.floorList[t].y+=5*this.baseFloor.height;var e=parseInt(this.floorList[t].name);e+=5,this.floorList[t].name=e+"",this.floorList[t].findChild("level").getComponent(cc.Label).string="\u7b2c"+e+"\u5173"}if(this.floorList[t].y>1836){this.floorList[t].y-=5*this.baseFloor.height;e=parseInt(this.floorList[t].name);e-=5,this.floorList[t].name=e+"",this.floorList[t].findChild("level").getComponent(cc.Label).string="\u7b2c"+e+"\u5173"}}},sceneMove:function(t){for(var e=0;e<this.floorList.length;e++)this.floorList[e].y+=t;this.baseFloor.y+=t,this.hero.y+=t;for(e=0;e<this.floorGoldData.length;e++)this.floorGoldData[e].item.y+=t,this.floorGoldData[e].miny+=t},sceneLimit:function(t){return this.baseFloor.y+t>=this.floorMaxY&&(t=this.floorMaxY-this.baseFloor.y),this.baseFloor.y+t<=this.floorMinY&&(t=this.floorMinY-this.baseFloor.y),t},touchStart:function(){this.isMaskDrag||(this.isDrag=!0,this.direction="")},touchMove:function(t){if(this.isDrag){if(this.deltay=t.touch.getDelta().y,this.deltay>0&&(this.direction="up"),this.deltay<0&&(this.direction="down"),this.deltay=this.sceneLimit(this.deltay),0==this.deltay)return;this.sceneMove(this.deltay),this.floorRecycle()}},touchEnd:function(){this.isDrag&&(this.isDrag=!1,""!=this.direction&&this.onFocus())},onFocus:function(){this.animaState=c,this.focusIdx=0,"down"==this.direction&&(this.focusIdx=-Math.floor(this.baseFloor.y/this.baseFloor.height)),"up"==this.direction&&(this.focusIdx=-Math.ceil(this.baseFloor.y/this.baseFloor.height)),this.focusIdx<0&&(this.focusIdx=0),this.focusIdx>=o.gamedata.masterData.lvIdx&&(this.focusIdx=o.gamedata.masterData.lvIdx-1),this.focusPos=-this.focusIdx*this.baseFloor.height,this.preFocusPos=this.baseFloor.y,this.focusTime=0},update:function(t){if(this.animaState==c){var e=o.util.lerp(this.preFocusPos,this.focusPos,this.focusTime)-this.baseFloor.y;e=this.sceneLimit(e),this.sceneMove(e),this.floorRecycle(),this.focusTime+=5*t,this.focusTime>=1&&(this.animaState=s,this.onSelectFloor(this.focusIdx))}if(this.heroInfo.state==r.Idle&&(this.heroInfo.time-=t),this.chestWave.y<this.chest_target&&(this.chestWave.y+=this.chestRaise*t,this.chestWave.y>=this.chest_target&&(this.chestWave.y=this.chest_target)),this.floorGoldData.length>0)for(var i=0;i<this.floorGoldData.length;i++)1==this.floorGoldData[i].item.active&&(Math.abs(this.floorGoldData[i].velocity_x)>5||Math.abs(this.floorGoldData[i].velocity_y)>5)&&(this.floorGoldData[i].item.x+=this.floorGoldData[i].velocity_x*t*this.floorGoldData[i].direction_x,this.floorGoldData[i].item.y+=this.floorGoldData[i].velocity_y*t,this.floorGoldData[i].velocity_y-=this.floorGoldData[i].slow_y*t,this.floorGoldData[i].velocity_x-=this.floorGoldData[i].slow_x*t,this.floorGoldData[i].velocity_x<=0&&(this.floorGoldData[i].velocity_x=0),this.floorGoldData[i].item.x<this.floorGoldData[i].item.width/2-360&&(this.floorGoldData[i].item.x=this.floorGoldData[i].item.width/2-360,this.floorGoldData[i].direction_x=-this.floorGoldData[i].direction_x),this.floorGoldData[i].item.x>360-this.floorGoldData[i].item.width/2&&(this.floorGoldData[i].item.x=360-this.floorGoldData[i].item.width/2,this.floorGoldData[i].direction_x=-this.floorGoldData[i].direction_x),this.floorGoldData[i].item.y<this.floorGoldData[i].miny&&(this.floorGoldData[i].item.y=this.floorGoldData[i].miny,this.floorGoldData[i].velocity_y=.5*-this.floorGoldData[i].velocity_y,this.floorGoldData[i].velocity_y<=40&&(this.floorGoldData[i].velocity_y=0)));for(i=0;i<this.floorGoldData.length;i++)if(0==this.floorGoldData[i].item.active){var n=this.floorGoldData[i];this.floorGoldData.splice(i,1),this.floorGoldPool.push(n.item),i--}},moveToFloor:function(t){this.focusIdx=t,this.focusPos=-this.focusIdx*this.baseFloor.height,this.preFocusPos=this.baseFloor.y,this.focusTime=0,this.animaState=c},onSelectFloor:function(t){this.heroInfo.enterIdx!=++t&&(this.heroInfo.state=r.Exit,this.heroInfo.targetIdx=t)},dealOverFlow:function(){},refreshPlayInfo:function(){this.lvTxt.string=o.gamedata.masterData.lv,this.goldTxt.string=o.gamedata.masterData.gold,this.gemTxt.string=o.gamedata.masterData.gem,this.nameTxt.string=o.userdata.nickname,this.battleTxt.string=a.getMasterBattleValue(),""!=o.userdata.icon?(this.head.node.active=!0,n.createIcon(this.head,o.userdata.icon)):this.head.node.active=!1},resize:function(){var t=cc.director.getWinSizeInPixels();this.offsetY=(1600-t.height)/2,this.up.y-=this.offsetY,this.down.y+=this.offsetY},onAddGold:function(){},onHome:function(){o.ui.hide("menu"),o.ui.show("start")},onSkill:function(){o.ui.show("skill")},onSummon:function(){},onFight:function(){},onMoneyBox:function(){},getHeroFloorPos:function(t){return this.baseFloor.y+this.baseFloor.height*t+this.floorList[0].findChild("heroPoint").y+this.floor.y},getGoldFloorPos:function(t){return this.baseFloor.y+this.baseFloor.height*t+this.floor.y+170},getMonsterFloorPos:function(t){return{x:this.floorList[0].findChild("monster").x,y:this.baseFloor.y+this.baseFloor.height*t+this.floor.y+240}},heroAnimaListener:function(t){var e=this;this.heroInfo.state==r.Exit&&("idle"!=t.animation.name&&"atk2"!=t.animation.name&&"run"!=t.animation.name||(this.hero.scaleX=-1,this.heroExitTween=cc.tween(this.hero).to(.5,{x:-760}).call(function(){e.heroInfo.exitDone=!0,e.heroInfo.state=r.Enter}),this.heroExitTween.start(),this.heroInfo.state=r.Moving,this.heroAnima.clearTracks(),this.heroAnima.setAnimation(0,"run",!0))),this.heroInfo.state==r.Enter&&(this.hero.y=this.getHeroFloorPos(this.heroInfo.targetIdx),this.hero.x=-760,this.hero.scaleX=1,this.heroEnterTween=cc.tween(this.hero).to(.5,{x:-150}).call(function(){e.isMaskDrag=!1,e.heroInfo.exitDone=!1,e.heroInfo.enterReady=!1,e.heroInfo.state=r.Idle,e.heroAnima.setAnimation(0,"idle",!0),e.heroInfo.enterIdx=e.heroInfo.targetIdx}),this.heroEnterTween.start(),this.heroAnima.clearTracks(),this.heroAnima.setAnimation(0,"run",!0)),this.heroInfo.state==r.Idle&&"idle"==t.animation.name&&this.heroInfo.time<=0&&(this.heroInfo.state=r.ATK),this.heroInfo.state==r.ATK&&("atk2"!=t.animation.name?(this.heroAnima.setAnimation(0,"atk2",!1),this.heroInfo.time=2,this.scheduleOnce(this.heroAtk.bind(this),.5)):(this.heroInfo.state=r.Idle,this.heroInfo.time=2,this.heroAnima.setAnimation(0,"idle",!0)))},heroAtk:function(){if(console.log("\u6325\u5200\u5927\u529b\u51fb"),o.gamedata.chestData.cache=20,o.gamedata.chestData.cache>0)for(var t=o.gamedata.chestData.cache/10,e=0;e<t;e++){var i=null;this.floorGoldPool.length>0?i=this.floorGoldPool.pop():((i=cc.instantiate(this.floorGoldItem)).on("click",this.onClickFloorGold,this),i.parent=this.floorGoldParent),i.active=!0;var a=this.getMonsterFloorPos(this.heroInfo.enterIdx);i.x=a.x,i.y=a.y;var s={};s.item=i,s.floorIdx=this.heroInfo.enterIdx,s.miny=this.getGoldFloorPos(this.heroInfo.enterIdx),s.direction_x=n.randomAverage(),s.direction_y=1,s.velocity_x=100*Math.random()+100,s.velocity_y=140*Math.random()+180,s.slow_x=.4*s.velocity_x,s.slow_y=1200,s.timer=5,this.floorGoldData.push(s)}},collectFloorGold:function(){for(var t=function(t){cc.tween(t).to(.5,{x:0,y:-700},{easing:"backOut"}).start().call(function(){t.active=!1}).start()},e=0;e<this.floorGoldData.length;e++)this.floorGoldData[e].item.active&&t(this.floorGoldData[e].item)},onClickFloorGold:function(t){for(var e=t.node,i=this,n=0;n<this.floorGoldData.length;n++)if(this.floorGoldData[n].item._id==e._id){this.floorGoldData.splice(n,1);break}cc.tween(e).to(.5,{x:0,y:-700},{easing:"backOut"}).start().call(function(){e.active=!1,i.floorGoldPool.push(e)}).start()},genGoldToBar:function(t,e){}}),cc._RF.pop()},{"../app":"app","../common/util":"util","../platform/gameMgr":"gameMgr"}],msgbox:[function(t,e,i){"use strict";cc._RF.push(e,"969086IDp9LArFLQueR7IXM","msgbox");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.params=null;var t=this.node.getChildByName("btns");this.cancleBtn=t.getChildByName("cancle"),this.cancleBtn.on("click",this.onCancel,this),this.sureBtn=t.getChildByName("sure"),this.sureBtn.on("click",this.onSure,this),this.vedioTip=this.sureBtn.getChildByName("vedio"),this.shareTip=this.sureBtn.getChildByName("share"),this.content=this.node.getChildByName("content").getComponent(cc.RichText),this.title=this.node.getChildByName("title").getComponent(cc.Label),this.sureBtnTxt=this.sureBtn.getChildByName("txt").getComponent(cc.Label),this.cancleTxt=this.cancleBtn.getChildByName("txt").getComponent(cc.Label),this.sureBtn.on("click",this.onSure,this),this.cancleBtn.on("click",this.onCancel,this)},start:function(){},onShow:function(t){if(void 0==t)return console.error("invaild params to msgbox!"),void n.ui.hide("msgbox");this.params=t,void 0===t.vedioTip&&(t.vedioTip=!1),void 0===t.shareTip&&(t.shareTip=!1),void 0===t.showCancle&&(t.showCancle=!1),void 0===t.cancleTxt&&(t.cancleTxt="\u53d6\u6d88"),void 0===t.sureTxt&&(t.sureTxt="\u786e\u8ba4"),this.content.string=t.content,this.title.string=t.title,this.sureFunc=t.sure,this.cancleFunc=t.cancle,this.cancleBtn.active=t.showCancle,this.vedioTip.active=t.vedioTip,this.shareTip.active=t.shareTip,this.sureBtnTxt.string=t.sureTxt,this.cancleTxt.string=t.cancleTxt},onHide:function(){},onSure:function(){n.ui.hide("msgbox"),this.sureFunc&&(this.sureFunc(),this.sureFunc=null)},onCancel:function(){n.ui.hide("msgbox"),this.cancleFunc&&(this.cancleFunc(),this.cancleFunc=null)}}),cc._RF.pop()},{"../app":"app"}],native:[function(t,e,i){"use strict";cc._RF.push(e,"758722xSFBAcpy7b2VDg1f0","native"),cc._RF.pop()},{}],request:[function(t,e,i){"use strict";cc._RF.push(e,"b39cc3y85NKTrdZVEoaEvhl","request");var n=t("querystring");t("../manager/event");e.exports={post:function(t,e,i){new Array;var o=n.stringify(e);console.log("request:"+t+"?"+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<400){var t=a.responseText;if(console.log(t),""!=t){var e=JSON.parse(t);0==e.Result&&i(e)}}},a.open("POST",t,!0),a.send(o)},get:function(t,e,i){new Array;var o=n.stringify(e);console.log("request:"+t+"?"+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<400){var t=a.responseText;if(console.log(t),""!=t){var e=JSON.parse(t);0==e.Result&&i(e)}}},a.open("GET",t+"?"+o,!0),a.send(null)}},cc._RF.pop()},{"../manager/event":"event",querystring:3}],res:[function(t,e,i){"use strict";cc._RF.push(e,"75671yGFuxI9KtX5GglYtc0","res");var n=t("../common/gameConfig"),o=(t("../common/util"),{bgm:{},buffSprite:{},load:function(t){var e=0,i=n.buffContent.length;this.buffSprite=new Array;for(var o=0;o<n.buffContent.length;o++)this.buffSprite.push(""),cc.loader.loadRes("image/skill/"+o,cc.SpriteFrame,function(n,o){n&&console.error(n);var a=parseInt(o.name);this.buffSprite[a]=o,t&&t(++e/i)}.bind(this))}});e.exports=o,cc._RF.pop()},{"../common/gameConfig":"gameConfig","../common/util":"util"}],share:[function(t,e,i){"use strict";cc._RF.push(e,"c2bd0Zk2zlNIJvGFXQmr3SL","share");var n=t("../common/config"),o=t("../data/userdata"),a=(t("../platform/native"),{isCancel:!1,simulateshare:null,text:"",img:"",init:function(){if(!TTGAME){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(){if(console.log(t.isCancel),null!=t.simulateshare){var e=(new Date).getTime(),i=Math.random()<.2?6e3:3e3;WECHATGAME&&e-t.simulateshare.time<i&&(t.isCancel=!0),t.isCancel?(console.log("\u5206\u4eab\u5931\u8d25"),this.simulateshare.fail&&this.simulateshare.fail(),this.simulateshare.success&&platform.showModal({title:"\u63d0\u793a",content:"\u9080\u8bf7\u4e0d\u540c\u597d\u53cb\u624d\u53ef\u83b7\u5f97\u5956\u52b1!",confirmColor:"#3cc51f"})):(console.log("\u5206\u4eab\u6210\u529f"),t.simulateshare.success&&(t.simulateshare.success(),platform.showToast({title:"\u5206\u4eab\u6210\u529f",icon:"success",duration:2e3}),t.simulateshare=null))}else console.log("\u6ca1\u6709\u5206\u4eab,\u4e0d\u7528\u5224\u65ad");t.simulateshare=null},this)}},do:function(t,e,i,a,s,c){if(a&&(console.log(n.localversion+"|"+n.netversion),0==n.control.shareOpen||n.localversion>n.netversion))a();else{0,this.text=t,this.img=e;var r="inviteId="+o.openid;i=""==i?r:r+"&"+i,console.log("query: "+i);var h=(new Date).getTime();this.simulateshare={time:h,success:a,fail:s};var l=this;l.isCancel=!1,(WECHATGAME||QQPLAY)&&platform.shareAppMessage({title:t,imageUrl:e,query:i,cancel:function(t){l.isCancel=!0}})}}});e.exports=a,cc._RF.pop()},{"../common/config":"config","../data/userdata":"userdata","../platform/native":"native"}],skill:[function(t,e,i){"use strict";cc._RF.push(e,"7d658/u57lNpbySNvIJ9Cm9","skill");t("../common/util");var n=t("../app"),o=t("../platform/gameMgr"),a=t("../data/gametype");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.tweenContent=this.node.findChild("tweenContent"),this.closeBtn=this.node.findChild("tweenContent/closeBtn"),this.skillPointTxt=this.node.findChild("tweenContent/frame/skillPoint/num"),this.content=this.node.findChild("tweenContent/frame/scrollview/view/content"),this.item=this.content.findChild("item"),this.itemList=new Array,this.itemList.push(this.item);for(var t=0;t<6;t++){var e=cc.instantiate(this.item);this.content.addChild(e),this.itemList.push(e)}this.initSkillShow(),this.closeBtn.on("click",this.close,this),n.event.on(a.eventType.BUFF,this.showSkill,this)},initSkillShow:function(){for(var t=0;t<7;t++){var e=this.itemList[t].findChild("icon").getComponent(cc.Sprite),i=this.itemList[t].findChild("name").getComponent(cc.Label),o=this.itemList[t].findChild("detail").getComponent(cc.Label),a=this.itemList[t].findChild("iconBg");0!=t&&1!=t||(a.color=new cc.Color(116,201,255)),2==t&&(a.color=new cc.Color(255,114,158)),3!=t&&4!=t||(a.color=new cc.Color(144,255,113)),5!=t&&6!=t||(a.color=new cc.Color(185,122,248));var s=this.itemList[t].findChild("use"),c=this.itemList[t].findChild("up");e.spriteFrame=n.res.buffSprite[t],i.string=n.gameConfig.buffContent[t].name,o.string=n.gameConfig.buffContent[t].content,this.upgrade(c,t),this.select(s,t)}},onShow:function(){this.tweenContent.scaleX=0,this.tweenContent.scaleY=0,cc.tween(this.tweenContent).to(.25,{scaleX:1,scaleY:1},{easing:"backOut"}).start(),this.showSkill()},showSkill:function(){for(var t=0;t<7;t++){this.itemList[t].findChild("lv").getComponent(cc.Label).string="LV."+n.gamedata.masterData.buffLv[t],n.gamedata.masterData.selectBuff==t?(this.itemList[t].findChild("using").active=!0,this.itemList[t].findChild("use").active=!1):(this.itemList[t].findChild("using").active=!1,this.itemList[t].findChild("use").active=!0,0==n.gamedata.masterData.buffLv[t]?this.itemList[t].findChild("use").getComponent(cc.Button).interactable=!1:this.itemList[t].findChild("use").getComponent(cc.Button).interactable=!0)}},upgrade:function(t,e){t.on("click",function(){n.gamedata.masterData.buffPoint<=0?n.ui.showFloatTip("\u6280\u80fd\u70b9\u4e0d\u8db3"):o.upgradeBuff(e)},this)},select:function(t,e){t.on("click",function(){0!=n.gamedata.masterData.buffLv[e]?o.selectBuff(e):n.ui.showFloatTip("\u8bf7\u5148\u5347\u7ea7\u6280\u80fd")}.bind(this),this)},close:function(){cc.tween(this.tweenContent).to(.25,{scaleX:.5,scaleY:.5},{easing:"backOut "}).call(function(){n.ui.hide("skill")}).start()}}),cc._RF.pop()},{"../app":"app","../common/util":"util","../data/gametype":"gametype","../platform/gameMgr":"gameMgr"}],start:[function(t,e,i){"use strict";cc._RF.push(e,"45799s178RDPZkl7emCjErr","start");var n=t("../app"),o=t("../platform/gameMgr");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.rankBtn=this.node.findChild("btns/rankBtn"),this.soundBtn_on=this.node.findChild("sound/on"),this.soundBtn_off=this.node.findChild("sound/off"),this.shareBtn=this.node.findChild("btns/shareBtn"),this.startBtn=this.node.findChild("startBtn"),TTGAME&&(n.gamedata.recorder=tt.getGameRecorderManager(),n.gamedata.recorder.onStart(function(){n.gamedata.recordTimer=0,n.gamedata.isRecord=!0,console.log("\u5f00\u59cb\u5f55\u5c4f")}),n.gamedata.recorder.onStop(function(t){if(console.log("\u505c\u6b62\u5f55\u5c4f"),n.gamedata.recordTimer<=3)event.emit(event.EventType.TIP,"\u5f55\u5236\u5206\u4eab\u4e0d\u5f97\u5c11\u4e8e3\u79d2\u949f");else{n.gamedata.recordTimer=0,n.gamedata.isRecord=!1;var e=t.videoPath;tt.showModal({title:"\u63d0\u793a",content:"\u5f55\u5c4f\u6210\u529f\n\u5f55\u5236\u7684\u89c6\u9891\u53ef\u4ee5\u5206\u4eab\u54e6\uff01",confirmText:"\u5206\u4eab\u89c6\u9891",cancelText:"\u53d6\u6d88",success:function(t){t.confirm&&tt.shareVideo({videoPath:e,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")}})}})}}),n.gamedata.recorder.onError(function(t){console.log(t.errMsg)})),n.time.init(function(){o.login(),o.initChestData()}),this.isloading=!0,n.ui.showLoading(),n.res.load(this.resourceLoad.bind(this)),this.register()},register:function(){this.rankBtn.on("click",this.onRank,this),this.soundBtn_on.on("click",this.onSound,this),this.soundBtn_off.on("click",this.onSound,this),this.shareBtn.on("click",this.onShare,this),this.startBtn.on("click",this.onStart,this)},resourceLoad:function(t){t>=1&&(n.ui.hideLoading(),this.isloading=!1)},onlogined:function(){},onShow:function(t){this.soundBtn_on.active=n.audio.musicOn,this.soundBtn_off.active=n.audio.musicOff},onHide:function(t){},update:function(t){},onStart:function(){this.isloading||(n.ui.show("menu"),console.log("onstart"))},onRank:function(){},onShare:function(){},onSound:function(){n.audio.on(),this.soundBtn_on.active=n.audio.musicOn,this.soundBtn_off.active=n.audio.musicOff}}),cc._RF.pop()},{"../app":"app","../platform/gameMgr":"gameMgr"}],storage:[function(t,e,i){"use strict";cc._RF.push(e,"68d70aC795AQJEIl2L2b8Kp","storage");t("../common/config"),t("../data/userdata");e.exports={saveUserData:function(){},getUserData:function(){},getGold:function(){},saveGold:function(){}},cc._RF.pop()},{"../common/config":"config","../data/userdata":"userdata"}],subpackage:[function(t,e,i){"use strict";if(cc._RF.push(e,"73a80R53zdGIZCWB9VXSquA","subpackage"),WECHATGAME)wx.getFileSystemManager();var n=new Array,o=(new Array,{shareTexture:new Array,fishLoaded:!1,setFishImg:function(t,e){var i=this;this.loadSprite(t,function(t){i.fishImg[e]=t})},load:function(){if(WECHATGAME&&QQPlAY){var t=this;platform.loadSubpackage({name:"fish",success:function(e){console.log("\u5206\u5305\u52a0\u8f7d\u6210\u529f");for(var i=0;i<n.length;++i)t.setFishImg(n[i],i);t.fishLoaded=!0},fail:function(t){}})}},loadSprite:function(t,e){if(QQPlAY||WECHATGAME){var i=platform.createImage();i.src=t,i.onload=function(){var t=new cc.Texture2D;t.initWithElement(i),t.handleLoadedTexture(),e(new cc.SpriteFrame(t))}}}});e.exports=o,cc._RF.pop()},{}],time:[function(t,e,i){"use strict";cc._RF.push(e,"ce23eTYlO5Jk5d8AlPQPVPC","time");var n=t("../manager/request"),o=t("../common/config"),a={serviceTime:null,offset:0,update:function(t){t<.5&&(this.offset+=t)},sync:function(t){n.post(o.configUrl.url,{GetCurrentTime:""},function(e){this.serviceTime=parseInt(e.CurrentTime),this.offset=0,t&&t()})},init:function(t){this.sync(t)},now:function(){var t=this.serviceTime+this.offset;return parseInt(t)}};e.exports={sync:a.sync,init:a.init,now:a.now,update:a.update},cc._RF.pop()},{"../common/config":"config","../manager/request":"request"}],ui:[function(t,e,i){"use strict";cc._RF.push(e,"f9877TlstFIWZzubYTR0CcK","ui");var n=new Array({prefab:"float",order:51,script:"float"},{prefab:"loading",order:50,script:"loading"},{prefab:"msgBox",order:52,script:"msgbox"},{prefab:"start",order:3,script:"start"},{prefab:"gamelist",order:54,script:"gamelist"},{prefab:"guess",order:31,script:"guess"},{prefab:"menu",order:4,script:"menu"},{prefab:"skill",order:5,script:"skill"}),o=new Array,a=!1;e.exports={inited:a,show:function(t,e){void 0!=o[t]&&(o[t].node.active=!0,o[t].script&&void 0!=o[t].script.onShow&&o[t].script.onShow(e))},hide:function(t,e){void 0!=o[t]&&o[t].node.active&&(o[t].node.active=!1,o[t].script&&void 0!=o[t].script.onHide&&o[t].script.onHide(e))},isShow:function(t){if(void 0!=o[t])return o[t].node.active},load:function(t){if(a)return console.log("uimanager has been loaded"),void(void 0!=t&&t());console.log("uimanager load");var e=cc.find("Canvas");if(e.childrenCount>0)for(var i=0;i<e.childrenCount;++i)"Main Camera"!==e.children[i].name&&e.children[i].destroy();var s=new Array,c=n;for(i=0;i<c.length-1;i++)for(var r=0;r<c.length-1-i;r++)if(c[r].order>c[r+1].order){var h=c[r];c[r]=c[r+1],c[r+1]=h}for(var l in n)s[l]="prefab/view/"+n[l].prefab;cc.loader.loadResArray(s,cc.Prefab,function(e,i){e&&cc.error(e);for(var s=0;s<i.length;++s){var c=i[s].name;console.log("Load "+c+" successfully");var r=cc.instantiate(i[s]);r.name=c,o[c]={},o[c].node=r,cc.find("Canvas").addChild(r),o[c].script=r.addComponent(n[s].script),void 0==o[c].script&&console.error(c+"add component "+n[s].script+" failure")}a=!0,void 0!=t&&t()})},showFloatTip:function(t,e){void 0==e&&(e=1),void 0==t&&(t=""),this.show("float",{during:e,content:t})},showMessageBox:function(t){void 0!=t?(t.content,this.show("msgbox",t)):console.error("invaild params to msgbox")},showLoading:function(t){WECHATGAME?wx.showLoading(t):QQPLAY?qq.showLoading(t):this.show("loading",t)},hideLoading:function(){WECHATGAME?wx.hideLoading():QQPLAY?qq.hideLoading():this.hide("loading")}},cc._RF.pop()},{}],userdata:[function(t,e,i){"use strict";cc._RF.push(e,"1d8d7wiOxdIt7icx23FBxY5","userdata");e.exports={openid:"",nickname:"\u6e38\u5ba2",icon:"",isLogin:!1,isInvite:!1,inviteId:""},cc._RF.pop()},{}],util:[function(t,e,i){"use strict";cc._RF.push(e,"1d143eaIW9OLLEegjjkLnkf","util");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};String.prototype.format=function(){if(0==arguments.length)return this;var t=arguments[0],e=this;if("object"==(void 0===t?"undefined":n(t))){for(var i in t)e=e.replace(new RegExp("\\{"+i+"\\}","g"),t[i]);return e}for(var o=0;o<arguments.length;o++)e=e.replace(new RegExp("\\{"+o+"\\}","g"),arguments[o]);return e},cc.Node.prototype.findChild=function(t,e){for(var i=t.split("/"),n=this,o=this,a=0;a<i.length;++a)n=o=n.getChildByName(i[a]);return void 0!=e&&(o=o.getComponent(e)),o},Date.prototype.timestamp=function(){return Math.floor((new Date).getTime()/1e3)};var o={audio:void 0,unique:function(t){for(var e=new Array,i=0;i<t.length;i++)-1===t.indexOf(t[i],i+1)&&e.push(t[i]);return e},unOrderSort:function(t){return t=t.sort(function(){return Math.random()>.5?-1:1})},bubbleSort:function(t,e){if("object"==n(t[0])){for(var i=0;i<t.length-1;i++)for(var o=0;o<t.length-1-i;o++)if(t[o][e]>t[o+1][e]){var a=t[o];t[o]=t[o+1],t[o+1]=a}}else for(i=0;i<t.length-1;i++)for(o=0;o<t.length-1-i;o++)if(t[o]>t[o+1]){a=t[o];t[o]=t[o+1],t[o+1]=a}},createIcon:function(t,e,i){if(WECHATGAME||QQPLAY||TTGAME||VIVO){var n=(WECHATGAME?wx:QQPLAY?qq:TTGAME?tt:qg).createImage();n.onload=function(){var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(e)},n.onerror=function(t){i&&i()},n.src=e}else if(NATIVE)cc.loader.load(e,function(e,i){var n=new cc.SpriteFrame(i);t.spriteFrame=n});else{var o=document.createElement("image");o.style.width="120px",o.style.height="120px",o.setAttribute("src",e);var a=new cc.Texture2D;a.initWithElement(o),a.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(a)}},csv2Json:function(t){for(var e=[],i=t.split("\n"),n=i[0].split(","),o=1;o<i.length;++o){var a={},s=i[o].split(",");if(s.length==n.length){for(var c=0;c<n.length;++c){var r=n[c].trim().replace(/\"/g,""),h=s[c].trim().replace(/\"/g,"");Object.defineProperty(a,r,{value:h})}e.push(a)}}return e},sec2hhmmss:function(t){var e=Math.floor(t/3600),i=Math.floor(t/60)%60,n=t%60;return e+":"+(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)},isInside:function(t,e){var i=t.x,n=t.y,o=e;return i>o.x-o.width/2&&i<o.x+o.width/2&&n<o.y+o.height/2&&n>o.y-o.height/2},transAxis:function(t){var e=cc.winSize,i=cc.view.getFrameSize(),n=e.width,o=n*i.height/i.width;return new cc.Vec2(t.x-n/2,t.y-o/2)},system:null,createAuthBtn:function(t){(WECHATGAME||QQPLAY)&&null==this.system&&(this.system=platform.getSystemInfoSync());var e=this.system.screenWidth/5,i=1.25*e,n=this.system.screenHeight/2-3.52*i,o=platform.createUserInfoButton({type:"text",text:"",style:{left:0,top:n,width:e,height:i,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});o.onTap(function(e){var i=e.userInfo;void 0!=i&&(o.hide(),t(i))})},getQuakeAnim:function(){return cc.repeatForever(cc.sequence(cc.rotateBy(.1,-10),cc.rotateBy(.1,20),cc.rotateBy(.1,-20),cc.rotateBy(.1,20),cc.rotateBy(.1,-10),cc.scaleTo(2,1,1)))},getFloatAnim:function(){return cc.repeatForever(cc.sequence(cc.moveBy(.7,cc.v2(0,30)),cc.moveBy(.7,cc.v2(0,-30))))},getBreathAnima:function(){return cc.repeatForever(cc.sequence(cc.scaleTo(.2,1.1,1.1),cc.scaleTo(.2,1,1),cc.scaleTo(.2,.9,.9),cc.scaleTo(.2,1,1)))},randomAverage:function(){return Math.random()>.5?-1:1},lerp:function(t,e,i){return i<0&&(i=0),i>1&&(i=1),t+(e-t)*i}};e.exports=o,cc._RF.pop()},{}]},{},["app","config","gameConfig","util","gamedata","gametype","guidedata","userdata","main","audio","event","request","res","storage","subpackage","time","ui","ad","gameMgr","launch","native","share","collider","float","gamelist","guess","loading","menu","msgbox","skill","start"]);