window.__require=function t(i,e,n){function s(o,r){if(!e[o]){if(!i[o]){var c=o.split("/");if(c=c[c.length-1],!i[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+o+"'")}}var l=e[o]={exports:{}};i[o][0].call(l.exports,function(t){return s(i[o][1][t]||t)},l,l.exports,t,i,e,n)}return e[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,i,e){"use strict";function n(t,i){return Object.prototype.hasOwnProperty.call(t,i)}i.exports=function(t,i,e,a){i=i||"&",e=e||"=";var o={};if("string"!=typeof t||0===t.length)return o;var r=/\+/g;t=t.split(i);var c=1e3;a&&"number"==typeof a.maxKeys&&(c=a.maxKeys);var h=t.length;c>0&&h>c&&(h=c);for(var l=0;l<h;++l){var p,d,m,g,f=t[l].replace(r,"%20"),u=f.indexOf(e);u>=0?(p=f.substr(0,u),d=f.substr(u+1)):(p=f,d=""),m=decodeURIComponent(p),g=decodeURIComponent(d),n(o,m)?s(o[m])?o[m].push(g):o[m]=[o[m],g]:o[m]=g}return o};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],2:[function(t,i,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};i.exports=function(t,i,e,r){return i=i||"&",e=e||"=",null===t&&(t=void 0),"object"==typeof t?a(o(t),function(o){var r=encodeURIComponent(n(o))+e;return s(t[o])?a(t[o],function(t){return r+encodeURIComponent(n(t))}).join(i):r+encodeURIComponent(n(t[o]))}).join(i):r?encodeURIComponent(n(r))+e+encodeURIComponent(n(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,i){if(t.map)return t.map(i);for(var e=[],n=0;n<t.length;n++)e.push(i(t[n],n));return e}var o=Object.keys||function(t){var i=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}},{}],3:[function(t,i,e){"use strict";e.decode=e.parse=t("./decode"),e.encode=e.stringify=t("./encode")},{"./decode":1,"./encode":2}],achieve:[function(t,i,e){"use strict";cc._RF.push(i,"4d11bDwnONKJ5X4j1oP40mA","achieve");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.item=this.node.findChild("scrollView/view/content/item"),this.content=this.node.findChild("scrollView/view/content"),this.closeBtn=this.node.findChild("closeBtn"),this.confirm=this.node.findChild("confrim"),this.maskBtn=this.node.findChild("confrim/bg"),this.showItem=this.node.findChild("confrim/item"),this.item.name="0",this.sendBtn=this.node.findChild("confrim/send"),this.begBtn=this.node.findChild("confrim/beg"),this.progressTxt=this.node.findChild("progress/txt").getComponent(cc.Label),this.progressImg=this.node.findChild("progress/progress").getComponent(cc.Sprite),this.itemList=new Array,this.itemList.push(this.item),this.regiser()},regiser:function(){this.closeBtn.on("click",function(){n.ui.hide("achieve")},this),this.item.on("click",this.onClickItem,this),this.maskBtn.on("click",this.onCancle,this),this.sendBtn.on("click",this.onSend,this),this.begBtn.on("click",this.onBeg,this),n.event.on(n.gametype.eventType.REFRESHSTAMP,this.onShow,this)},onShow:function(){for(var t=0,i=0;i<n.userdata.stamp.length;i++)1==n.userdata.stamp[i]&&t++;this.progressTxt.string=t+"/30",this.progressImg.fillRange=t/30,this.confirm.active=!1,n.event.emit(n.gametype.eventType.READSTAMP);for(i=0;i<n.gamedata.stampSpriteFrameList.length-1;i++){var e=this.itemList[i];e||(e=cc.instantiate(this.itemList[0]),this.itemList.push(e),this.content.addChild(e),e.name=""+i,e.on("click",this.onClickItem,this)),e.active=!0,1==n.userdata.stamp[i]?(e.findChild("lock").active=!1,e.findChild("numItem").active=!0,e.findChild("numItem/num").getComponent(cc.Label).string=n.userdata.stampList[i]):(e.findChild("lock").active=!0,e.findChild("numItem").active=!1),e.findChild("icon").getComponent(cc.Sprite).spriteFrame=n.gamedata.stampSpriteFrameList[i+1]}n.ad.showBannerAd()},onClickItem:function(t){var i=parseInt(t.target.name);this.selectIdx=i,1==n.userdata.stamp[i]?this.showSendPanel():this.showBegPanel()},onHide:function(){n.ad.hideBannerAd(),n.ad.showInsertAd()},onCancle:function(){this.confirm.active=!1},showSendPanel:function(){this.confirm.active=!0;var t=this.showItem.findChild("icon").getComponent(cc.Sprite);this.showItem.findChild("lock").active=!1,t.spriteFrame=n.gamedata.stampSpriteFrameList[this.selectIdx+1],this.showItem.findChild("numItem").active=!0,this.showItem.findChild("numItem").findChild("num").getComponent(cc.Label).string=n.userdata.stampList[this.selectIdx],this.sendBtn.active=!0,this.begBtn.active=!1},showBegPanel:function(){this.showItem.findChild("icon").getComponent(cc.Sprite).spriteFrame=n.gamedata.stampSpriteFrameList[this.selectIdx+1],this.confirm.active=!0,this.showItem.findChild("lock").active=!0,this.showItem.findChild("numItem").active=!1,this.begBtn.active=!0,this.sendBtn.active=!1},onClosePanel:function(){this.confirm.active=!1},onSure:function(){},onSend:function(){if(n.userdata.stampList[this.selectIdx]<=1)n.ui.showFloatTip("\u6570\u91cf\u4e0d\u8db3");else{var t=this;n.getShareId(function(i){var e=i.AutoID;t.selectIdx;n.userdata.stampList[t.selectIdx]--;var s=n.config.gameConfig.stampName[t.selectIdx],a=["\u6211\u8fd9\u6709\u591a\u4f59\u7684["+s+"]\u90ae\u7968\uff0c\u6709\u8c01\u8981\u7684\u53ef\u4ee5\u62ff\u53bb\uff01","\u5927\u5bb6\u4e00\u8d77\u6765\u96c6\u90ae\uff01["+s+"]\u90ae\u7968\uff0c\u62ff\u53bb\u5427\uff01"],o=Math.floor(2*Math.random()),r=t.selectIdx+1,c=cc.url.raw("resources/image/stamp/"+r+".png"),h="shareId="+e+"&stampId="+t.selectIdx;t.onShow(),n.share.do(a[o],c,h)})}},onBeg:function(){var t=n.config.gameConfig.stampName[this.selectIdx],i=Math.floor(Math.random()*n.gamedata.shareData.length),e=Math.floor(Math.random()*n.gamedata.shareData[i].length),s="\u5c31\u5dee\u8fd9\u5f20["+t+"]\u90ae\u7968\u4e86\uff0c\u8c01\u7ed9\u6211\u4e00\u5f20\uff01";n.share.do(s,n.gamedata.shareData[i][e].img)}}),cc._RF.pop()},{"../app":"app"}],ad:[function(t,i,e){"use strict";cc._RF.push(i,"a2f16MrKjBEorVoKQebbnCs","ad");var n={banner:null,bannerDuring:0,bannerCheck:0,videoad:null,videoLoaded:!1,videoCB:null,videoduring:null,interstitialad:null,load:function(){(WECHATGAME||QQPLAY)&&(this.createVideo(),this.createBanner(),this.createInterstitial())},createVideo:function(){if(WECHATGAME||QQPLAY){var t=this;this.videoad=ctt.createRewardedVideoAd({adUnitId:"adunit-5ba9b95931900205"}),this.videoad.load().then(function(){}).catch(function(t){console.log("\u9996\u6b21\u62c9\u53d6\u8f7d\u6fc0\u52b1\u89c6\u9891\u5931\u8d25")}),this.videoduring=0,this.videoLoaded=!1,this.videoad.onLoad(function(){console.log("\u6210\u529f\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891"),t.videoLoaded=!0}),this.videoad.onError(function(){t.videoLoaded=!1,t.videoCB=null,t.videotype=null}),this.videoad.onClose(function(i){console.log("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed"),t.bannershowing&&t.banner.show(),i&&i.isEnded||void 0===i?null!=t.videoCB&&t.videoCB():t.videotype,t.videoCB=null,t.videotype=null})}},createBanner:function(){var t=ctt.getSystemInfoSync(),i=t.screenWidth,e=t.screenHeight,n=Math.min(i,720);i/e>.5625&&(n=.7*i);var s=n/3,a=(i-n)/2,o=e-s-2;WECHATGAME&&(this.banner=ctt.createBannerAd({adUnitId:"adunit-b0b9e29a179ec68f",style:{left:a,top:o,width:n,height:s}}));var r=this;null!=this.banner&&(this.banner.onLoad(function(){r.bannershowing&&r.banner.show(),console.log("\u6210\u529f\u52a0\u8f7dbanner\u5e7f\u544a")}),this.banner.onError(function(){console.error("create banner error")}))},createInterstitial:function(){this.interstitialad=wx.createInterstitialAd({adUnitId:"adunit-6ccdb687b5f4e9ab"}),console.log("\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a")},update:function(t){if(this.videoduring+=t,WECHATGAME){if(!this.videoLoaded&&this.videoduring>10){console.log("\u68c0\u6d4b\u89c6\u9891");var i=this;this.videoad.load().then(function(){i.videoLoaded=!0,event.emit("videoAdLoaded"),console.log("\u6210\u529f\u52a0\u8f7d\u6fc0\u52b1\u89c6\u9891 update")}).catch(function(t){console.log("\u62c9\u53d6\u5e7f\u544a\u5931\u8d25")}),this.videoduring=0}this.bannerCheck+=t,this.bannerCheck>2&&(this.bannershowing||this.hideBannerAd(),this.bannerCheck=0)}},isVideoLoaded:function(){return this.videoLoaded},showVideoAd:function(t,i){if(console.log("showVideoAd"),WECHATGAME){var e=this,n=function(){e.videoLoaded=!1,e.videoCB=null,ctt.showModal({title:"\u63d0\u793a",content:"\u52a0\u8f7d\u89c6\u9891\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5",showCancel:!1,cancelText:"",confirmText:"\u786e\u5b9a",success:function(t){}}),e.videoad.load()};this.videoLoaded?(this.videoCB=t,this.videoad.show().catch(function(t){n()}),this.videotype=i,this.hideBannerAd()):n()}},showBannerAd:function(){(WECHAT||QQPLAY)&&null!=this.banner&&(this.banner.show(),this.bannershowing=!0)},showInsertAd:function(){(WECHAT||QQPLAY)&&this.interstitialad&&this.interstitialad.show()},hideBannerAd:function(){(WECHAT||QQPLAY)&&null!=this.banner&&(this.banner.hide(),this.bannershowing=!1)}};i.exports=n,cc._RF.pop()},{}],app:[function(t,i,e){"use strict";cc._RF.push(i,"44d30a3d1FHlbb1KZWSp6Au","app");var n=t("./manager/ui"),s=t("./manager/event"),a=t("./manager/audio"),o=t("./manager/request"),r=(t("./manager/storage"),t("./manager/subpackage"),t("./manager/time")),c=t("./manager/res"),h=t("./platform/ad"),l=(t("./platform/friendrank"),t("./platform/launch")),p=t("./platform/login"),d=t("./platform/share"),m=t("./data/userdata"),g=t("./data/relatedata"),f=t("./data/gamedata"),u=t("./data/gametype"),y=t("./logic/formula"),v=t("./common/config"),w=t("./common/protocol"),C=t("./common/util"),S={init:function(t){l.init(),h.load(),a.init(),r.init(o),n.load(t),c.load(),d.init()},update:function(t){this.fixedUpdate.do(t)},login:function(t){p.login(t)},updateGold:function(t,i){p.updateGold(t,i)},postResult:function(t){p.postResult(m.roundScore,m.gainGold,t)},getWorldRank:function(t,i){p.getWorldRanking(t,i)},getGameList:function(t){p.getGameList(t)},getFriendCount:function(){p.requestFriendCount()},getShareId:function(t){o.post(v.configUrl.url,{CreateShare:""},function(i){console.log(i),t&&t(i)})},share:d,launch:l,ad:h,ui:n,event:s,audio:a,request:o,res:c,time:r,userdata:m,relatedata:g,gamedata:f,gametype:u,formula:y,proto:w,config:v,util:C,fixedUpdate:{list:[],add:function(t,i,e){this.list.push({idx:t,func:i,field:e})},remove:function(t){for(var i=0;i<this.list.length;++i){if(this.list[i].idx==t){this.list.splice(t,1);break}}},do:function(t){0!=this.list.length&&this.list.forEach(function(i){"function"==typeof i.func&&i.func.call(i.field,t)})}}};i.exports=S,cc._RF.pop()},{"./common/config":"config","./common/protocol":"protocol","./common/util":"util","./data/gamedata":"gamedata","./data/gametype":"gametype","./data/relatedata":"relatedata","./data/userdata":"userdata","./logic/formula":"formula","./manager/audio":"audio","./manager/event":"event","./manager/request":"request","./manager/res":"res","./manager/storage":"storage","./manager/subpackage":"subpackage","./manager/time":"time","./manager/ui":"ui","./platform/ad":"ad","./platform/friendrank":"friendrank","./platform/launch":"launch","./platform/login":"login","./platform/share":"share"}],audio:[function(t,i,e){"use strict";cc._RF.push(i,"4447dZ0h+9OWaTj+wTlSPr7","audio");var n=t("../manager/res"),s={},a={musicOn:!0,soundType:{soso:"normal",double:"double",high:"highScore",damage:"damage",spring:"spring",fail:"fail",gainGold:"gainGold",click:"btnclick",fly:"fly",result:"result",getHeart:"hp",getScoreProp:"score",xiu:"xiu",stampShow:"stampShow",countdown:"321",go:"go"},bgmType:{start:"bgm",game:"beijing"},init:function(){var t=cc.sys.localStorage.getItem("music");this.musicOn=""===t||null===t||1==t},on:function(){this.musicOn=!this.musicOn,0==this.musicOn?this.stopBgm():this.playBgm(this.bgmType.start),cc.sys.localStorage.setItem("music",this.musicOn?1:0)},playEffect:function(t){if(this.musicOn)if(void 0==s[t]){if(""==t)return;cc.loader.loadRes("audios/"+t,function(i,e){s[t]=e,cc.audioEngine.playEffect(e,!1)})}else cc.audioEngine.playEffect(s[t],!1)},playBgm:function(t){this.musicOn&&(void 0==n.bgm[t]?cc.loader.loadRes("audios/"+t,function(i,e){i&&console.log(i),n.bgm[t]=e,cc.audioEngine.playMusic(e,!0)}):cc.audioEngine.playMusic(n.bgm[t],!0))},stopBgm:function(){cc.audioEngine.stopAll()}};i.exports=a,cc._RF.pop()},{"../manager/res":"res"}],collider:[function(t,i,e){"use strict";cc._RF.push(i,"163dcL29bRH+Z9zmLKL2LgC","collider");var n=t("../manager/event"),s=t("../data/gametype");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.enterEvtList=new Array,this.stayEventList=new Array,this.exitEventList=new Array},registerEnterEvt:function(t){this.enterEvtList.push(t)},registerStayEvt:function(t){this.stayEventList.push(t)},registerExitEvt:function(t){this.exitEventList.push(t)},onCollisionEnter:function(t,i){n.emit(s.eventType.TRIGGERENTER,[t,i])},onCollisionStay:function(t,i){n.emit(s.eventType.TRIGGERSTAY,[t,i])},onCollisionExit:function(t,i){n.emit(s.eventType.TRIGGEREXIT,[t,i])}}),cc._RF.pop()},{"../data/gametype":"gametype","../manager/event":"event"}],config:[function(t,i,e){"use strict";cc._RF.push(i,"bc258tnWaBOLaz5GeXJ3vLL","config"),window.QQPLAY="undefined"!=typeof qq,window.TTGAME="undefined"!=typeof tt,window.WECHATGAME="undefined"!=typeof wx&&"undefined"==typeof qq&&"undefined"==typeof tt,window.VIVO="undefined"!=typeof qg,window.IOS=cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS,window.ANDROID=cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID,window.NATIVE=IOS||ANDROID,"undefined"!=typeof wx&&(window.ctt=wx),"undefined"!=typeof qq&&(window.ctt=qq);var n={normal:[],find:[],judge:[],lost:[]},s={appID:"1109792590",QQ_appID:"",tt_appID:"",localversion:8,netversion:0,gameSvrUrl:WECHATGAME||QQPLAY||TTGAME||VIVO||NATIVE?"":"http://localhost:8887",configUrl:{gamelist:"https://list.ty200772.com/GameList.aspx",share:"https://list.ty200772.com/CopywritingList.aspx",control:"https://list.ty200772.com/GetGameControlInfo.aspx",url:"https://z1.shaoweiwy.cn/SpaceBounce/Bounce.aspx"},control:{},doc:n,getdoc:function(t){var i=n[t],e=i.length,s=Math.floor(Math.random()*e);void 0==i[s]&&(i[s]={},i[s].text="\u6765,\u6765~",i[s].img="");var a=i[s].text,o=i[s].img;return{text:a,img:null!=o.match("resources")?cc.url.raw(o):o}},gamelist:{},gameConfig:{relivePrice:20,platformScore:10,specialScore:100,scoreBuffLastTime:10,flyBuffLastTime:3,stampName:["\u8822\u54ed\u9e2d","\u52a0\u6cb9\u9e2d","\u5c31\u5f88\u76ae","\u5403\u9cb8","\u51b2\u9e2d","\u751c\u8fc7\u521d\u604b","\u8d4f\u4f60\u4e86","\u8ba9\u6211\u9759\u9759","\u6697\u4e2d\u89c2\u5bdf","\u8d4f\u9e21\u817f","\u51b0\u7cd6\u846b\u82a6","\u75af\u72c2\u6253call","\u98ce\u96e8\u65e0\u963b","\u8d85\u71c3","\u62dc\u62dc","\u597d\u55e8\u5440","\u8981\u996d\u4e2d","\u6765\u4eba\u62a4\u9a7e","\u53cc\u5b50\u5ea7","\u91d1\u725b\u5ea7","\u767d\u7f8a\u5ea7","\u5904\u5973\u5ea7","\u72ee\u5b50\u5ea7","\u5de8\u87f9\u5ea7","\u5c04\u624b\u5ea7","\u5929\u874e\u5ea7","\u5929\u79e4\u5ea7","\u53cc\u9c7c\u5ea7","\u6c34\u74f6\u5ea7","\u6469\u7faf\u5ea7"],friendReward:[{num:1,gold:50},{num:2,gold:200},{num:3,gold:500},{num:5,gold:1e3},{num:10,gold:2e3}]},skinConfig:[{name:"\u6dd8\u5c0f\u67ab",isDefault:!0,content:"\u65e0\u6548\u679c",skill:0,img:"1",skillImg:"",jumpImg:"1-2",skillJumpImg:"",price:0,vedio:0,share:0,hp:2},{name:"\u673a\u7532\u67ab",isDefault:!1,content:"\u5f00\u5c40\u51b2\u523a",img:"2",skillImg:"2-1",jumpImg:"2-2",skillJumpImg:"",skill:1,price:0,vedio:1,share:1,hp:2},{name:"\u8d22\u795e\u9e2d",isDefault:!1,content:"\u6bcf\u6b21\u5f39\u8df3\u6982\u7387\u4ea7\u751f\u91d1\u5e01",img:"6",skillImg:"",jumpImg:"6-2",skillJumpImg:"",vedio:0,share:0,skill:3,price:200,hp:2},{name:"\u76ae\u76ae\u67ab",isDefault:!1,content:"\u751f\u547d\u52a0\u6210/\u6bcf\u6b21\u5f39\u8df3\u6982\u7387\u4ea7\u751f\u90ae\u7968",img:"4",skillImg:"",jumpImg:"4-2",skillJumpImg:"",skill:5,price:500,vedio:0,share:0,hp:4},{name:"\u5c0f\u821e\u897f",isDefault:!1,content:"\u5206\u6570\u7ffb\u500d",img:"3",skillImg:"",jumpImg:"3-2",skillJumpImg:"",skill:2,vedio:0,share:0,price:1e3,hp:2},{name:"\u9a91\u9e2d\u5440",isDefault:!1,content:"\u6b7b\u540e\u590d\u6d3b",img:"5",skillImg:"5-1",jumpImg:"5-2",skillJumpImg:"5-3",vedio:0,share:0,skill:4,price:2e3,hp:2}],robotData:[{name:"\u8d75\u5927\u559c\u5440",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto237bq2j302a02a743.jpg"},{name:"\u8d75\u5c0f\u7c92",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto4jdpibj302a02aa9u.jpg"},{name:"\u4e2b\u4e2b",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto27b5pqj302a02aa9u.jpg"},{name:"\u7ef4\u5a1c",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto4lnd4aj302a02aa9u.jpg"},{name:"only",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto4orhqvj302a02aa9u.jpg"},{name:"\u5c0f\u73b2\u5b50",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto4qr7ugj302a02ajr6.jpg"},{name:"A hero",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto0ippr8j302a02adfm.jpg"},{name:"A my girl",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto0oqthuj302a02aa9u.jpg"},{name:"A_yan",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto0vrazcj302a02aq2q.jpg"},{name:"Power.",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto12fgd0j302a02a0sj.jpg"},{name:"Tina",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxto16o94bj302a02ajr6.jpg"},{name:"C.c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1bdmuwj302a02aa9v.jpg"},{name:"\u90b1\u563f\u563f",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto1lkxtvj302a02a3yb.jpg"},{name:"Cbaby",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1qcw92j302a02agle.jpg"},{name:"\u751c\u9152",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxto1v1mr6j302a02ajr6.jpg"},{name:"Bella fu",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnyzby8ij302a02adfm.jpg"},{name:"\u5012\u5438\u4e00\u53e3\u51c9\u6c14\u541b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnz30midj302a02aa9u.jpg"},{name:"\u9648\u5c0f\u767d\u767d",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnz9fat8j302a02a742.jpg"},{name:"\u9648\u5c34\u5c2c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzdoieoj302a02aa9u.jpg"},{name:"\u6d77\u71d5\u5450",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnzjvfdbj302a02at8i.jpg"},{name:"\u614c\u5f20\u5c0f\u59d0\u59d0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzonc6mj302a02a3ya.jpg"},{name:"\u5976\u6cb9\u5c0f\u997c\u5e72",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnzrrg8mj302a02at8i.jpg"},{name:"Nine",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxto04f3dlj302a02aweb.jpg"},{name:"yoyoliu",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxto08v80fj302a02awea.jpg"},{name:"\u4eb2\u7231\u7684\u8d75\u5c0f\u59d0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnxxtsv6j302x02x743.jpg"},{name:"Riki",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtny0h145j301u01u0si.jpg"},{name:"\u590f\u672b\u521d\u51c9",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtny30ysij302a02aa9u.jpg"},{name:"\u5446\u732b.",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtny6fodpj302f02fgle.jpg"},{name:"X.",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtny9q0n3j302a02ajr6.jpg"},{name:"A.Yoho",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnyd9igaj302a02ajr6.jpg"},{name:"\u7c73\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtnyhblkpj302a02adfm.jpg"},{name:"\u5948\u7f8e\u554a",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnylt0pwj302a02a742.jpg"},{name:"Bling",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtnyrj27jj302a02adfm.jpg"},{name:"\u5c0f\u9896\u5b50",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx09r4ij302a02ajr6.jpg"},{name:"\u7c73\u5a1c",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx1t761j302a02aa9u.jpg"},{name:"Joc\u997c\u5e72",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnx3c98oj302a02amwy.jpg"},{name:"\u59da\u5c0f\u803f",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fxtnx525v4j302a02amwy.jpg"},{name:"\u67da\u80a5\u80a5",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnx6r1mij302a02a3ya.jpg"},{name:"\u8335\u8335\u8335\u513f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fxtnx8dsjxj301r01rq2p.jpg"},{name:"\u6dfc\u6dfc",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnxa2751j302f02fjr6.jpg"},{name:"\u6167\u51cc\u554a",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fxtnxbl1cxj301u01u3ya.jpg"},{name:"Dany",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fxtnxepsdpj303a03a0sj.jpg"},{name:"\u3002",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt5esw8lj3046046web.jpg"},{name:"\uff01",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt5j2ceej3046046wed.jpg"},{name:"\u5927\u9505",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt5mi2dgj3046046web.jpg"},{name:"\u5c0f\u9505",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt5ppvmuj3046046aa2.jpg"},{name:"\u5927\u5173",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt5t7o8uj30460460sm.jpg"},{name:"\u5c0f\u5173",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt5w0cz1j3046046mx1.jpg"},{name:"\u5c0f\u660e",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt5zihdfj3046046wef.jpg"},{name:"Arvin",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt634pzdj3046046a9x.jpg"},{name:"Bruce",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt668szoj3046046q2x.jpg"},{name:"\u4e09\u91cc\u5c6f\u53e4\u5de8\u57fa",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4fqlevj3046046t8l.jpg"},{name:"\u4e50\u4e50",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt4jc0vzj3046046dfr.jpg"},{name:"\u94a2\u94c1\u867e",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4nbxy3j30c80bwmxw.jpg"},{name:"\u8759\u8760\u867e",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4rhvpkj30460463ye.jpg"},{name:"\u9648\u6a59\u6a59",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt4uf2ahj30460463yd.jpg"},{name:"Link",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt4wgx6rj3046046wec.jpg"},{name:"BiuBiu",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt54538dj30c80c8t8v.jpg"},{name:"amu\u963f\u6728",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt55y6exj3046046745.jpg"},{name:"\u827e\u59c6",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt38orffj30c80c80sy.jpg"},{name:"\u9ec4bar\u5929",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt3ckowpj30c80c8mxe.jpg"},{name:"\u4ec5\u6709",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3fngslj30c80c80t7.jpg"},{name:"\u7b26\u53f7",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt3mczouj30c80c8js5.jpg"},{name:"\u7cef\u7c73\u4ed4",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3qddqvj30c80c8ac1.jpg"},{name:"\u89e3\u5fe7\u5c0f\u5e03\u4e01",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt3tzx45j3046046t8m.jpg"},{name:"\u5446\u5341\u4e09",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt3yh5nvj30460463yb.jpg"},{name:"\u5c0f\u9a6c\u7532",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt426ns8j30460463yc.jpg"},{name:"\u6587\u5ba4\u957f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt46znpfj30a00hddgp.jpg"},{name:"\u5c0f\u6ce1\u996d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt22w89aj3046046q2u.jpg"},{name:"\u732b\u5c0f\u5317",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt26mtikj3046046jra.jpg"},{name:"\u8c46\u8c46",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt29qjp9j30460460sm.jpg"},{name:"\u6bd4\u514b\u8857",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2ehmo9j3046046glj.jpg"},{name:"\u963f\u83ab",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2ismbrj30c80c80tf.jpg"},{name:"\u5ddd\u5f1f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt2nx5gyj30c80c8mxv.jpg"},{name:"\u5c0f\u867e\u7c73",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt2qehkvj30c80c8dgf.jpg"},{name:"\u670b\u514b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt2vr9eaj30c80c8dgl.jpg"},{name:"\u76d6\u5b50",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt2zpte5j30c80c8jrr.jpg"},{name:"\u5f6d\u5f6d",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt0unxb1j3046046q2t.jpg"},{name:"\u95f9\u54ea\u6837",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt11h7obj3046046746.jpg"},{name:"\u963f\u5927",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt15e52yj30460460sn.jpg"},{name:"\u6389\u4ef7\u884c\u4e3a",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt18hf1pj3046046t8l.jpg"},{name:"\u963f\u590f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt1d2x2vj3046046q2u.jpg"},{name:"\u732b\u5b81",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpt1fih5hj3046046t8l.jpg"},{name:"\u68a6\u663c\u521d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1kdg7pj3046046mx2.jpg"},{name:"\u4e01\u683c",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1p7d7dj3046046mx2.jpg"},{name:"\u9876\u70b9",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt1stnhmj3046046q2u.jpg"},{name:"\u5c1b\u5c1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpszrdlntj3046046jr9.jpg"},{name:"\u6dfc\u6dfc",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpszv0ifzj3046046gli.jpg"},{name:"\u68ee\u68ee",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpszx8hh0j3046046glh.jpg"},{name:"\u7131\u7131",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt00dag5j3046046glh.jpg"},{name:"\u6e9c\u6e9c\u7403",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt03z4gqj3046046mx3.jpg"},{name:"\u5927\u5927\u7cd6",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpt07ght5j3046046a9y.jpg"},{name:"\u9ea6\u5f53\u7eb3",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpt0ar4rxj30460463yd.jpg"},{name:"\u738b\u601d\u8471",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt0du6fmj30460460sm.jpg"},{name:"\u5df4\u5df4",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpt0h1b34j3046046mx1.jpg"},{name:"\u9ebb\u9ebb",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsyj5jqyj3046046mx3.jpg"},{name:"\u76db\u5347\u5347",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsym90zxj3046046t8l.jpg"},{name:"\u5c0f\u767d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsyqhkpjj3046046mx5.jpg"},{name:"\u5927\u767d",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsyus3i7j3046046dfr.jpg"},{name:"\u5e18\u5916\u96e8",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsyx8zbmj3046046jr8.jpg"},{name:"\u5c0f\u9ed1",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsyzugguj3046046glf.jpg"},{name:"\u5927\u9ed1",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsz4x2vwj30460463ye.jpg"},{name:"\u563f\u563f",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpszb9dy5j30460463yf.jpg"},{name:"\u51ef\u51ef",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpszeujdwj3046046t8l.jpg"},{name:"\u5c0f\u51ef",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpss03jg4j3046046mx0.jpg"},{name:"\u5927\u51ef",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsxe8a7pj3046046mx2.jpg"},{name:"\u9ad8\u8d31i",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsxfsxzoj3046046glg.jpg"},{name:"\u5927\u6d77",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsxk4osij30460460sl.jpg"},{name:"\u9510",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsxop8msj3046046jr8.jpg"},{name:"\u5c0f\u667a",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsxv5qk4j30460463yf.jpg"},{name:"\u667a\u667a",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsxykrkuj30460463yf.jpg"},{name:"\u5c0f\u8896\u73cd",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsy0xevnj3046046q2t.jpg"},{name:"\u590f\u590f",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsy5tf29j3046046wee.jpg"},{name:"\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqmsqibj3046046mwz.jpg"},{name:"\u7c92\u7c92",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqr2p0ij3046046glh.jpg"},{name:"\u83ca\u82b1\u8336",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsqudee6j3046046a9x.jpg"},{name:"\u80a5\u80a5",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsqxhwv1j3046046746.jpg"},{name:"\u5c0f\u80d6",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsqzt9aej3046046q2t.jpg"},{name:"\u5927\u80d6",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsr3okpgj3046046a9y.jpg"},{name:"\u5927\u5934",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsr6pri2j3046046t8k.jpg"},{name:"\xb0\u51c9\u5fc3\u3002",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsrg9lsej30460460sl.jpg"},{name:"\u5c0f\u6587",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsrix90uj3046046q2s.jpg"},{name:"\u963f\u6587\u6587",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpspwm46sj3046046glf.jpg"},{name:"\u667a\u5546\u5df2\u6b20\u8d39\xb0",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspxtnvaj3046046wed.jpg"},{name:"\u6d1b\u6d1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspzyydbj30b40b4mxm.jpg"},{name:"\u6d1b\u514b",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsq1sr8sj30b40b4dge.jpg"},{name:"\u5c0f\u7f57",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsq3o40rj30b40b43ys.jpg"},{name:"\u7231\u8fc7\u90a3\u5f20\u8138@",icon:"https://wx1.sinaimg.cn/mw690/006ys9Gfgy1fzpsq7vomij30b40b474j.jpg"},{name:"\u5c0f\u6d1b",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsqbiu2aj30b40b43yq.jpg"},{name:"\u76ae\u76ae\u4fa0",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpsqd7k1ij3046046jr8.jpg"},{name:"\u5df4\u62c9\u62c9",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpsqglul7j3046046dfm.jpg"},{name:"\u8bb0\u5fc6\u5fe7\u5fc3",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspat98rj30c80c8weo.jpg"},{name:"\u9ed1\u5929\u4f7f",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspb32jrj3046046a9w.jpg"},{name:"\u70b9\u65f3\u4f9d\u8d56",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspcpbdoj3046046glh.jpg"},{name:"\u56cd\u69d1 ?",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspf3l96j30460463yc.jpg"},{name:"\u9c7c\u6c89\u6df1\u6d77@",icon:"https://wx2.sinaimg.cn/mw690/006ys9Gfgy1fzpspfzbi4j3046046glh.jpg"},{name:"\u6d77\u7ef5\u963f\u5b9d\u5b9d",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpspiwut8j3046046wec.jpg"},{name:"\u672c\u5bab\u7565\u840c",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpspkxcwej30460463yc.jpg"},{name:"\u56db\u53f6\u8349",icon:"https://wx3.sinaimg.cn/mw690/006ys9Gfgy1fzpspmw3a7j30460460sm.jpg"},{name:"\u9a37\u5e74\u4e0d\u9a37",icon:"https://wx4.sinaimg.cn/mw690/006ys9Gfgy1fzpsppvx6lj3046046q2u.jpg"}]};i.exports=s,cc._RF.pop()},{}],confirm:[function(t,i,e){"use strict";cc._RF.push(i,"6ca63YEIfFC9rrlfOEPWbDR","confirm");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.content=this.node.findChild("content").getComponent(cc.Label),this.sureBtn=this.node.findChild("yes"),this.priceNode=this.node.findChild("price"),this.priceTxt=this.node.findChild("price/num").getComponent(cc.Label),this.closeBtn=this.node.findChild("close"),this.callback=void 0,this.register()},register:function(){this.sureBtn.on("click",this.onSure,this),this.closeBtn.on("click",this.onClose,this)},onShow:function(t){this.content.string=t.content,this.callback=t.callback,"number"==typeof t.price?(this.priceNode.active=!0,this.priceTxt.string="x"+t.price):this.priceNode.active=!1},onSure:function(){n.audio.playEffect(n.audio.soundType.click),this.callback&&this.callback(),n.ui.hide("confirm")},onClose:function(){n.audio.playEffect(n.audio.soundType.click),n.ui.hide("confirm")}}),cc._RF.pop()},{"../app":"app"}],draw:[function(t,i,e){"use strict";cc._RF.push(i,"9dac6eP2mFK8Kdzlb/wGNoe","draw");var n=t("../app");t("../common/config");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.title=this.node.findChild("title"),this.content=this.node.findChild("layout"),this.getAnima=this.node.findChild("get").getComponent(sp.Skeleton),this.icon=this.node.findChild("get/icon").getComponent(cc.Sprite),this.sureBtn=this.node.findChild("sureBtn"),this.stampBtn=this.node.findChild("stampBtn"),this.againbtn=this.node.findChild("againBtn"),this.stampTip=this.node.findChild("tip"),this.register()},register:function(){this.content.findChild("0").on("click",this.onClickItem,this),this.content.findChild("1").on("click",this.onClickItem,this),this.content.findChild("2").on("click",this.onClickItem,this),this.node.findChild("bg").on("click",this.onClose,this),this.sureBtn.on("click",this.onSure,this),this.againbtn.on("click",this.onAgain,this),this.stampBtn.on("click",this.onStamp,this)},onShow:function(){this.isDraw=!1,this.getAnima.node.active=!1,this.stampBtn.active=!1,this.stampTip.active=!1,this.sureBtn.active=!1,this.content.findChild("0").active=!0,this.content.findChild("1").active=!0,this.content.findChild("2").active=!0,n.userdata.isDraw?this.againbtn.active=!1:this.againbtn.active=!0},onSure:function(){this.sureBtn.active=!1;var t=this;this.getAnima.node.stopAllActions();var i=cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(this.stampBtn.x,this.stampBtn.y)),cc.scaleTo(.5,0,0)),cc.callFunc(function(){t.getAnima.node.active=!1,t.onShow()}));this.getAnima.node.runAction(i)},onAgain:function(){var t=this;n.ad.showVideoAd(function(){n.userdata.isDraw=!0,n.userdata.setDrawChance(),t.onShow()})},onStamp:function(){n.ui.show("achieve")},onClose:function(){n.ui.hide("draw"),n.event.emit(n.gametype.eventType.REFRESHDRAW)},onClickItem:function(t){if(1!=this.isDraw&&0!=n.userdata.isDraw){n.audio.playEffect(n.audio.soundType.result),this.isDraw=!0,n.userdata.isDraw=!1,n.userdata.setDrawChance();parseInt(t.target.name);t.target.active=!1;var i=Math.floor(30*Math.random());this.getAnima.node.active=!0,this.getAnima.clearTracks(),this.getAnima.setAnimation(0,"3",!1),this.getAnima.addAnimation(0,"4",!0),this.icon.node.active=!0,this.icon.node.opacity=0,this.icon.spriteFrame=n.gamedata.stampSpriteFrameList[i+1],this.icon.node.stopAllActions();var e=cc.sequence(cc.fadeOut(0),cc.scaleTo(1.3,1,1),cc.fadeIn(1.3));this.getAnima.node.x=t.target.x,this.getAnima.node.y=t.target.parent.y,this.getAnima.node.scaleX=1,this.getAnima.node.scaleY=1,this.icon.node.runAction(e);var s=!1;0==n.userdata.stamp[i]&&(s=!0),n.userdata.stamp[i]=1,n.userdata.stampList[i]++,n.userdata.saveStamp();var a=this;this.scheduleOnce(function(){a.sureBtn.active=!0,a.stampBtn.active=!0,s&&(a.stampTip.active=!0)},1.3)}}}),cc._RF.pop()},{"../app":"app","../common/config":"config"}],event:[function(t,i,e){"use strict";cc._RF.push(i,"11579R1cZ1DKa13g9vRvgGN","event");new Array;var n={};i.exports={on:function(t,i,e){void 0==n[t]&&(n[t]=new Array),n[t].push({f:i,n:e})},emit:function(t,i){var e=n[t];if(void 0!=e)for(var s=0;s<e.length;++s){var a=e[s];void 0!=a?a.n.node.active&&a.f.call(a.n,i):console.error(t+" hasn't callback")}}},cc._RF.pop()},{}],float:[function(t,i,e){"use strict";cc._RF.push(i,"e9bc3q5r8pA1rSW3wjQOy/j","float"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},onShow:function(t){this.node.stopAllActions(),this.node.getChildByName("text").getComponent(cc.Label).string=t.content,this.node.setPosition(0,0);var i=this,e=cc.callFunc(function(){i.node.active=!1}),n=cc.sequence(cc.moveBy(t.during,0,200),e);this.node.runAction(n)},update:function(t){}}),cc._RF.pop()},{}],formula:[function(t,i,e){"use strict";cc._RF.push(i,"4c0238AaeNGHLlZo5Q44j52","formula");var n=t("../data/gamedata"),s=t("../data/userdata"),a=t("../data/gametype"),o=t("../common/util"),r={normalList:null,normalMaxWeight:0,betterList:null,betterMaxWeight:0,sortNormalList:function(){var t=n.pig,i=0;this.normalList=[];for(var e=2;e<t.length;++e){void 0==t[e]&&console.log("index:"+e);var s=parseInt(t[e].weight);t[e].star<2&&0!=s&&null!=s&&(i+=s,this.normalList.push({id:t[e].id,weight:i}))}this.normalMaxWeight=i},sortBetterList:function(){var t=n.pig,i=0;this.betterList=[];for(var e=2;e<t.length;++e){var s=parseInt(t[e].weight);t[e].star>1&&t[e].star<4&&0!=s&&null!=s&&(i+=s,this.betterList.push({id:t[e].id,weight:i}))}this.betterMaxWeight=i},randomNormal:function(){for(var t=Math.floor(Math.random()*this.normalMaxWeight),i=2,e=0;e<this.normalList.length;++e){var n=this.normalList[e];if(i=parseInt(n.id),t<n.weight)break}return i},randomBetter:function(){for(var t=Math.floor(Math.random()*this.betterMaxWeight),i=21,e=0;e<this.betterList.length;++e){var n=this.betterList[e];if(i=parseInt(n.id),t<n.weight)break}return i},born:function(t,i,e,s){for(var r=n.pig[t],c=n.pig[i],h=r.child.split("|").concat(c.child.split("|")),l=r.probability.split("|").concat(c.probability.split("|")),p=Math.max(r.star,c.star),d=Math.max(e,s),m={},g=0;g<h.length;++g)if(""!=h[g]){var f=parseInt(h[g]);void 0==m[f]&&(m[f]=[]),m[f].push(parseFloat(l[g]))}var u=[],y=0;Object.keys(m).forEach(function(t){if(2==m[t].length){var i=n.pig[t].star>p?1<<d-1:1,e=100*(m[t][0]+m[t][1])*i;y+=e,y=Math.min(y,1e4),u.push({id:t,weight:y})}}),u.push({id:t,weight:y+(1e4-y)/2}),u.push({id:i,weight:1e4});var v=[],w=[],C=e!=s?1:Math.floor(3*Math.random())+1;if(!o.isGuided(a.GuideStep.GainPig))return v.push(5),w.push(1),{idlist:v,genlist:w};for(g=0;g<C;++g){for(var S=Math.floor(1e4*Math.random()),x=(f=2,0);x<u.length;++x){var k=u[x];if(f=k.id,S<k.weight)break}v.push(f);var b=n.pig[f];w.push(b.star>p?1:d+1)}return{idlist:v,genlist:w}},balanceSex:function(){for(var t=0,i=0,e=s.piglist,n=0;n<e.length;++n){var o=e[n];null!=o&&""!=o&&(o.sex==a.PigSex.Male&&t++,o.sex==a.PigSex.Female&&i++)}var r=t-i;return r<-2?a.PigSex.Male:r>2?a.PigSex.Female:2}};i.exports=r,cc._RF.pop()},{"../common/util":"util","../data/gamedata":"gamedata","../data/gametype":"gametype","../data/userdata":"userdata"}],friendrank:[function(t,i,e){"use strict";cc._RF.push(i,"689e8FEQqJGEIe8kwod0BYM","friendrank");var n={upload:function(t){(WECHATGAME||QQPLAY)&&ctt.postMessage({message:"Record",level:t.level})},show:function(t){(WECHATGAME||QQPLAY)&&ctt.postMessage({message:"Show"})},hide:function(){(WECHATGAME||QQPLAY)&&ctt.postMessage({message:"Hide"})}};i.exports=n,cc._RF.pop()},{}],friend:[function(t,i,e){"use strict";cc._RF.push(i,"f0c519/p3FCh7mcz/rOIwj5","friend");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.closeBtn=this.node.findChild("closeBtn"),this.inviteBtn=this.node.findChild("inviteBtn"),this.progressItemList=new Array,this.progress=this.node.findChild("frame/progress");for(var t=0;t<10;t++)this.progressItemList.push(this.progress.findChild(""+t));this.content=this.node.findChild("frame/content"),this.inviteItemList=new Array;for(t=0;t<5;t++){var i=this.content.findChild(""+t);this.inviteItemList.push(i),i.findChild("tip").getComponent(cc.Label).string="\u9080\u8bf7"+n.config.gameConfig.friendReward[t].num+"\u4f4d\u597d\u53cb",i.findChild("gold/num").getComponent(cc.Label).string=n.config.gameConfig.friendReward[t].gold}this.register()},register:function(){this.closeBtn.on("click",this.onClose,this),this.inviteBtn.on("click",this.onInvite,this)},start:function(){},onClose:function(){n.ui.hide("friend")},onInvite:function(){var t=Math.floor(Math.random()*n.gamedata.shareData.length),i=Math.floor(Math.random()*n.gamedata.shareData[t].length);n.share.do(n.gamedata.shareData[t][i].text,n.gamedata.shareData[t][i].img)},onShow:function(){n.ad.showBannerAd();for(var t=0;t<this.progressItemList.length;t++)t+1>n.userdata.friendNum?(this.progressItemList[t].findChild("off").active=!0,this.progressItemList[t].findChild("on").active=!1):(this.progressItemList[t].findChild("off").active=!1,this.progressItemList[t].findChild("on").active=!0);for(t=0;t<this.inviteItemList.length;t++){var i=this.inviteItemList[t];1==n.userdata.friendReward[t]?(i.getChildByName("gold").active=!1,i.getChildByName("get").active=!0):(i.getChildByName("gold").active=!0,i.getChildByName("get").active=!1)}},onHide:function(){n.ad.hideBannerAd()}}),cc._RF.pop()},{"../app":"app"}],gamedata:[function(t,i,e){"use strict";cc._RF.push(i,"4be3d8iSphEf74/5PPh1Hoo","gamedata");var n={skinSpriteFrameList:{},skillImgList:{},shareData:new Array,stampSpriteFrameList:new Array,JumpImgList:new Array,getStampList:new Array,gamelist:new Array,roundNum:0,isOpenSkinUI:!1,getStampError:!1};i.exports=n,cc._RF.pop()},{}],gamelist:[function(t,i,e){"use strict";cc._RF.push(i,"c8902neYThKbL1jA6Rwvz/o","gamelist");var n=t("../app");t("querystring");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.board=this.node.findChild("board"),this.arrowBtn=this.board.findChild("arrow"),this.closeBtn=this.board.findChild("close"),this.content=this.board.findChild("scroll/view/content"),this.item=this.content.findChild("item"),this.item.active=!1,this.playBreathAnima(),this.register()},playBreathAnima:function(){var t=cc.repeatForever(cc.sequence(cc.scaleTo(.2,1.1,1.1),cc.scaleTo(.2,1,1),cc.scaleTo(.2,.9,.9),cc.scaleTo(.2,1,1)));this.arrowBtn.runAction(t)},register:function(){var t=this;this.board.findChild("arrow").on("click",this.onClickArrow,this),this.board.findChild("close").on("click",function(){t.board.x=-720,t.closeBtn.active=!1,t.arrowBtn.active=!0}),n.event.on(n.gametype.eventType.SHOWGAMELIST,function(){t.onClickArrow()},this)},onClickArrow:function(){this.board.x=0,this.arrowBtn.active=!1,this.closeBtn.active=!0},start:function(){this.everrefresh=!1},update:function(t){},onShow:function(){if(!QQPLAY)return!n.config.control.gamelistEnable||n.config.localversion>n.config.netversion?(console.log("\u9690\u85cf\u5217\u8868"),void n.ui.hide("gamelist")):void this.refresh();n.ui.hide("gamelist")},refresh:function(){if(console.log(n.gamedata.gamelist),0!=n.gamedata.gamelist.length){for(var t=0;t<n.gamedata.gamelist.length;++t)if(n.gamedata.gamelist[t].appid!=n.config.appID){var i=t+"",e=this.content.findChild(i);void 0==e&&((e=cc.instantiate(this.item)).name=i,this.content.addChild(e),e.on("click",this.onClickIcon,this)),e.active=!0,e.findChild("name").getComponent(cc.Label).string=n.gamedata.gamelist[t].name,n.util.createIcon(e.findChild("icon").getComponent(cc.Sprite),n.gamedata.gamelist[t].icon)}}else n.ui.hide("gamelist")},onClickIcon:function(t){var i=parseInt(t.target.name),e=n.gamedata.gamelist[i],s=e.appid,a=e.path,o=t.target;"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:s,path:a,success:function(t){o.findChild("red").active=!1,console.log("\u8f6c\u8df3\u6210\u529f");var i=s,e=cc.sys.localStorage.getItem(i);if(void 0===e||""===e){var a={AppID:n.config.appID+"|"+s};n.request.post(n.config.configUrl.gamelist,a,function(t){}),cc.sys.localStorage.setItem(i,"1")}},fail:function(t){console.log(t)}})}}),cc._RF.pop()},{"../app":"app",querystring:3}],gametype:[function(t,i,e){"use strict";cc._RF.push(i,"21973vec8VP3anKfmQ0baNs","gametype");i.exports={Skin:{skin1:"Skin1",skin2:"Skin2",skin3:"Skin3",skin4:"Skin4",skin5:"Skin5"},eventType:{LOGIN:"login",GOLD:"refreshGold",TRIGGERENTER:"triggerEnter",TRIGGERSTAY:"triggerStay",TRIGGEREXIT:"triggerExit",RELIVE:"relive",STAMPNEW:"stampNew",READSTAMP:"readStamp",GETGAMELIST:"getGameList",SHOWGAMELIST:"showGamelist",SHOWMOREBTN:"showMoreBtn",HIDEMOREBTN:"hideMoreBtn",UPDATEFRIEND:"updateFriend",STAMPTIPHIDE:"stampTipHide",REFRESHSTAMP:"refreshStamp",REFRESHDRAW:"refreshDraw"},GameState:{Guide:0,Ready:1,Running:2,DeadAnima:3,Dead:4,GameOver:5,Flying:6},ColliderTag:{player:1,bottom:3,gold:4,scoreProp:5,flyProp:9,heartProp:10,stamp:11,platform_normal:2,platform_score:6,platform_spring:7,platform_damage:8},platformType:{normal:1,score:2,spring:3,damage:4},skillType:{None:0,Rush:1,Score:2,Gold:3,Relive:4,Health:5}},cc._RF.pop()},{}],game:[function(t,i,e){"use strict";cc._RF.push(i,"6ed4caeYnpMgJUXSsI1lbXj","game");var n=t("../app");t("../runtime/collider");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;cc.director.getCollisionManager().enabled=!0,this.player=this.node.findChild("player");var i=this.player.addComponent("collider");this.playerImg=this.player.getComponent(cc.Sprite),i.registerEnterEvt(this.collisionEnter),this.cloundSpriteFrameList=new Array,this.propList=new Array,this.pool={poolList:new Array,itemList:new Array,register:function(t,i,e){void 0==this.poolList[t]&&(this.poolList[t]={},this.poolList[t].item=i,this.poolList[t].parent=e),void 0==this.itemList[t]&&(this.itemList[t]=new Array)},get:function(t){var i;return this.itemList[t].length>0?((i=this.itemList[t].pop()).scaleX=1,i.scaleY=1,i):((i=cc.instantiate(this.poolList[t].item)).name=t,this.poolList[t].parent.addChild(i),i)},recycle:function(t,i){i.active=!1,void 0==this.itemList[t]&&(this.itemList[t]=new Array),this.itemList[t].push(i)},destroy:function(){for(var t in this.poolList)this.poolList[t].item.destroy();this.poolList=new Array}};for(var e=1;e<5;e++)cc.loader.loadRes("image/game/yun"+e,cc.SpriteFrame,function(i,e){i&&console.error(i),t.cloundSpriteFrameList.push(e)});cc.loader.loadRes("image/common/xin1",cc.SpriteFrame,function(i,e){i&&console.error(i),t.hpImg=e}),cc.loader.loadRes("image/common/xin2",cc.SpriteFrame,function(i,e){i&&console.log(i),t.emptyHpImg=e}),this.bgNode=this.node.findChild("bgNode"),this.cloundItem=this.node.findChild("bgNode/clound"),this.bgNode.star=this.node.findChild("bgNode/star"),this.bgNode.ball1=this.node.findChild("bgNode/ball1"),this.bgNode.ball2=this.node.findChild("bgNode/ball2"),this.bottom=this.node.findChild("bottom"),this.guideNode=this.node.findChild("guideNode"),this.scoreTxt=this.node.findChild("infoNode/score/num").getComponent(cc.Label),this.doubleTip=this.node.findChild("infoNode/score/doubleTip"),this.goldTxt=this.node.findChild("infoNode/gold/num").getComponent(cc.Label),this.scoreNode=this.node.findChild("infoNode/score"),this.goldNode=this.node.findChild("infoNode/gold"),this.guideCloseBtn=this.node.findChild("guideNode/mask"),this.itemNode=this.node.findChild("itemNode"),this.platform_normal=this.node.findChild("itemNode/normal"),this.platform_high=this.node.findChild("itemNode/double"),this.platform_damage=this.node.findChild("itemNode/damage"),this.platform_spring=this.node.findChild("itemNode/spring"),this.floatScoreItem=this.node.findChild("floatNode/floatScore"),this.floatNode=this.node.findChild("floatNode"),this.gameState=n.gametype.GameState.Ready,this.skyMask=this.node.findChild("skyMask"),this.hpItemList=new Array,this.hpNode=this.node.findChild("infoNode/hp"),this.player2Light1=this.player.findChild("flashLight1"),this.player2Light2=this.player.findChild("flashLight2"),this.goldItem=this.node.findChild("itemNode/gold"),this.scoreProp=this.node.findChild("itemNode/scoreProp"),this.flyProp=this.node.findChild("itemNode/flyProp"),this.heartProp=this.node.findChild("itemNode/heart"),this.stampItem=this.node.findChild("itemNode/stamp"),this.goldItem.active=!1,this.scoreProp.active=!1,this.flyProp.active=!1,this.scoreProgressNode=this.node.findChild("progress/scoreProgress"),this.scoreProgressNum=this.node.findChild("progress/scoreProgress/num").getComponent(cc.Label),this.scoreProgressImg=this.node.findChild("progress/scoreProgress/progress").getComponent(cc.Sprite),this.flyProgressNode=this.node.findChild("progress/flyProgress"),this.flyProgressImg=this.node.findChild("progress/flyProgress/progress").getComponent(cc.Sprite),this.smallGoldList=new Array,this.goldAnimaNode=this.node.findChild("goldAnima"),this.smallGold=this.node.findChild("goldAnima/miniGold"),this.gainGoldPoint=this.node.findChild("infoNode/gold"),this.stamp=this.node.findChild("stampNode/stamp"),this.smallStamp=this.node.findChild("stampNode/smallStamp"),this.flyAnima=this.node.findChild("flyAnima"),this.countSpine=this.node.findChild("countAnima").getComponent(sp.Skeleton),this.jumpEffectNode=this.node.findChild("jumpEffect"),this.caiJBEffect=this.node.findChild("jumpEffect/caiJB"),this.register()},register:function(){n.event.on(n.gametype.eventType.TRIGGERENTER,this.collisionEnter,this),n.event.on(n.gametype.eventType.TRIGGERSTAY,this.collisionEnter,this),n.event.on(n.gametype.eventType.RELIVE,this.relive,this),this.node.on("touchmove",this.touchMove,this),this.registerPool();var t=this;this.countSpine.setCompleteListener(function(){t.onGuide(),t.countSpine.node.active=!1})},touchMove:function(t){if(this.gameState==n.gametype.GameState.Running||this.gameState==n.gametype.GameState.Flying){var i=t.touch.getDelta();i.x>0?this.player.scale=cc.v2(-1,1):this.player.scale=cc.v2(1,1),this.bgNode.x-=.1*i.x,this.itemNode.x-=i.x,this.floatNode.x-=i.x,this.bottom.x-=i.x}},registerPool:function(){this.pool.register("platform_normal",this.platform_normal,this.itemNode),this.pool.register("platform_spring",this.platform_spring,this.itemNode),this.pool.register("platform_score",this.platform_high,this.itemNode),this.pool.register("platform_damage",this.platform_damage,this.itemNode),this.pool.register("floatScore",this.floatScoreItem,this.floatNode),this.pool.register("clound",this.cloundItem,this.bgNode),this.pool.register("gold",this.goldItem,this.itemNode),this.pool.register("scoreProp",this.scoreProp,this.itemNode),this.pool.register("flyProp",this.flyProp,this.itemNode),this.pool.register("heartProp",this.heartProp,this.itemNode),this.pool.register("miniGold",this.smallGold,this.goldAnimaNode),this.pool.register("caiJB",this.caiJBEffect,this.jumpEffectNode)},onShow:function(t){this.caiJBEffect.active=!1,n.ad.hideBannerAd(),0==n.userdata.guideStep?this.guideNode.active=!0:this.guideNode.active=!1,(this.guideNode.active=!0)?this.gameState=n.gametype.GameState.Guide:this.gameState=n.gametype.GameState.Ready,this.goldItem.active=!1,this.floatScoreItem.active=!1,this.scoreProp.active=!1,this.heartProp.active=!1,this.smallGold.active=!1,this.stampItem.active=!1,this.platform_normal.active=!1,this.platform_damage.active=!1,this.platform_high.active=!1,this.platform_spring.active=!1,this.scoreProgressNode.active=!1,this.flyProgressNode.active=!1,this.scoreBuffLastTime=0,this.goldTxt.string=n.userdata.gold,this.score=t?t.score:0,this.gold=0,this.buffScore=0,this.scoreTxt.string=this.score,this.bottom.x=0;var i=cc.director.getWinSizeInPixels();this.offsetY=(i.height-1280)/2,this.bottom.y-=this.offsetY,this.scoreTxt.string=this.score,n.userdata.roundScore=0,this.initBg(),this.initPlayer(),this.initPlatform(),this.propSeed=0,this.scoreBuff=!1,this.scoreRatio=1,n.audio.playBgm(n.audio.bgmType.game),this.bottom.y=this.itemNode.y-470-this.offsetY,this.flyAnima.active=!1,this.diffRate=1,this.skillRate=2,this.stampList=new Array,this.nextGenStampDistance=2e3,this.isWaitToGenStamp=!1,this.stamp.active=!1,this.smallStamp.active=!1,this.countSpine.node.active=!0,this.countSpine.clearTracks(),this.countSpine.setAnimation(0,"321go",!1),this.playCountDownSound(),n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Score?this.doubleTip.active=!0:this.doubleTip.active=!1},playCountDownSound:function(){n.audio.playEffect(n.audio.soundType.countdown);this.scheduleOnce(function(){n.audio.playEffect(n.audio.soundType.countdown)},1),this.scheduleOnce(function(){n.audio.playEffect(n.audio.soundType.countdown)},2),this.scheduleOnce(function(){n.audio.playEffect(n.audio.soundType.go)},3)},initBg:function(){this.bgNode.y=0,this.bgNode.x=0,this.bgList=new Array,this.skyMask.opacity=0,this.skyMaskOpacity=0;for(var t=0,i=0;i<4;i++){var e=0;e=Math.random()<.5?100*n.util.randomAverage()-460:460+100*n.util.randomAverage();var s=this.pool.get("clound");s.active=!0,s.x=e,s.y=t;var a=Math.floor(Math.random()*this.cloundSpriteFrameList.length);s.getComponent(cc.Sprite).spriteFrame=this.cloundSpriteFrameList[a],t+=300+100*Math.random(),this.bgList.push(s)}},initPlayer:function(){this.isUp=!1,this.playerDefaultImg=n.gamedata.skinSpriteFrameList[n.userdata.selectSkin],this.switchJumpShow(),this.playerOrginY=-480,this.player.x=0,this.player.y=this.playerOrginY,this.player.scaleX=1,this.player.scaleY=1,this.player.opacity=255,this.playerSpeed=-1e3,this.downAccSpeed=-2e3,this.orginSpeed=-1e3,this.player.rotation=0,this.maxPlayerY=160,this.minPlayerY=-720,this.playerHp=n.config.skinConfig[n.userdata.selectSkin].hp,this.playerMaxHp=this.playerHp,this.reliveNum=0,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Relive&&this.reliveNum--,this.comboBounce=1,this.maxComboBounce=32,this.minPlayerY-=this.offsetY,this.floatNode.y=0,this.floatNode.x=0,this.player2Light1.active=!1,this.player2Light2.active=!1,this.distance=0,this.isUp=!1,this.hpItemList=new Array;for(var t=0;t<n.config.skinConfig[n.userdata.selectSkin].hp;t++){var i=new cc.Node(""+t);i.active=!0;var e=i.addComponent(cc.Sprite);e.spriteFrame=this.hpImg,this.hpNode.addChild(i),this.hpItemList.push(e)}if(n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Relive){var s=this;cc.loader.loadRes("image/skin/"+n.config.skinConfig[n.userdata.selectSkin].skillJumpImg,cc.SpriteFrame,function(t,i){t&&console.error(t),s.duckSkillJumpImg=i})}this.refreshPlayerHp()},switchSkillShow:function(){this.playerDefaultImg=n.gamedata.skillImgList[n.userdata.selectSkin],this.playerImg.spriteFrame=this.playerDefaultImg},switchJumpShow:function(){this.isUp?n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Relive&&this.reliveNum>=0?this.playerImg.spriteFrame=this.duckSkillJumpImg:this.playerImg.spriteFrame=n.gamedata.JumpImgList[n.userdata.selectSkin]:this.playerImg.spriteFrame=this.playerDefaultImg},initPlatform:function(){this.platMaxHitCount=8,this.itemNode.y=0,this.itemNode.x=0,this.lvHeight=200,this.lvWidth=300,this.moveRangeX=300,this.platformMoveSpeed=150,this.platformDefaultSize=250,this.platformLastX=0,this.platformLastY=-300,this.platformCount=0,this.hitPlatformCount=0,this.platformList=new Array,this.movePlatformRatio=0,this.genGoldRatio=0,this.genPropRatio=0,this.platformSeed=0,this.platformMinX=-720,this.platfromMaxX=720,this.hardPlatfromStart=20;for(var t=0;t<20;t++)this.genPlatform();this.nextPropIdx=Math.floor(10*Math.random())+10,this.hardPlatformData=[{name:"score",weight:10,startWeight:10},{name:"fly",weight:20,startWeight:20},{name:"damage",weight:10,startWeight:10}],this.hardPlatformRate=.2,this.hardPlatformMaxRate=.3},genPlatform:function(){var t=this.pool.get("platform_normal");t.active=!0;var i={item:t,isMove:!1,isLeft:!1,id:0,isHit:!1,orginX:0,num:0,numTxt:void 0,type:n.gametype.platformType.normal,isDrag:!1};t.x=this.platformLastX,t.y=this.platformLastY,t.height=50;var e=this.getPlatformWidth(!1);t.getComponent(cc.BoxCollider).size.width=e,t.width=e+55;var s=this.getPlatformHitCount(!1);i.num=s,i.numTxt=t.findChild("num").getComponent(cc.Label),i.numTxt.string=i.num,t.name=this.platformSeed+"",i.id=this.platformSeed,this.platformSeed++,this.platformCount++,this.platformLastY+=this.lvHeight;var a=this.platformLastX;for(i.orginX=t.x,this.platformList.push(i),1==this.isWaitToGenStamp&&(this.isWaitToGenStamp=!1,this.nextGenStampDistance=Math.random()*this.stampList.length*1e3+1e3,this.genStamp(t.x,t.y+100)),this.genHardPlatform(),this.platformLastX+=n.util.randomAverage()*this.lvWidth*Math.random();this.platformLastX<this.platformMinX||this.platformLastX>this.platfromMaxX;)this.platformLastX=a,this.platformLastX+=n.util.randomAverage()*this.lvWidth*Math.random();this.nextPropIdx--,this.nextPropIdx<=0&&(this.genProp(t.x,t.y+100),this.nextPropIdx=Math.floor(10*Math.random())+10)},genProp:function(t,i){var e=Math.floor(4*Math.random()),n={item:"",type:e,num:0,id:this.propSeed};this.propSeed++;var s=void 0;if(1==this.scoreBuff)for(;1==e;)e=Math.floor(4*Math.random());switch(e){case 0:(s=this.pool.get("gold")).name=""+n.id;break;case 1:switch((s=this.pool.get("scoreProp")).name=""+n.id,Math.floor(3*Math.random())){case 0:n.num=2;break;case 1:n.num=3;break;case 2:n.num=5}s.findChild("num").getComponent(cc.Label).string="x"+n.num;break;case 2:(s=this.pool.get("flyProp")).name=""+n.id;break;case 3:(s=this.pool.get("heartProp")).name=""+n.id}s.x=t,s.y=i,n.item=s,s.active=!0,this.propList.push(n)},genStamp:function(t,i){console.log("\u751f\u6210\u90ae\u7968"),this.stampItem.x=t,this.stampItem.y=i,this.stampItem.active=!0},genHardPlatform:function(){if(!(this.platformCount<=this.hardPlatfromStart||Math.random()>this.hardPlatformRate)){for(var t=0,i=new Array,e=0;e<this.hardPlatformData.length;e++)t+=this.hardPlatformData[e].weight,0==e?i.push({min:0,max:this.hardPlatformData[e].weight}):i.push({min:i[e-1].max,max:this.hardPlatformData[e].weight+i[e-1].max});var s=Math.ceil(Math.random()*t),a=0;for(e=0;e<i.length;e++)if(s>i[e].min&&s<=i[e].max){a=e+1;break}var o="",r={item:void 0,isMove:!1,isLeft:!1,id:0,isHit:!1,orginX:0,num:0,numTxt:void 0,type:n.gametype.platformType.normal,isDrag:!1};switch(a){case 1:o="platform_score",r.isMove=!0,r.type=n.gametype.platformType.score,Math.random()<.5&&(r.isLeft=!0);break;case 2:o="platform_spring",r.type=n.gametype.platformType.spring;break;case 3:o="platform_damage",r.type=n.gametype.platformType.damage}r.item=this.pool.get(o),r.item.active=!0,r.item.y=this.platformLastY-this.lvHeight/2,r.item.x=this.platformLastX+n.util.randomAverage()*(100+100*Math.random()),r.id=this.platformSeed,r.item.name=this.platformSeed+"",r.orginX=r.item.x,this.platformSeed++,this.platformList.push(r),this.hardPlatformRate=.2+this.distance/6e4,this.hardPlatformRate>=this.hardPlatformMaxRate&&(this.hardPlatformRate=this.hardPlatformMaxRate);for(e=0;e<this.hardPlatformData.length;e++)switch(this.hardPlatformData[e].name){case"score":break;case"damage":this.hardPlatformData[e].weight=this.hardPlatformData[e].startWeight+Math.floor(this.distance/320);break;case"fly":this.hardPlatformData[e].weight=this.hardPlatformData[e].startWeight-Math.floor(this.distance/320),this.hardPlatformData[e].width<=10&&(this.hardPlatformData[e].width=10)}}},getPlatformWidth:function(t){if(t)return this.platformCount>=-1&&this.platformCount<=10?170:this.platformCount>10&&this.platformCount<=20?160:this.platformCount>20&&this.platformCount<=30?140:this.platformCount>=30&&this.platformCount<40?120:this.platformCount>=40&&this.platformCount<55?95:this.platformCount>=55&&this.platformCount<70?75:this.platformCount>=70&&this.platformCount<90?55:45;var i=this.hitPlatformCount;return i>=-1&&i<=10?this.platformDefaultSize:i>10&&i<=20?this.platformDefaultSize-30:i>20&&i<=30?this.platformDefaultSize-50:i>=30&&i<40?this.platformDefaultSize-75:i>=40&&i<55?this.platformDefaultSize-100:i>=55&&i<70?this.platformDefaultSize-130:i>=70&&i<90?this.platformDefaultSize-170:55},getPlatformHitCount:function(t){var i=this.hitPlatformCount;return 1==t?1:i>=36?1:i<36&&i>=24?2:i>=16&&i<24?3:this.platMaxHitCount-Math.floor(i/3)},update:function(t){if(this.gameState==n.gametype.GameState.Running&&(this.player.y<this.maxPlayerY?(this.player.y,this.player.y+=this.playerSpeed*t*this.diffRate):this.playerSpeed>0?(this.itemNode.y-=this.playerSpeed*t*this.diffRate,this.floatNode.y-=this.playerSpeed*t*this.diffRate,this.bgNode.y-=this.playerSpeed*t*this.diffRate):this.player.y+=this.playerSpeed*t*this.diffRate,this.diffRate=1+this.distance/2e4,this.diffRate>1.6&&(this.diffRate=1.6),this.playerSpeed+=this.downAccSpeed*t*this.diffRate,this.bottom.y=this.itemNode.y-470-this.offsetY,this.player.y<this.minPlayerY&&this.gameover(),this.platformUpdate(t),this.bgUpdate(t)),this.gameState==n.gametype.GameState.DeadAnima&&(this.player.y+=this.playerSpeed*t,this.playerSpeed+=1.5*this.downAccSpeed*t,this.player.y<-900))switch(this.reliveNum){case-1:this.switchSkillShow(),this.gameState=n.gametype.GameState.Flying,this.flyAnima.active=!0,this.skillLastTime=2,this.playerHp=2,this.refreshPlayerHp(),this.reliveNum++,this.playerSpeedplayerSpeed=2*-this.orginSpeed;break;case 0:n.ui.show("relive"),this.gameState=n.gametype.GameState.Dead;break;case 1:n.ui.show("result"),n.ui.hide("game"),this.gameState=n.gametype.GameState.GameOver}if(this.gameState==n.gametype.GameState.Flying&&(this.skillLastTime-=t,this.skillLastTime<=0?(this.flyProgressNode.active=!1,this.flyAnima.active=!1,this.gameState=n.gametype.GameState.Running,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Rush&&(this.player2Light1.active=!1,this.player2Light2.active=!1),n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Rush&&(this.playerDefaultImg=n.gamedata.skinSpriteFrameList[1],this.playerImg.spriteFrame=this.playerDefaultImg)):(this.flyProgressImg.fillRange=this.skillLastTime/n.config.gameConfig.flyBuffLastTime,this.playerSpeed=2*-this.orginSpeed,this.player.y<this.maxPlayerY?this.player.y+=this.playerSpeed*t*this.skillRate:this.playerSpeed>0?(this.itemNode.y-=this.playerSpeed*t*this.skillRate,this.floatNode.y-=this.playerSpeed*t*this.skillRate,this.bgNode.y-=this.playerSpeed*t*this.skillRate):this.player.y+=this.playerSpeed*t*this.skillRate,this.bottom.y=this.itemNode.y-470-this.offsetY),this.platformUpdate(t),this.bgUpdate(t)),(this.gameState==n.gametype.GameState.Running||this.gameState==n.gametype.GameState.Flying)&&(1==this.scoreBuff&&(this.scoreBuffLastTime-=t,this.scoreBuffLastTime<=0?(this.scoreProgressNode.active=!1,this.scoreBuff=!1,this.scoreRatio=1):this.scoreProgressImg.fillRange=this.scoreBuffLastTime/n.config.gameConfig.scoreBuffLastTime),1==this.isUp&&this.playerSpeed<0&&(this.isUp=!1,this.switchJumpShow()),this.smallGoldList.length>0))for(var i=0;i<this.smallGoldList.length;i++)0==this.smallGoldList[i].opacity&&(this.pool.recycle("miniGold",this.smallGoldList[i]),this.smallGoldList.splice(i,1),i--);this.gameState!=n.gametype.GameState.Flying&&this.gameState!=n.gametype.GameState.Running||this.refreshScore()},platformUpdate:function(t){for(var i=!1,e=0;e<this.platformList.length;e++)if(1==this.platformList[e].isMove&&(1==this.platformList[e].isLeft?(this.platformList[e].item.x-=this.platformMoveSpeed*t,Math.abs(this.platformList[e].item.x-this.platformList[e].orginX)>this.moveRangeX&&(this.platformList[e].item.x=this.platformList[e].orginX-this.moveRangeX,this.platformList[e].isLeft=!1)):(this.platformList[e].item.x+=this.platformMoveSpeed*t,Math.abs(this.platformList[e].item.x-this.platformList[e].orginX)>this.moveRangeX&&(this.platformList[e].isLeft=!0,this.platformList[e].item.x=this.platformList[e].orginX+this.moveRangeX))),1==this.platformList[e].isDrag&&(this.platformList[e].item.x-=.2*this.platformMoveSpeed*t,this.platformList[e].item.y-=800*t),this.platformList[e].item.y+this.itemNode.y<-840){var s=this.platformList[e].item;s.stopAllActions(),this.platformList[e].type==n.gametype.platformType.normal&&(this.pool.recycle("platform_normal",s),i=!0),this.platformList[e].type==n.gametype.platformType.score&&this.pool.recycle("platform_score",s),this.platformList[e].type==n.gametype.platformType.damage&&this.pool.recycle("platform_damage",s),this.platformList[e].type==n.gametype.platformType.spring&&this.pool.recycle("platform_spring",s),this.platformList.splice(e,1),e--}i&&this.genPlatform();for(e=0;e<this.propList.length;e++)if(this.propList[e].item.y<-840){switch(this.propList[e].type){case 0:this.pool.recycle("gold",this.propList[e].item);break;case 1:this.pool.recycle("scoreProp",this.propList[e].item);break;case 2:this.pool.recycle("flyProp",this.propList[e].item);break;case 3:this.pool.recycle("heartProp",this.propList[e].item)}this.propList.splice(e,1),e--}},bgUpdate:function(t){for(var i=0;i<this.bgList.length;i++)this.bgList[i].y+this.bgNode.y<-900&&(this.bgList[i].y+=1600,this.bgList[i].x=360*n.util.randomAverage()+200*Math.random()*n.util.randomAverage())},onHide:function(){this.player.stopAllActions(),console.log("game\u6bcf\u6b21\u9690\u85cf\u65f6\u5c31\u4f1a\u8c03\u7528");for(var t=0;t<this.smallGoldList.length;t++)this.pool.recycle("miniGold",this.smallGoldList[t]);this.smallGoldList=new Array;for(t=0;t<this.platformList.length;t++)this.platformList[t].item.destroy();this.platformList[t]=new Array;for(t=0;t<this.hpItemList.length;t++)this.hpItemList[t].node.destroy();this.hpItemList=new Array;for(t=0;t<this.propList.length;t++)this.propList[t].item.destroy();this.propList=new Array,this.stampList=new Array},collisionEnter:function(t){var i=t[0],e=t[1];if(this.gameState==n.gametype.GameState.Running&&e.tag==n.gametype.ColliderTag.player){if(i.tag==n.gametype.ColliderTag.gold&&(i.node.active=!1,this.gainGold(i.node.x+i.node.parent.x,i.node.y+i.node.parent.y)),i.tag==n.gametype.ColliderTag.scoreProp){i.node.active=!1;for(var s=parseInt(i.node.name),a=0;a<this.propList.length;a++)this.propList[a].id==s&&this.gainScoreProp(this.propList[a].num)}if(i.tag==n.gametype.ColliderTag.stamp){i.node.active=!1;var o=i.node.x+this.itemNode.x,r=i.node.y+this.itemNode.y;this.gainStamp(o,r)}if(i.tag==n.gametype.ColliderTag.flyProp&&(i.node.active=!1,this.gainFlyProp()),i.tag==n.gametype.ColliderTag.heartProp&&(i.node.active=!1,this.gainHeartProp()),i.tag==n.gametype.ColliderTag.bottom){if(this.playerSpeed>0)return;this.playPlayQAnima(),this.playerSpeed=-this.orginSpeed,this.playerSpeed+=1.5*Math.abs(this.offsetY)}if(i.tag==n.gametype.ColliderTag.platform_normal){if(this.playerSpeed>0)return;s=parseInt(i.node.name);this.hitPlatfrom(s)}if(i.tag==n.gametype.ColliderTag.platform_spring){if(this.playerSpeed>0)return;s=parseInt(i.node.name);var c=this.getPlatformByID(s);this.playSpringPlatform(c.item),this.hitSpringPlatform(s)}if(i.tag==n.gametype.ColliderTag.platform_score){if(this.playerSpeed>0)return;s=parseInt(i.node.name);this.hitScorePlatform(s)}if(i.tag==n.gametype.ColliderTag.platform_damage){if(this.playerSpeed>0)return;s=parseInt(i.node.name),c=this.getPlatformByID(s);this.hitDamagePlatform(s)}}},playJumpEffect:function(t,i){switch(n.config.skinConfig[n.userdata.selectSkin].skill){case n.gametype.skillType.Gold:var e=this.pool.get("caiJB");e.active=!0,e.x=t,e.y=i;var s=e.getComponent(sp.Skeleton);s.clearTracks();var a=this;s.setCompleteListener(function(){a.pool.recycle("caiJB",e),console.log("recycleJumpEffect")}),s.setAnimation(0,"animation",!1)}},hitPlatfrom:function(t){var i=this.getPlatformByID(t);if(i.num>0){if(this.playPlayQAnima(),this.playerSpeed=1.05*-this.orginSpeed,this.isUp=!0,this.switchJumpShow(),0==i.isHit){this.hitPlatformCount++,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Gold&&Math.random()<.1&&(this.gainGold(this.player.x,this.player.y+50),this.playJumpEffect(this.player.x,this.player.y-30)),n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Health&&Math.random()<.03&&this.gainStamp(this.player.x,this.player.y-30),i.isHit=!0;var e=i.item.x+this.itemNode.x,s=i.item.y+120,a=n.config.gameConfig.platformScore;n.audio.playEffect(n.audio.soundType.soso),e-=this.itemNode.x,this.comboBounce=1,this.showFloatScore(a,!1,new cc.v2(e,s))}this.skyMaskOpacity+=5,this.skyMaskOpacity>=255&&(this.skyMaskOpacity=255),this.skyMask.opacity=this.skyMaskOpacity,i.item.stopAllActions(),i.item.scaleX=1,i.scaleY=1;var o=cc.sequence(cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.1,.9,.9),cc.scaleTo(.1,1,1));i.item.runAction(o),i.num--,i.numTxt.string=i.num,i.num<=0&&(i.isMove=!1,i.isDrag=!0,console.log("drag"))}},hitScorePlatform:function(t){this.playPlayQAnima();var i=this.getPlatformByID(t);if(this.playerSpeed=1.2*-this.orginSpeed,this.isUp=!0,this.switchJumpShow(),0==i.isHit){this.hitPlatformCount++,n.audio.playEffect(n.audio.soundType.double),i.isHit=!0;var e=i.item.x+this.itemNode.x,s=i.item.y+280;e-=this.itemNode.x,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Gold&&Math.random()<.5&&(this.gainGold(this.player.x,this.player.y+50),this.playJumpEffect(this.player.x,this.player.y-30)),n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Health&&Math.random()<.2&&this.gainStamp(this.player.x,this.player.y-30);var a=Math.floor(.1*this.score);a>=500&&(a=500),a<n.config.gameConfig.specialScore&&(a=n.config.gameConfig.specialScore),this.score+=a,this.showFloatScore(a,!0,new cc.v2(e,s))}this.skyMaskOpacity+=2,this.skyMaskOpacity>=255&&(this.skyMaskOpacity=255),this.skyMask.opacity=this.skyMaskOpacity,i.isMove=!1,i.isDrag=!0,console.log("drag")},hitSpringPlatform:function(t){this.playPlayQAnima(),this.hitPlatformCount++;var i=this.getPlatformByID(t);this.playerSpeed=3*-this.orginSpeed,this.isUp=!0,this.switchJumpShow(),n.audio.playEffect(n.audio.soundType.spring),this.skyMaskOpacity+=2,this.skyMaskOpacity>=255&&(this.skyMaskOpacity=255),this.skyMask.opacity=this.skyMaskOpacity,i.isMove=!1,i.isDrag=!0},hitDamagePlatform:function(t){this.playPlayQAnima(),n.audio.playEffect(n.audio.soundType.damage);this.getPlatformByID(t);this.playerHp-=1,this.playerHp<=0?this.gameover():(this.playerSpeed=1.5*-this.orginSpeed,this.isUp=!0,this.switchJumpShow()),this.playPlayerDamageAnima(),this.refreshPlayerHp(),this.skyMaskOpacity+=2,this.skyMaskOpacity>=255&&(this.skyMaskOpacity=255),this.skyMask.opacity=this.skyMaskOpacity},playPlayerDamageAnima:function(){this.player.stopAllActions(),this.player.opacity=255,this.player.runAction(cc.blink(.5,5))},playSpringPlatform:function(t){},playPlayQAnima:function(){},getPlatformByID:function(t){for(var i=0;i<this.platformList.length;i++)if(this.platformList[i].id==parseInt(t))return this.platformList[i]},playDropPlatformAnimation:function(){},showFloatScore:function(t,i,e){this.scoreNode.scaleX=1.1,this.scoreNode.scaleY=1.1,1==this.scoreBuff&&(t*=this.scoreRatio),this.score+=t,this.refreshScore();var n=this.pool.get("floatScore");n.active=!0,n.getComponent(cc.Label).string=t,n.color=new cc.Color(255,250,105),n.scale=cc.v2(1.5,1.5),n.position=cc.v2(e.x,e.y);var s=this,a=cc.sequence(cc.fadeIn(0),cc.spawn(cc.scaleTo(.8,1.9),cc.fadeOut(1.8)),cc.callFunc(function(){s.pool.recycle("floatScore",n)}));n.runAction(a)},refreshScore:function(){var t=.1*(this.player.y-this.playerOrginY-this.bgNode.y),i=(Math.floor(this.distance),this.score);t>this.distance&&(this.nextGenStampDistance-=t-this.distance,this.nextGenStampDistance<=0&&(this.isWaitToGenStamp=!0)),this.distance<t&&(1==this.scoreBuff&&(this.buffScore=(t-this.distance)*this.scoreRatio),this.distance=t),i=Math.floor(this.distance)+parseInt(this.score)+parseInt(this.buffScore),this.scoreTxt.string=i},refreshPlayerHp:function(){console.log(this.playerHp),console.log(this.playerMaxHp);for(var t=0;t<this.playerHp;t++)this.hpItemList[t].spriteFrame=this.hpImg;for(t=this.playerHp;t<this.playerMaxHp;t++)this.hpItemList[t].spriteFrame=this.emptyHpImg},gainStamp:function(t,i){this.smallStamp.active=!0,this.smallStamp.x=t,this.smallStamp.y=i,this.smallStamp.stopAllActions(),this.stamp.active=!0;var e=cc.sequence(cc.fadeOut(0),cc.fadeIn(.2));this.stamp.runAction(e);var s=this,a=cc.sequence(cc.moveTo(.5,cc.v2(this.stamp.x,this.stamp.y)),cc.callFunc(function(){s.smallStamp.active=!1,s.stamp.active=!1}));console.log(t,i),this.smallStamp.runAction(a);var o=Math.floor(30*Math.random());this.stampList.push(o),n.audio.playEffect(n.audio.soundType.getScoreProp)},gainGold:function(t,i){switch(Math.floor(3*Math.random())){case 0:this.gold+=5;break;case 1:this.gold+=10;break;case 2:this.gold+=20}this.goldTxt.string=parseInt(this.gold)+parseInt(n.userdata.gold),this.playGainGoldAnima(t,i),n.audio.playEffect(n.audio.soundType.gainGold),console.log("\u6536\u96c6\u5230\u91d1\u5e01")},gainScoreProp:function(t){Math.floor(3*Math.random());this.scoreBuff=!0,this.scoreRatio=t,this.scoreProgressNum.string="x"+t,this.scoreProgressNode.active=!1,this.scoreBuffLastTime=n.config.gameConfig.scoreBuffLastTime,this.scoreProgressNode.active=!0,this.scoreProgressImg.fillRange=this.scoreBuffLastTime/n.config.gameConfig.scoreBuffLastTime,console.log("\u6536\u96c6\u5230\u5206\u6570\u9053\u5177"),n.audio.playEffect(n.audio.soundType.getScoreProp)},gainFlyProp:function(){this.player.scaleX=1,this.player.scaleY=1,this.gameState=n.gametype.GameState.Flying,this.playerSpeed=2*-this.orginSpeed,this.skillLastTime=n.config.gameConfig.flyBuffLastTime,this.flyAnima.active=!0,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Rush&&(this.player2Light1.active=!0,this.player2Light2.active=!0),this.flyProgressNode.active=!0,this.flyProgressImg.fillRange=this.skillLastTime/n.config.gameConfig.flyBuffLastTime,n.audio.playEffect(n.audio.soundType.fly),console.log("\u6536\u96c6\u5230\u51b2\u523a\u9053\u5177")},gainHeartProp:function(){if(this.playerHp++,this.playerHp>this.playerMaxHp){var t=new cc.Node(""+this.playerMaxHp);t.active=!0;var i=t.addComponent(cc.Sprite);i.spriteFrame=this.hpImg,this.hpNode.addChild(t),this.hpItemList.push(i),this.playerMaxHp++}this.refreshPlayerHp(),n.audio.playEffect(n.audio.soundType.getHeart)},gameover:function(){n.audio.stopBgm(),n.audio.playEffect(n.audio.soundType.fail),n.userdata.roundScore=parseInt(this.score)+parseInt(this.buffScore)+parseInt(this.distance),n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Score&&(n.userdata.roundScore=2*n.userdata.roundScore),n.userdata.gainGold=this.gold,this.gameState=n.gametype.GameState.DeadAnima,this.player.runAction(cc.rotateBy(1,180)),n.gamedata.getStampList=new Array;for(var t=0;t<this.stampList.length;t++)n.gamedata.getStampList.push(this.stampList[t]);this.playDeathAnima()},playDeathAnima:function(){this.playerSpeed=-this.orginSpeed,this.player.y>this.minPlayerY/2?this.playerSpeed-=.3*this.orginSpeed:this.player.y>=this.minPlayerY?this.playerSpeed-=.5*this.orginSpeed:this.player.y<this.minPlayerY&&(this.playerSpeed-=.7*this.orginSpeed)},onGuide:function(){this.guideNode.active=!1,n.userdata.guideStep=1,this.gameStart()},relive:function(){this.player.rotation=0,this.player.scaleX=1,this.player.scaleY=1,n.audio.playBgm(n.audio.bgmType.game),n.ui.hide("relive"),this.flyAnima.active=!0,this.gameState=n.gametype.GameState.Flying,this.playerSpeed=2*-this.orginSpeed,this.skillLastTime=3.5,this.reliveNum++,n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Health?this.playerHp=4:this.playerHp=2,this.refreshPlayerHp(),this.flyProgressNode.active=!1},gameStart:function(){n.config.skinConfig[n.userdata.selectSkin].skill==n.gametype.skillType.Rush?(this.gameState=n.gametype.GameState.Flying,this.switchSkillShow(),this.flyAnima.active=!0,this.playerSpeed=2*-this.orginSpeed,this.skillLastTime=5,this.player2Light1.active=!0,this.player2Light2.active=!0):this.gameState=n.gametype.GameState.Running},playGainGoldAnima:function(t,i){for(var e=Math.ceil(5*Math.random())+10,s=0;s<e;s++){var a=this.pool.get("miniGold");a.active=!0,a.x=50*n.util.randomAverage()+t,a.y=50*n.util.randomAverage()+i,a.scaleX=.5,a.scaleY=.5,a.opacity=255,a.stopAllActions();var o=.5*Math.random()+.3,r=cc.sequence(cc.moveTo(o,cc.v2(this.gainGoldPoint.x,this.gainGoldPoint.y)),cc.fadeOut(0));this.smallGoldList.push(a),a.runAction(r)}}}),cc._RF.pop()},{"../app":"app","../runtime/collider":"collider"}],guess:[function(t,i,e){"use strict";cc._RF.push(i,"4a3dcAp3llHlYDBKFVDnTdE","guess");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.item=this.node.findChild("content/item"),this.content=this.node.findChild("content"),this.bg=this.node.findChild("bg"),this.itemlist=new Array,this.itemlist.push(this.item),this.register(),this.refreshDelta=30,this.timer=this.refreshDelta;var t=cc.director.getWinSizeInPixels();this.offsetY=(t.height-1280)/2,this.content.y-=this.offsetY,this.bg.y-=this.offsetY},register:function(){this.item.on("click",this.onClickItem,this)},start:function(){},onShow:function(t){if(QQPLAY)n.ui.hide("guess");else if(0!=n.gamedata.gamelist.length){for(var i=new Array,e=new Array,s=0;s<n.gamedata.gamelist.length;s++)1==n.gamedata.gamelist[s].recommend&&e.push(s);for(;e.length>0;){var a=Math.floor(e.length*Math.random());i.push(e.splice(a,1))}var o=Math.floor(i.length/2);for(s=0;s<i.length;s++){var r=this.itemlist[s];void 0==r&&((r=cc.instantiate(this.item)).parent=this.content,this.itemlist.push(r),r.on("click",this.onClickItem,this)),r.active=!0;a=i[s];r.name=""+a,s==o?(r.scaleX=1.15,r.scaleY=1.15,r.findChild("tip").active=!0):(r.scaleX=1,r.scaleY=1,r.findChild("tip").active=!1),r.findChild("name").getComponent(cc.Label).string=n.gamedata.gamelist[a].name,n.util.createIcon(r.findChild("icon").getComponent(cc.Sprite),n.gamedata.gamelist[a].icon)}}else n.ui.hide("guess")},onClickItem:function(t){var i=parseInt(t.target.name),e=n.gamedata.gamelist[i],s=e.appid,a=e.path,o=t.target;"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:s,path:a,success:function(t){o.findChild("red").active=!1,console.log("\u8f6c\u8df3\u6210\u529f");var i=s,e=cc.sys.localStorage.getItem(i);if(void 0===e||""===e){var a={AppID:n.config.appID+"|"+s};n.request.post(n.config.configUrl.gamelist,a,function(t){}),cc.sys.localStorage.setItem(i,"1")}},fail:function(t){console.log(t)}})},update:function(t){this.timer-=t,this.timer<=0&&(this.onShow(),this.timer=this.refreshDelta)}}),cc._RF.pop()},{"../app":"app"}],guidedata:[function(t,i,e){"use strict";cc._RF.push(i,"556f9eNHktKrZQIDFtrUGDz","guidedata");var n=t("../app");i.exports=[{},{list:[{path:"game/field/pig",tip:"\u6b22\u8fce\u6765\u5230\u5168\u6c11\u517b\u732a\u573a!\n\u8ba9\u6211\u4eec\u6765\u517b\u51fa\u5404\u79cd\u6709\u8da3\u7684\u732a\u5427!",delay:1500,hidefinger:!0},{path:"info/btns/shop",tip:"<color=#EC5656>\u8bf7\u70b9\u51fb\u6253\u5f00\u5546\u57ce</c>\n\u517b\u732a\u573a\u6709\u70b9\u7a7a,\u6211\u4eec\u6765\u4e3a\u5b83\u6dfb\u751f\u673a"},{path:"shop/pig/0",tip:"<color=#EC5656>\u70b9\u51fb\u8d2d\u4e70\u5c0f\u732a\uff01</c>",tipRaise:122},{path:"shop/close",tip:"\u5c0f\u732a\u5df2\u7ecf\u5230\u517b\u732a\u573a\u91cc\u4e86\n<color=#EC5656>\u70b9\u51fb\u5173\u95ed\u5546\u57ce!</c>",tipRaise:122,overturn:!0}]},{pre:1,list:[{path:"game/foods/1",tip:"\u6211\u4eec\u6765\u7ed9\u5c0f\u732a\u5582\u98df\u5427\uff01\n<color=#EC5656>\u70b9\u51fb\u9009\u62e9\u5c0f\u732a\u559c\u6b22\u7684\u98df\u7269</c>"},{path:"game/field",tip:"<color=#EC5656>\u70b9\u51fb\u7a7a\u5730\u7ed9\u5c0f\u732a\u6295\u98df</c>",finger:cc.v2(-250,0)},{path:"game/field",tip:"\u53ef\u4ee5\u6295\u591a\u4e2a\u98df\u7269\u5728\u5730\u4e0a",finger:cc.v2(250,0)}]},{pre:2,list:[{path:"game",tip:"\u5c0f\u732a\u5403\u9971\u4e86\u9700\u8981\u70b9\u6d88\u5316\u65f6\u95f4\n\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002",hidefinger:!0},{path:"game/field/shitLayout/shit0",tip:"\u5c0f\u732a\u6d88\u5316\u5b8c\u4f1a\u6392\u4fbf\n\u8981\u53ca\u65f6\u628a\u4fbf\u4fbf\u6e05\u7406\u6389.\n<color=#EC5656>\u70b9\u51fb\u4fbf\u4fbf\u6e05\u7406</c>"},{path:"game",tip:"\u5c0f\u732a\u5403\u9971\u4e86\u9700\u8981\u70b9\u6d88\u5316\u65f6\u95f4\n\u8bf7\u8010\u5fc3\u7b49\u5f85\u3002",hidefinger:!0}]},{pre:3,list:[{path:"game/field/pig0",tip:"\u6210\u732a\u4e0d\u4f1a\u518d\u957f\u5927\u4e86!\n\u53ef\u4ee5\u5356\u6389\u5b83\u8d5a\u91d1\u5e01\n<color=#EC5656>\u62d6\u62fd\u6210\u732a\u5230\u8f66\u4e0a</c>",slider:{obj:"game/field/pig0",dest:cc.v2(-200,320)}},{path:"game/field/car/sure",tip:"<color=#EC5656>\u70b9\u51fb\u8f66\u5934</c>\u51fa\u552e\u6210\u732a\u83b7\u5f97\u91d1\u5e01"}],condition:function(){var t=n.userdata.piglist[0];return null!=t&&t.age==n.gametype.PigAge.Adult}},{pre:4,list:[{path:"info/info/upgrade",tip:"\u5356\u732a\u5f97\u5230\u4e86\u4e00\u7b14\u4e30\u539a\u8d44\u91d1!\n\u53ef\u4ee5\u7528\u6765\u5347\u7ea7\u517b\u732a\u573a!\n<color=#EC5656>\u70b9\u51fb\u6253\u5f00\u5347\u7ea7\u754c\u9762</c>"},{path:"upgrade/sure",tip:"\u5347\u7ea7\u519c\u573a\u53ef\u4ee5\u540c\u65f6\u9972\u517b\u591a\u5934\u5c0f\u732a!\n<color=#EC5656>\u70b9\u51fb\u5347\u7ea7\u517b\u732a\u573a</c>",tipRaise:-505},{path:"upgrade",tip:"",delay:500,hidefinger:!0},{path:"upgrade/close",tip:"\u73b0\u5728\u53ef\u4ee5\u540c\u65f6\u9972\u517b\u591a\u5934\u5c0f\u732a\u4e86!\n<color=#EC5656>\u70b9\u51fb\u5173\u95ed\u5347\u7ea7\u754c\u9762</c>",tipRaise:-505}]},{pre:5,list:[{path:"info/btns/shop",tip:"\u70b9\u51fb\u6253\u5f00\u5546\u57ce\u8d2d\u4e70\u591a\u5934\u5c0f\u732a!\n<color=#EC5656>\u70b9\u51fb\u6253\u5f00\u5546\u57ce</c>"},{path:"shop/pig/0",tip:"<color=#EC5656>\u70b9\u51fb\u8d2d\u4e70\u5c0f\u732a!</c>",tipRaise:122},{path:"shop/pig/0",tip:"<color=#EC5656>\u518d\u70b9\u51fb\u8d2d\u4e70\u5c0f\u732a!</c>",tipRaise:122},{path:"shop/close",tip:"\u5c0f\u732a\u5df2\u7ecf\u5230\u517b\u732a\u573a\u91cc\u4e86\n<color=#EC5656>\u70b9\u51fb\u5173\u95ed\u5546\u57ce!</c>",tipRaise:122,overturn:!0}]},{pre:6,list:[{path:"game/foods/2",tip:"\u5f00\u653e\u4e86\u65b0\u7684\u98df\u7269!\n\u6bcf\u4e2a\u5c0f\u732a\u559c\u6b22\u7684\u98df\u7269\u4e0d\u540c\n<color=#EC5656>\u70b9\u51fb\u9009\u62e9\u5c0f\u732a\u559c\u6b22\u7684\u98df\u7269!</c>"},{path:"game/field",tip:"<color=#EC5656>\u70b9\u51fb\u7a7a\u5730\u7ed9\u5c0f\u732a\u6295\u98df</c>",finger:cc.v2(-250,0)},{path:"game",tip:"\u7ee7\u7eed\u6295\u5c0f\u732a\u559c\u6b22\u7684\u98df\u7269,\n<color=#EC5656>\u628a\u5c0f\u732a\u517b\u5927\u5427</c>.\n(\u70b9\u51fb\u5730\u4e0a\u98df\u7269\u53ef\u4ee5\u6536\u56de\u98df\u7269)",hidefinger:!0}]},{pre:7,list:[{path:"game/field/pig0",tip:"<color=#EC5656>\u628a\u732a\u62d6\u5230\u914d\u79cd\u4e2d\u5fc3</c>\n\u8ba9\u4ed6\u4eec\u751f\u51fa\u66f4\u9ad8\u7ea7\u54c1\u79cd\u7684\u5c0f\u732a",slider:{obj:"game/field/pig0",dest:cc.v2(266,320)}},{path:"game/field/pig1",tip:"<color=#EC5656>\u628a\u53e6\u4e00\u5934\u732a\u62d6\u5230\u914d\u79cd\u4e2d\u5fc3</c>",slider:{obj:"game/field/pig1",dest:cc.v2(266,320)}}],condition:function(){return void 0!=n.userdata.piglist[0]&&void 0!=n.userdata.piglist[1]&&n.userdata.piglist[0].age==n.gametype.PigAge.Adult&&n.userdata.piglist[1].age==n.gametype.PigAge.Adult&&n.userdata.piglist[0].sex!=n.userdata.piglist[1].sex}},{pre:8,list:[{path:"game/gobreed",tip:"\u6253\u5f00\u914d\u79cd\u4e2d\u5fc3",overturn:!0},{path:"breed/frame/list/view/content/0",tip:"<color=#EC5656>\u9009\u62e9\u4e00\u5934\u732a</c>\n\u53ef\u4ee5\u770b\u5230\u5b83\u53ef\u80fd\u751f\u51fa\u7684\u5c0f\u732a",tipRaise:-200},{path:"breed/frame/list/view/content/1",tip:"<color=#EC5656>\u518d\u9009\u62e9\u4e00\u5934\u732a</c>\n\u53ef\u4ee5\u770b\u5230\u5b83\u4eec\u53ef\u80fd\u751f\u51fa\u7684\u5c0f\u732a",tipRaise:-200},{path:"breed/frame/breed",tip:"<color=#EC5656>\u70b9\u51fb\u5f00\u59cb\u914d\u79cd</c>",tipRaise:-200},{path:"breed/close",tip:"\u914d\u79cd\u4e2d!\n\u6211\u4eec\u53ef\u4ee5\u56de\u517b\u732a\u573a\u9972\u517b\u66f4\u591a\u5c0f\u732a!\n<color=#EC5656>\u5173\u95ed\u914d\u79cd\u4e2d\u5fc3</c>",tipRaise:-200,overturn:!0},{path:"breedinfo/frame/0/speedup",tip:"<color=#EC5656>\u70b9\u51fb\u52a0\u901f</c>\u53ef\u4ee5\u51cf\u5c11\u914d\u79cd\u65f6\u95f4",overturn:!0}],condition:function(){if(console.log("step 9 condition"),void 0!=n.userdata.piglist[0]&&void 0!=n.userdata.piglist[1]&&n.userdata.piglist[0].age==n.gametype.PigAge.Adult&&n.userdata.piglist[1].age==n.gametype.PigAge.Adult&&n.userdata.piglist[0].sex!=n.userdata.piglist[1].sex&&n.userdata.piglist[0].breedtype==n.gametype.BreedType.Prepare&&n.userdata.piglist[1].breedtype==n.gametype.BreedType.Prepare)return!0;for(var t=!1,i=0;i<n.userdata.breedtime.length;++i)""!=n.userdata.breedtime[i]&&(t=!0);return!!t}},{pre:9,list:[{path:"game/gobreed",tip:"\u5feb\u6765\u770b\u770b\u65b0\u751f\u7684\u5c0f\u732a\n<color=#EC5656>\u6253\u5f00\u914d\u79cd\u4e2d\u5fc3</c>",overturn:!0},{path:"breed/frame/list/view/content/0",tip:"<color=#EC5656>\u9009\u62e9\u4e00\u5934\u732a</c>\n\u65b0\u751f\u7684\u5c0f\u732a\u9700\u8981\u4f60\u7684\u5582\u517b",tipRaise:-200},{path:"breed/frame/feed",tip:"<color=#EC5656>\u70b9\u51fb\u5f00\u59cb\u9972\u517b</c>",tipRaise:-200,ahead:!0},{path:"breed/close",tip:"\u65b0\u751f\u7684\u5c0f\u732a\u5df2\u7ecf<color=#EC5656>\u53bb\u5230\u517b\u732a\u573a!</c>\n\u6211\u4eec\u53ef\u4ee5\u5728\u517b\u732a\u573a\u5582\u5b83!",tipRaise:-200,overturn:!0}],condition:function(){return""!=n.userdata.piglist[0]&&null!=n.userdata.piglist[0]}},{pre:10,list:[{path:"info/btns/friend",tip:"\u6211\u4eec\u53bb\u597d\u53cb\u5bb6\u770b\u770b\u5427!\n<color=#EC5656>\u70b9\u51fb\u597d\u53cb</c>"},{path:"friend/list/view/content/0",tip:"<color=#EC5656>\u70b9\u51fb\u524d\u5f80\u8001\u738b\u7684\u517b\u732a\u573a</c>",tipRaise:154},{path:"game/gobreed/state/over/gain",tip:"\u554a\u54c8!\u8001\u738b\u5bb6\u6709\u65b0\u7684\u5c0f\u732a\u51fa\u751f!\n\u6084\u6084\u6536\u4e00\u53ea\u5230\u81ea\u5df1\u7684\u517b\u732a\u573a\u5427!\n<color=#EC5656>\u70b9\u51fb\u5c0f\u732a</c>",overturn:!0},{path:"game/field/foodLayout/food0",tip:"\u55ef!\u5730\u4e0a\u8fd8\u6709\u8fd9\u4e48\u591a\u98df\u7269!\n\u987a\u4fbf\u4e5f\u6536\u8d70\u4e00\u4e9b\u5427!\n<color=#EC5656>\u70b9\u51fb\u98df\u7269\u6536\u8d70</c>",ahead:!0},{path:"game/field/shitLayout/shit0",tip:"\u597d\u4eba\u505a\u5230\u5e95\n\u987a\u4fbf\u5e2e\u4ed6\u6e05\u7406\u4e0b\u4fbf\u4fbf\u5427\n<color=#EC5656>\u70b9\u51fb\u4fbf\u4fbf\u6e05\u7406</c>"},{path:"game/gohome",tip:"\u597d\u4e86,<color=#EC5656>\u56de\u81ea\u5df1\u517b\u732a\u573a\u5427!</c>\n\u6709\u7a7a\u518d\u6765\u770b\u770b"}]},{pre:11,list:[{path:"game",tip:"\u517b\u732a\u573a\u5f88\u810f",delay:1e3,hidefinger:!0},{path:"game/field/robot",tip:"<color=#EC5656>\u70b9\u51fb\u673a\u5668\u4eba</c>\n\u673a\u5668\u4eba\u53ef\u4ee5\u5e2e\u4f60\u6e05\u7406\u517b\u732a\u573a"}]},{pre:12,list:[{path:"info/rbtns/dial",tip:"\u5e78\u8fd0\u5927\u8f6c\u76d8\u5f00\u542f\u5566!\n<color=#EC5656>\u70b9\u51fb\u5f00\u542f\u8f6c\u76d8\u754c\u9762</c>",tipRaise:-505,overturn:!0},{path:"dial/start",tip:"\u5e78\u8fd0\u5927\u8f6c\u76d8\u5f00\u542f\u5566!\n<color=#EC5656>\u70b9\u51fb\u5f00\u542f\u8f6c\u76d8\u754c\u9762</c>",tipRaise:-505},{path:"dial",tip:"\u5927\u5956\u5373\u5c06\u63ed\u6653",tipRaise:-505,hidefinger:!0},{path:"dial/close",tip:"\u606d\u559c\u60a8\u83b7\u5f975000\u91d1\u5e01\u5927\u5956",tipRaise:-505,overturn:!0}]},{pre:13,list:[{path:"info/info/upgrade",tip:"\u98df\u7269\u79cd\u7c7b\u6709\u70b9\u5c11!\n\u5347\u7ea7\u517b\u732a\u573a\u53ef\u4ee5\u89e3\u9501\u66f4\u591a\u7684\u98df\u7269!\n<color=#EC5656>\u70b9\u51fb\u6253\u5f00\u5347\u7ea7\u754c\u9762</c>"},{path:"upgrade/sure",tip:"\u5347\u7ea7\u519c\u573a\u53ef\u4ee5\u540c\u65f6\u9972\u517b\u66f4\u591a\u5c0f\u732a!\n<color=#EC5656>\u70b9\u51fb\u5347\u7ea7\u517b\u732a\u573a</c>",tipRaise:-505,ahead:!0},{path:"upgrade",tip:"",delay:500,hidefinger:!0},{path:"upgrade/close",tip:"\u73b0\u5728\u5c0f\u732a\u5403\u7684\u98df\u7269\u53d8\u591a\u4e86!\n<color=#EC5656>\u70b9\u51fb\u5173\u95ed\u5347\u7ea7\u754c\u9762</c>",tipRaise:-505},{path:"game",tip:"\u60a8\u5df2\u638c\u63e1\u517b\u732a\u7684\u6280\u5de7\n<color=#EC5656>\u5feb\u8d2d\u4e70\u66f4\u591a\u732a\u82d7\u5e76\u517b\u5927\u914d\u79cd</c>",delay:2e3,hidefinger:!0}]},{list:[{path:"detail/bg/littlebg",tip:"<color=#EC5656>\u5c0f\u732a\u751f\u75c5\u4e86</c>",delay:1e3,hidefinger:!0},{path:"detail/btns/cure",tip:"<color=#EC5656>\u70b9\u51fb\u6cbb\u7597\u5c0f\u732a</c>",tipRaise:-505}],condition:function(){if(!n.ui.isShow("detail"))return!1;for(var t=0;t<n.userdata.piglist.length;++t)if(""!=n.userdata.piglist[t]&&null!=n.userdata.piglist[t]&&n.userdata.piglist[t].state==n.gametype.PigState.Ill)return!0;return!1}},{list:[{path:"detail/close",tip:"\u5c0f\u732a\u53d8\u6210\u6210\u732a\u4e86!\n\u83b7\u5f97\u4e00\u4e2a\u65b0\u54c1\u79cd\u4f1a\u8bb0\u5f55\u5230<color=#EC5656>\u56fe\u9274</c>\u91cc!",tipRaise:-505,ahead:!0},{path:"info/btns/book",tip:"<color=#EC5656>\u70b9\u51fb\u6253\u5f00\u56fe\u9274</c>"},{path:"book/list/view/content/item",tip:"\u65b0\u54c1\u79cd\u5c0f\u732a\u4f1a\u8bb0\u5f55\u5728\u8fd9\u91cc",tipRaise:-535,delay:1e3,hidefinger:!0},{path:"book/tabs/2",tip:"\u8fd8\u6709\u5f88\u591a\u79cd\u6709\u8da3\u7684\u5c0f\u732a\u7b49\u4f60\u6765\u6536\u96c6",tipRaise:-535},{path:"book/close",tip:"\u5173\u95ed\u56fe\u9274",tipRaise:-535}],condition:function(){if("1"==n.userdata.book[3])return!0;for(var t=0;t<n.userdata.piglist.length;++t){var i=n.userdata.piglist[t];if(""!=i&&null!=i){var e=i.id;if("0"==n.userdata.book[e-1]&&i.age==n.gametype.PigAge.Adult)return!0}}return!1}}],cc._RF.pop()},{"../app":"app"}],launch:[function(t,i,e){"use strict";cc._RF.push(i,"0283eUrUQxFhbmV73hkHOIe","launch");var n=t("../common/config"),s=(t("querystring"),t("../data/userdata")),a=t("../data/gamedata"),o=t("../manager/event"),r=t("../platform/login"),c=(t("../manager/ui"),t("../data/gametype")),h=t("../manager/request"),l={query:{},feedback:null,system:{},network:0,scene:"",init:function(){var t=this;if(WECHATGAME||QQPLAY){var i=ctt.getLaunchOptionsSync();if(this.query=i.query,this.scene=i.scene,console.log("\u542f\u52a8:"+this.query),void 0!=this.query.inviteId&&(s.isInvite=!0,s.inviteId=this.query.inviteId),this.query.shareId){var e={UpdateShare:this.query.shareId},l=this.query.stampId;h.post(n.configUrl.url,e,function(t){console.log(t),0==t.Result?0==s.stamp&&(s.getStampId=l):a.getStampError=!0})}ctt.onShow(function(i){if(console.log("wx.onShow"),t.query=i.query,t.scene=i.scene,console.log(t.query),o.emit("wxshow"),void 0!=t.query.inviteId&&r.updateInviteFriend(t.query.inviteId),t.query.shareId){var e={UpdateShare:t.query.shareId},l=t.query.stampId;h.post(n.configUrl.url,e,function(t){0==t.Result?0==s.stamp?s.getStamp=l:(0==s.stamp[l]&&(s.stamp[l]=1),s.stampList[l]++,s.saveStamp(),o.emit(c.eventType.REFRESHSTAMP)):a.getStampError=!0})}}),this.feedback=ctt.createFeedbackButton({type:"text",text:"\u610f\u89c1\u53cd\u9988",style:{left:10,top:10,width:60,height:30,lineHeight:30,backgroundColor:"#88888855",color:"#ffffff",textAlign:"center",fontSize:12,borderRadius:4}}),ctt.getNetworkType({success:function(t){var i=t.networkType;console.log("network:"+i),this.network="none"!=i}}),ctt.onNetworkStatusChange(function(i){t.network=i.isConnected,t.network||ctt.showModal({title:"\u63d0\u793a",content:"\u8bf7\u786e\u8ba4\u7f51\u7edc\u662f\u5426\u8fde\u63a5",showCancel:!1,cancelText:"",confirmText:"\u786e\u5b9a",success:function(i){i.confirm&&(t.loginTime=0,self.getUserData())}})}),this.system=ctt.getSystemInfoSync()}}};i.exports=l,cc._RF.pop()},{"../common/config":"config","../data/gamedata":"gamedata","../data/gametype":"gametype","../data/userdata":"userdata","../manager/event":"event","../manager/request":"request","../manager/ui":"ui","../platform/login":"login",querystring:3}],loading:[function(t,i,e){"use strict";cc._RF.push(i,"9f592b9TzFHPK76qrxUgDnS","loading"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.img=this.node.getChildByName("img")},start:function(){},update:function(t){},onShow:function(){console.log("loadingshow"),this.img.rotation=0,this.img.stopAllActions();var t=cc.repeatForever(cc.rotateBy(2,360));this.img.runAction(t)},onHide:function(){console.log("loadinghide")}}),cc._RF.pop()},{}],login:[function(t,i,e){"use strict";cc._RF.push(i,"dc1e4FSLmxALYJlNoKtVBu7","login");var n=t("../common/config"),s=t("../manager/request"),a=(t("../manager/time"),t("../platform/launch"),t("../manager/ui")),o=t("../data/userdata"),r=(t("../data/relatedata"),t("../logic/formula"),t("../data/gamedata")),c=t("../data/gametype"),h=(t("../common/protocol"),t("../common/util"),t("../platform/native"),"https://z1.shaoweiwy.cn/SpaceBounce/Bounce.aspx"),l=t("../manager/event"),p=(a=t("../manager/ui"),{login:function(t){console.log("login"),a.showLoading();var i=this;if(WECHATGAME||QQPLAY){var e=tt.getLaunchOptionsSync().query.channel;void 0==e&&(e=""),ctt.login({success:function(t){console.log("res.code:"+t.code);var n={Code:t.code};o.isInvite&&(o.isInvite=!1,i.updateInviteFriend(o.inviteId)),ctt.getUserInfo({lang:"zh_CN",success:function(t){console.log(t),o.isGetUserData=!0,o.nickname=t.userInfo.nickName,o.icon=t.userInfo.avatarUrl},fail:function(t){console.log("\u6388\u6743\u5931\u8d25")}}),s.post(h,n,function(n){0==n.Result&&(console.log("Get OpenID:"+n.Openid),o.openid=n.Openid,i.getInfo(n.Openid,e,function(i){o.isLogin=!0,o.gold=i.GoldCoin,console.log("\u91d1\u5e01\u6570\u91cf:"+o.gold),o.lastGameScore=i.Revive,o.maxScore=i.MaxScore,o.totalMaxScore=i.TodayMaxScore,i.TotalSign>=2&&(o.skin[2]=1),i.TotalSign>=3&&(o.skin[3]=1),ctt.hideLoading(),l.emit(c.eventType.LOGIN),console.log(t)}),i.getShareContent(),i.getGameList())})}})}else a.hideLoading()},getInfo:function(t,i,e){var n={OpenId:t,Channel:i};s.post(h,n,function(t){0==t.Result&&e(t),console.log(t)})},updateGold:function(t,i){var e={OpenId:o.openid,GoldCoin:t};s.post(h,e,function(t){0==t.Result?(o.gold=parseInt(t.GoldCoin),l.emit(c.eventType.GOLD),void 0!=i&&i()):a.showFloatTip("\u91d1\u5e01\u4e0d\u8db3")})},getShareContent:function(){var t={AppID:""};WECHATGAME&&(t.AppID="wx26d2d6d7f18c8f79"),QQPLAY&&(t.AppID="1109792590"),s.post("https://list.ty200772.com/CopywritingList.aspx",t,function(t){r.shareData=new Array,r.shareData=new Array(new Array,new Array,new Array,new Array);for(var i=t.Copywriting,e=0;e<i.length;++e){var n=i[e],s=parseInt(n.Type)-1;r.shareData[s].push({text:n.Text,img:n.Img})}WECHATGAME&&wx.showShareMenu({withShareTicket:!0}),QQPLAY&&qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"],withShareTicket:!0}),ctt.updateShareMenu({withShareTicket:!0}),ctt.onShareAppMessage(function(){return{title:r.shareData[0][0].text,imageUrl:r.shareData[0][0].img}})})},postResult:function(t,i,e){if("undefined"!=typeof wx){var n={OpenId:o.openid,Name:o.nickname,Head:o.icon,Score:t,GoldCoin:i,Revive:0,RedpackNum:0,Province:""},a={GameOver:JSON.stringify(n)};s.post(h,a,function(t){0==t.Result&&(e&&e(t),console.log("\u7ed3\u679c\u4e0a\u4f20\u6210\u529f"))})}},getWorldRanking:function(t,i){var e={WorldRanking:o.openid};s.post(h,e,function(t){0==t.Result&&i&&i(t)})},getGameList:function(){var t={GameListID:n.appID};s.post(n.configUrl.gamelist,t,function(t){console.log(t),""!==t&&void 0!==t&&0!=t.GameList.length?r.gamelist=t.GameList:r.gamelist=new Array,console.log("emit gamelist event"),l.emit(c.eventType.GETGAMELIST)})},updateInviteFriend:function(t){var i={inviting:t+"|"+o.openid};s.post(h,i,function(t){console.log(t)})},requestFriendCount:function(){var t=this,i={FriendCount:o.openid};s.post(h,i,function(i){if(console.log(i),0==i.Result&&o.friendNum!=parseInt(i.Count)){o.friendNum=parseInt(i.Count);for(var e=0;e<n.gameConfig.friendReward.length;e++)if(o.friendNum>=n.gameConfig.friendReward[e].num){if(0==o.friendReward[e]){o.friendReward[e]=1;var s=n.gameConfig.friendReward[e].gold;t.updateGold(s),o.saveFriend(),l.emit(app.gametype.eventType.UPDATEFRIEND)}}else o.friendReward[e]=0;o.saveFriend(),l.emit(app.gametype.eventType.UPDATEFRIEND)}})}});i.exports=p,cc._RF.pop()},{"../common/config":"config","../common/protocol":"protocol","../common/util":"util","../data/gamedata":"gamedata","../data/gametype":"gametype","../data/relatedata":"relatedata","../data/userdata":"userdata","../logic/formula":"formula","../manager/event":"event","../manager/request":"request","../manager/time":"time","../manager/ui":"ui","../platform/launch":"launch","../platform/native":"native"}],main:[function(t,i,e){"use strict";cc._RF.push(i,"adf7a7NpfNDH7cIIEB3NoNI","main");var n=t("./app");cc.Class({extends:cc.Component,properties:{},fitiPad:function(){var t=cc.view.getFrameSize();if(t.height/t.width<1.4){var i=cc.find("Canvas").getComponent(cc.Canvas);i.fitHeight=!0,i.fitWidth=!1}},onLoad:function(){var t=this;n.init(function(){t.uiInited()})},update:function(t){n.update(t),n.ad.update(t)},uiInited:function(){console.log("uiinited"),n.ui.show("start")}}),cc._RF.pop()},{"./app":"app"}],msgbox:[function(t,i,e){"use strict";cc._RF.push(i,"969086IDp9LArFLQueR7IXM","msgbox");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.params=null;var t=this.node.getChildByName("btn");t.getChildByName("cancel").on("click",this.onCancel,this),t.getChildByName("sure").on("click",this.onSure,this)},start:function(){},onShow:function(t){if(n.util.isGuided(n.gametype.GuideStep.Dial)&&n.ad.showBannerAd(),void 0==t)return console.error("invaild params to msgbox!"),void n.ui.hide("msgbox");this.params=t,this.btn=this.node.getChildByName("btn"),this.node.getChildByName("text").getComponent(cc.RichText).string=t.content,this.btn.getChildByName("cancel").active=void 0!=this.params.cancel,void 0!=t.confirmText&&""!=t.confirmText?this.btn.getChildByName("sure").getChildByName("label").getComponent(cc.Label).string=t.confirmText:this.btn.getChildByName("sure").getChildByName("label").getComponent(cc.Label).string="\u786e\u5b9a",void 0!=t.cancelText&&""!=t.cancelText&&(this.btn.getChildByName("cancel").getChildByName("label").getComponent(cc.Label).string=t.cancelText)},onHide:function(){},onSure:function(){if(n.audio.playEffect("btnclick"),n.ui.hide("msgbox"),void 0!=this.params.confirm){var t=void 0==this.params.node?this:this.params.node;this.params.confirm.call(t)}},onCancel:function(){if(n.audio.playEffect("btnclick"),n.ui.hide("msgbox"),void 0!=this.params.cancel){var t=void 0==this.params.node?this:this.params.node;this.params.cancel.call(t)}}}),cc._RF.pop()},{"../app":"app"}],multi:[function(t,i,e){"use strict";cc._RF.push(i,"a15a6+rspVDzI0HPBo5115U","multi");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.findChild("close").on("click",this.onClose,this),this.node.findChild("confirm").on("click",this.onComfirm,this),this.node.findChild("add").on(cc.Node.EventType.TOUCH_START,this.onBeginAdd,this),this.node.findChild("minus").on(cc.Node.EventType.TOUCH_START,this.onBeginMinus,this),this.node.findChild("add").on(cc.Node.EventType.TOUCH_END,this.onOverAdd,this),this.node.findChild("minus").on(cc.Node.EventType.TOUCH_END,this.onOverMinus,this),this.node.findChild("add").on(cc.Node.EventType.TOUCH_CANCEL,this.onOverAdd,this),this.node.findChild("minus").on(cc.Node.EventType.TOUCH_CANCEL,this.onOverMinus,this),this.node.findChild("shop").on("click",this.onShop,this),this.callback=null,this.number=1,this.maxNumber=1,this.beginaddtime=null,this.beginminustime=null,this.default=3},start:function(){},onShow:function(t){this.default=n.gamedata.field[n.userdata.fieldlv-1].default,this.node.findChild("title").getComponent(cc.Label).string=t.title,this.callback=t.confirm,this.unitprice=t.unitprice,this.number=n.userdata.gold<=this.default*this.unitprice?1:this.default,this.maxNumber=99,this.refresh(),n.util.isGuided(n.gametype.GuideStep.Dial)&&n.ad.showBannerAd()},onHide:function(){},setImg:function(t,i){n.res.getPigSP(i).then(function(i){t.spriteFrame=i})},update:function(t){null!=this.beginaddtime&&(this.beginaddtime-=t,this.beginaddtime<0&&(this.onAdd(),this.beginaddtime=.1)),null!=this.beginminustime&&(this.beginminustime-=t,this.beginminustime<0&&(this.onMinus(),this.beginminustime=.1))},onBeginAdd:function(){this.onAdd(),this.beginaddtime=.2},onBeginMinus:function(){this.onMinus(),this.beginminustime=.2},onOverAdd:function(){this.beginaddtime=null},onOverMinus:function(){this.beginminustime=null},onClose:function(){n.ui.hide("multi")},onComfirm:function(){this.number*this.unitprice>n.userdata.gold?n.event.emit("lackgold"):(this.callback&&this.callback(this.number),n.ui.hide("multi"))},onAdd:function(){this.number>=this.maxNumber?this.beginaddtime=null:(this.number++,this.refresh())},onMinus:function(){this.number<=1?this.beginminustime=null:(this.number--,this.refresh())},refresh:function(){this.node.findChild("text").getComponent(cc.Label).string=this.number+"";var t=this.unitprice*this.number;this.node.findChild("gold/text").getComponent(cc.Label).string=t,this.node.findChild("gold/text").color=n.userdata.gold<t?new cc.Color(236,86,86):new cc.Color(211,173,86)},onShop:function(){n.ui.hide("multi"),n.ui.show("shop",!0)}}),cc._RF.pop()},{"../app":"app"}],native:[function(t,i,e){"use strict";cc._RF.push(i,"758722xSFBAcpy7b2VDg1f0","native"),cc._RF.pop()},{}],protocol:[function(t,i,e){"use strict";cc._RF.push(i,"1128fDiaTBOR4I9zBaP5k6x","protocol");i.exports={COMMOND:{LOGIN:"/login",AUTH:"/auth",FRIENDS:"/friends",FOES:"/foes",VISIT:"/visit",BEFRIEND:"/befriend",BEGSEX:"/begsex",TOSEX:"/tosex",CHECKSEX:"/checksex",GETSIGN:"/getsign",GETDIAL:"/getdial",RESET:"/reset",SAVE:"/save",TIME:"/time"},CODE:{CHEAT:-2,EXCEPTION:-1,SUCCESS:0,BEGOVERTIME:1,ALREADYBEG:2,BEGEMPTY:3}},cc._RF.pop()},{}],rank:[function(t,i,e){"use strict";cc._RF.push(i,"6a8c9nMCdpCrJN0SGwswk+8","rank");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.closeBtn=this.node.findChild("closeBtn"),this.worldBtn=this.node.findChild("Bg/world"),this.friendBtn=this.node.findChild("Bg/friend"),this.btnPressImg=this.worldBtn.getComponent(cc.Sprite).spriteFrame,this.btnUpImg=this.friendBtn.getComponent(cc.Sprite).spriteFrame,this.wordPressColor=this.worldBtn.findChild("txt").color,this.wordUpColor=this.friendBtn.findChild("txt").color,this.mask=this.node.findChild("mask"),this.authNode=this.node.findChild("authNode"),this.authBtn=this.authNode.findChild("img"),this.register()},register:function(){this.closeBtn.on("click",this.onClose,this),this.worldBtn.on("click",this.onWorld,this),this.friendBtn.on("click",this.onFriend,this)},onShow:function(t){var i=this;if(n.userdata.isGetUserData)this.authNode.active=!1;else if(n.gamedata.userInfoBtn)n.gamedata.userInfoBtn.show();else{var e=this.authNode.convertToWorldSpaceAR(this.authBtn.position).y,s=cc.director.getWinSizeInPixels(),a=1-e/s.height,o=ctt.getSystemInfoSync(),r=200/s.width,c=o.screenWidth*r;n.gamedata.userInfoBtn=ctt.createUserInfoButton({type:"text",text:"",style:{left:o.screenWidth/2-c/2,top:o.screenHeight*a-60,width:c,height:60}}),n.gamedata.userInfoBtn.onTap(function(t){"getUserInfo:ok"==t.errMsg&&(n.gamedata.userInfoBtn.hide(),n.userdata.nickname=t.userInfo.nickName,n.userdata.icon=t.userInfo.avatarUrl,i.authNode.active=!1)})}if(this.closeBtn.active=t,this.mask.active=t,t)this.node.scaleX=1.2,this.node.scaleY=1.2,this.node.y=100;else{this.node.y=0,this.node.scaleX=0,this.node.scaleY=0,this.node.stopAllActions();var h=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.scaleTo(.2,.9,.9),cc.scaleTo(.1,1,1));this.node.runAction(h)}this.tabIdx=0==t?2:1,this.pageIdx=1,this.refreshRank()},onClose:function(){n.ui.hide("rank")},onFriend:function(){2!=this.tabIdx&&(this.tabIdx=2,this.refreshRank())},onWorld:function(){1!=this.tabIdx&&(this.tabIdx=1,this.refreshRank())},refreshRank:function(){if(1==this.tabIdx){var t=new Array;n.getWorldRank(this.pageIdx,function(i){for(var e=0;e<i.Ranking.length;e++)t.push({idx:i.Ranking[e].Index,nickname:i.Ranking[e].Name,avatarUrl:i.Ranking[e].Head,KVDataList:[{value:i.Ranking[e].Score}]});"undefined"!=typeof ctt&&ctt.postMessage({action:"world",data:t})}),this.worldBtn.getComponent(cc.Sprite).spriteFrame=this.btnPressImg,this.worldBtn.findChild("txt").color=this.wordPressColor,this.friendBtn.getComponent(cc.Sprite).spriteFrame=this.btnUpImg,this.friendBtn.findChild("txt").color=this.wordUpColor}2==this.tabIdx&&(this.worldBtn.getComponent(cc.Sprite).spriteFrame=this.btnUpImg,this.worldBtn.findChild("txt").color=this.wordUpColor,this.friendBtn.getComponent(cc.Sprite).spriteFrame=this.btnPressImg,this.friendBtn.findChild("txt").color=this.wordPressColor,"undefined"!=typeof ctt&&ctt.postMessage({action:"friend",data:""}))}}),cc._RF.pop()},{"../app":"app"}],relatedata:[function(t,i,e){"use strict";cc._RF.push(i,"4ace7UKutRDlIe5aYtXWUGP","relatedata");i.exports={friends:null,foes:null,updatefriend:null,beglist:[]},cc._RF.pop()},{}],relive:[function(t,i,e){"use strict";cc._RF.push(i,"1b3c8HFlTdLPaf67HjY40q7","relive");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.passTxt=this.node.findChild("passNode/text").getComponent(cc.Label),this.passIcon=this.node.findChild("passNode/mask/icon").getComponent(cc.Sprite),this.ghost=this.node.findChild("icon"),this.reliveBtn=this.node.findChild("reliveBtn"),this.giveUpBtn=this.node.findChild("giveUpBtn"),this.ghostPos={x:this.ghost.x,y:this.ghost.y},this.btnHideTimer=2,this.hideTimer=0,this.register()},register:function(){this.reliveBtn.on("click",this.onRelive,this),this.giveUpBtn.on("click",this.onGiveUp,this)},onShow:function(t){this.ghost.x=this.ghostPos.x,this.ghost.y=this.ghostPos.y;var i=Math.ceil(500*Math.random());this.passTxt.string="\u8fd8\u5dee"+i+"\u5206\u8d85\u8d8a";var e=Math.floor(Math.random()*n.config.robotData.length);n.util.createIcon(this.passIcon,n.config.robotData[e].icon),this.ghost.stopAllActions(),this.ghost.runAction(n.util.getFloatAnim()),n.ad.showBannerAd(),this.hideTimer=this.btnHideTimer,this.giveUpBtn.active=!1},update:function(t){0==this.giveUpBtn.active&&(this.hideTimer-=t,this.hideTimer<=0&&(this.giveUpBtn.active=!0))},onRelive:function(){n.ad.showVideoAd(function(){n.event.emit(n.gametype.eventType.RELIVE)},"relive")},onGiveUp:function(){n.audio.playEffect(n.audio.soundType.click),n.ui.hide("relive"),n.ui.hide("game"),n.ui.show("result")},onHide:function(){this.ghost.stopAllActions(),n.ad.hideBannerAd()}}),cc._RF.pop()},{"../app":"app"}],request:[function(t,i,e){"use strict";cc._RF.push(i,"b39cc3y85NKTrdZVEoaEvhl","request");var n=t("querystring"),s=t("../common/protocol"),a=t("../manager/event");i.exports={post:function(t,i,e){new Array;var o=n.stringify(i);console.log("request:"+t+"?"+o);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&r.status>=200&&r.status<400){var t=r.responseText;console.log(t);var i=JSON.parse(t);switch(i.Result){case s.CODE.EXCEPTION:console.log("\u670d\u52a1\u5668\u8fd4\u56de\u5f02\u5e38");break;case s.CODE.CHEAT:a.emit("cheat");break;default:e(i)}}},r.open("POST",t,!0),r.send(o)}},cc._RF.pop()},{"../common/protocol":"protocol","../manager/event":"event",querystring:3}],result:[function(t,i,e){"use strict";cc._RF.push(i,"405b1PuNABDXaa81/KyWHz1","result");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.scoreTxt=this.node.findChild("score/num").getComponent(cc.Label),this.gainGoldTxt=this.node.findChild("goldNode/num").getComponent(cc.Label),this.againBtn=this.node.findChild("againBtn"),this.shareBtn=this.node.findChild("shareBtn"),this.homeBtn=this.node.findChild("homeBtn"),this.stampBtn=this.node.findChild("stampBtn"),this.stampTip=this.node.findChild("tip"),this.moreBtn=this.node.findChild("moreBtn"),this.moreBtn.runAction(n.util.getQuakeAnim()),this.drawBtn=this.node.findChild("freestamp"),this.drawBtnTip=this.node.findChild("drawTip"),this.newRecord=this.node.findChild("score/record"),this.register()},register:function(){this.againBtn.on("click",this.onAgain,this),this.shareBtn.on("click",this.onShare,this),this.homeBtn.on("click",this.onHome,this),this.stampBtn.on("click",function(){n.ui.show("achieve")},this),this.drawBtn.on("click",this.onDraw,this);var t=this;n.event.on(n.gametype.eventType.STAMPNEW,function(){t.stampTip.active=!0},this),n.event.on(n.gametype.eventType.READSTAMP,function(){t.stampTip.active=!1},this),n.event.on(n.gametype.eventType.STAMPTIPHIDE,function(){t.playButtonAnima()},this),n.event.on(n.gametype.eventType.REFRESHDRAW,function(){t.drawBtn.active=n.userdata.isDraw},this),this.moreBtn.on("click",function(){n.event.emit(n.gametype.eventType.SHOWGAMELIST)},this)},onShow:function(t){this.drawBtnTip.active=n.userdata.isDraw,n.userdata.selectSkin=n.userdata.orginSkin,n.gamedata.roundNum++,this.stampTip.active=!1,"undefined"!=typeof ctt&&ctt.postMessage({action:"finish",data:{score:n.userdata.roundScore}}),n.ui.show("guess"),this.scoreTxt.string=n.userdata.roundScore;var i=n.userdata.gainGold;this.gainGoldTxt.string="x"+i,n.postResult(function(t){n.userdata.gold=t.GoldCoin,n.userdata.gainGold=0,n.event.emit(n.gametype.eventType.GOLD)}),n.audio.playEffect(n.audio.soundType.result),this.tmpScoreValue=0,this.deltaScore=n.userdata.roundScore/3,this.scoreTxt.node.scaleX=1.4,this.scoreTxt.node.scaleY=1.4,this.againBtn.active=!1,this.shareBtn.active=!1,this.newRecord.active=!1,this.playAnimation(),this.animatState="score"},playAnimation:function(){var t=this,i=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.scaleTo(.2,.9,.9),cc.scaleTo(.1,1,1),cc.callFunc(function(){var i=n.userdata.getHighScore();n.userdata.roundScore>i&&(t.newRecord.active=!0,n.userdata.setHighScore(n.userdata.roundScore))}));this.scoreTxt.node.scaleX=0,this.scoreTxt.node.scaleY=0,this.scoreTxt.node.stopAllActions(),this.scoreTxt.node.runAction(i),this.scheduleOnce(function(){n.ui.show("rank")},1);t=this;this.scheduleOnce(function(){n.gamedata.getStampList.length<=0?t.playButtonAnima():n.ui.show("stampTip")},2)},playButtonAnima:function(){this.againBtn.active=!0,this.shareBtn.active=!0,this.againBtn.scaleX=0,this.againBtn.scaleY=0,this.shareBtn.scaleX=0,this.shareBtn.scaleY=0;var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.scaleTo(.2,.9,.9),cc.scaleTo(.1,1,1)),i=cc.sequence(cc.scaleTo(.4,1.2,1.2),cc.scaleTo(.1,.9,.9),cc.scaleTo(.05,1,1));this.againBtn.stopAllActions(),this.shareBtn.stopAllActions(),this.againBtn.runAction(i),this.shareBtn.runAction(t)},update:function(t){},onHide:function(t){n.ui.hide("rank"),n.ui.hide("guess")},onAgain:function(){n.audio.playEffect(n.audio.soundType.click),console.log("again"),n.ui.hide("game"),n.ui.hide("result"),n.ui.show("start"),n.ui.show("skin"),n.roundNum%3==0&&n.ad.showInsertAd()},onDraw:function(){n.ui.show("draw")},onHome:function(){n.audio.playEffect(n.audio.soundType.click),n.ui.hide("result"),n.ui.show("start")},onShare:function(){n.audio.playEffect(n.audio.soundType.click);var t=Math.floor(Math.random()*n.gamedata.shareData.length),i=Math.floor(Math.random()*n.gamedata.shareData[t].length);n.share.do(n.gamedata.shareData[t][i].text,n.gamedata.shareData[t][i].img)}}),cc._RF.pop()},{"../app":"app"}],res:[function(t,i,e){"use strict";cc._RF.push(i,"75671yGFuxI9KtX5GglYtc0","res");t("../data/gamedata"),t("../common/util");var n={bgm:{},load:function(){var t=this;cc.loader.loadRes("audios/bgm",cc.AudioClip,function(i,e){i&&console.error(i),t.bgm=e})}};i.exports=n,cc._RF.pop()},{"../common/util":"util","../data/gamedata":"gamedata"}],share:[function(t,i,e){"use strict";cc._RF.push(i,"c2bd0Zk2zlNIJvGFXQmr3SL","share");var n=t("../common/config"),s=t("../data/userdata"),a=(t("../platform/native"),{isCancel:!1,simulateshare:null,text:"",img:"",init:function(){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(){if(null!=this.simulateshare){var i=(new Date).getTime(),e=Math.random()<.2?6e3:3e3;!t.isCancel&&i-t.simulateshare.time<e&&(t.isCancel=!0),t.isCancel?(console.log("\u5206\u4eab\u5931\u8d25"),this.simulateshare.fail&&this.simulateshare.fail(),this.simulateshare.success&&ctt.showModal({title:"\u63d0\u793a",content:"\u9080\u8bf7\u4e0d\u540c\u597d\u53cb\u624d\u53ef\u83b7\u5f97\u5956\u52b1!",confirmColor:"#3cc51f",success:function(i){i.confirm?t.do(t.text,t.img,"",t.simulateshare.success,null):i.cancel&&(this.simulateshare=null)}})):(console.log("\u5206\u4eab\u6210\u529f"),this.simulateshare.success&&(this.simulateshare.success(),ctt.showToast({title:"\u5206\u4eab\u6210\u529f",icon:"success",duration:2e3}),this.simulateshare=null))}else console.log("\u6ca1\u6709\u5206\u4eab,\u4e0d\u7528\u5224\u65ad")},this)},do:function(t,i,e,a,o,r){if(a&&(0==n.control.shareOpen||n.localversion>=n.netversion))a();else{0,this.text=t,this.img=i,e="inviteId="+s.openid+"&"+(e||""),console.log("query: "+e);var c=(new Date).getTime();this.simulateshare={time:c,success:a,fail:o};var h=this;h.isCancel=!1,(WECHATGAME||QQPLAY)&&ctt.shareAppMessage({title:t,imageUrl:i,query:e,cancel:function(t){h.isCancel=!0}})}}});i.exports=a,cc._RF.pop()},{"../common/config":"config","../data/userdata":"userdata","../platform/native":"native"}],skin:[function(t,i,e){"use strict";cc._RF.push(i,"5abe4hy/eBIsJc1BwS7GyXF","skin");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.fightBtn=this.node.findChild("frame/sureBtn"),this.unlockBtn=this.node.findChild("frame/unlockBtn"),this.tryBtn=this.node.findChild("frame/tryBtn"),this.shareBtn=this.node.findChild("frame/shareBtn"),this.itemParent=this.node.findChild("scrollView/view/content"),this.contentLayout=this.itemParent.getComponent(cc.Layout),this.goldTxt=this.node.findChild("goldNode/num").getComponent(cc.Label),this.background=this.node.findChild("background"),this.selectImg=this.node.findChild("select"),this.itemList=new Array;for(var t=0;t<this.itemParent.children.length;t++)this.itemParent.children[t].name=t+"",this.itemList.push(this.itemParent.children[t]);this.scrollView=this.node.findChild("scrollView"),this.moreBtn=this.node.findChild("moreBtn"),this.moreBtn.runAction(n.util.getQuakeAnim()),this.goldBtn=this.node.findChild("goldNode"),this.register()},register:function(){this.moreBtn.on("click",function(){n.event.emit(n.gametype.eventType.SHOWGAMELIST)},this),this.fightBtn.on("click",this.onFight,this),this.unlockBtn.on("click",this.onUnlock,this),this.shareBtn.on("click",this.onShare,this);for(var t=0;t<this.itemList.length;t++)this.itemList[t].on("click",function(t){this.onselect(parseInt(t.node.name))}.bind(this),this);this.scrollView.on("touch-up",this.onScollEnd,this),this.scrollView.on("scroll-began",this.onScrollBegin,this),this.background.on("click",this.onClose,this),this.tryBtn.on("click",this.onVedio,this),this.goldBtn.on("click",this.onGold,this);var i=this;n.event.on(n.gametype.eventType.GOLD,function(){i.goldTxt.string=n.userdata.gold},this)},onShow:function(t){n.ad.showBannerAd(),this.goldTxt.string=n.userdata.gold;for(var i=0;i<n.config.skinConfig.length;i++)this.itemList[i].findChild("name").getComponent(cc.Label).string=n.config.skinConfig[i].name,this.itemList[i].findChild("skill").getComponent(cc.Label).string=n.config.skinConfig[i].content,this.itemList[i].findChild("role").getComponent(cc.Sprite).spriteFrame=n.gamedata.skinSpriteFrameList[i],0==n.userdata.skin[i]?(this.itemList[i].findChild("state").getComponent(cc.Label).string="",this.itemList[i].findChild("price").active=!0,this.itemList[i].findChild("lock").active=!0,this.itemList[i].findChild("price/num").getComponent(cc.Label).string="x"+n.config.skinConfig[i].price):(this.itemList[i].findChild("price").active=!1,this.itemList[i].findChild("state").getComponent(cc.Label).string="\u5df2\u83b7\u5f97",this.itemList[i].findChild("lock").active=!1);if(this.curIdx=n.userdata.selectSkin,n.gamedata.isOpenSkinUI)for(i=0;i<n.userdata.skin.length;i++)if(0==n.userdata.skin[i]){this.curIdx=i;break}var e=this.itemList[1].x-this.itemList[0].x;this.itemParent.x=-e*this.curIdx,this.onselect(this.curIdx),n.gamedata.isOpenSkinUI=!0},onHide:function(){n.ad.hideBannerAd()},onScrollBegin:function(){this.itemParent.stopAllActions(),this.selectImg.active=!1},onScollEnd:function(){for(var t=this.itemList[1].x-this.itemList[0].x,i=9999,e=0,n=0;n<this.itemList.length;n++)Math.abs(this.itemParent.x- -t*n)<i&&(i=Math.abs(this.itemParent.x- -t*n),e=n);this.itemParent.stopAllActions();var s=this,a=cc.sequence(cc.moveTo(.1,cc.v2(-e*t,s.itemParent.y)),cc.callFunc(function(){s.onselect(e)}));this.itemParent.runAction(a)},onClose:function(){n.ui.hide("skin")},onFight:function(){n.ui.hide("skin"),n.ui.hide("start"),n.ui.show("game",{score:0})},onUnlock:function(){var t=this.curIdx,i=n.config.skinConfig[t].price;if(i>n.userdata.gold)return n.ui.showFloatTip("\u91d1\u5e01\u4e0d\u8db3"),void n.ui.show("friend");var e=this,s={content:"\u662f\u5426\u82b1\u8d39\u91d1\u5e01\u89e3\u9501\u76ae\u80a4\uff1f",price:i,callback:function(){n.updateGold(-i,function(){n.userdata.skin[t]=1,e.fightBtn.active=!0,e.unlockBtn.active=!1,e.tryBtn.active=!1,e.shareBtn.active=!1,n.userdata.selectSkin=t,e.itemList[t].findChild("lock").active=!1,n.userdata.saveSkin()})}};n.ui.show("confirm",s)},onselect:function(t){n.audio.playEffect(n.audio.soundType.click),this.selectImg.active=!0,this.curIdx=t,console.log(t),1==n.userdata.skin[t]?(this.fightBtn.active=!0,this.unlockBtn.active=!1,this.tryBtn.active=!1,this.shareBtn.active=!1,n.userdata.selectSkin=t,n.userdata.orginSkin=t):(this.fightBtn.active=!1,this.tryBtn.active=!0,1==n.config.skinConfig[t].share?(this.shareBtn.active=!0,this.unlockBtn.active=!1):(this.unlockBtn.active=!0,this.shareBtn.active=!1))},onVedio:function(){var t=this;n.ad.showVideoAd(function(){n.userdata.orginSkin=n.userdata.selectSkin,n.userdata.selectSkin=t.curIdx,n.ui.hide("skin"),n.ui.hide("start"),n.ui.show("game")},"skinTry")},onShare:function(){var t=this,i=Math.floor(Math.random()*n.gamedata.shareData.length),e=Math.floor(Math.random()*n.gamedata.shareData[i].length);n.share.do(n.gamedata.shareData[i][e].text,n.gamedata.shareData[i][e].img,null,function(){for(var i=0,e=0;e<n.config.skinConfig.length;e++)if(1==n.config.skinConfig[e].share){i=e;break}n.userdata.skin[i]=1,n.userdata.saveSkin(),t.curIdx==i&&(t.fightBtn.active=!0,t.tryBtn.active=!1,t.unlockBtn.active=!1,t.shareBtn.active=!1,n.userdata.selectSkin=i,t.itemList[i].findChild("lock").active=!1)})},onGold:function(){n.ui.show("friend")}}),cc._RF.pop()},{"../app":"app"}],stampTip:[function(t,i,e){"use strict";cc._RF.push(i,"eba0f4YDe9H3bBFe16BNiKW","stampTip");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.sureBtn=this.node.findChild("sureBtn"),this.icon=this.node.findChild("get/icon").getComponent(cc.Sprite),this.spine=this.node.findChild("get").getComponent(sp.Skeleton),this.stampBtn=this.node.findChild("stampBtn"),this.register()},register:function(){this.sureBtn.on("click",this.onSure,this)},start:function(){},onShow:function(){if(n.audio.playEffect(n.audio.soundType.stampShow),0!=n.gamedata.getStampList.length){var t=n.gamedata.getStampList.pop();0==n.userdata.stamp[t]&&n.event.emit(n.gametype.eventType.STAMPNEW),this.icon.spriteFrame=n.gamedata.stampSpriteFrameList[t+1],this.spine.clearTracks(),this.spine.setAnimation(0,"1",!1),this.spine.addAnimation(0,"2",!0),this.icon.node.stopAllActions();var i=cc.sequence(cc.fadeOut(0),cc.scaleTo(1.3,1,1),cc.fadeIn(1.3));this.spine.node.x=0,this.spine.node.y=0,this.spine.node.active=!0,this.spine.node.scaleX=1,this.spine.node.scaleY=1,this.icon.node.runAction(i),n.userdata.stamp[t]=1,n.userdata.stampList[t]++,n.userdata.saveStamp()}else n.ui.hide("stampTip")},onSure:function(){this.spine.clearTracks(),this.spine.setAnimation(0,"2",!0);var t=this;this.spine.node.stopAllActions();var i=cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(this.stampBtn.x,this.stampBtn.y)),cc.scaleTo(.5,0,0)),cc.callFunc(function(){t.spine.node.active=!1,n.gamedata.getStampList.length>0?t.onShow():(n.ui.hide("stampTip"),n.event.emit(n.gametype.eventType.STAMPTIPHIDE))}));this.spine.node.runAction(i)}}),cc._RF.pop()},{"../app":"app"}],start:[function(t,i,e){"use strict";cc._RF.push(i,"45799s178RDPZkl7emCjErr","start");var n=t("../app");cc.Class({extends:cc.Component,properties:{},onLoad:function(){console.log("start onLoad"),n.share.init(),this.startBtn=this.node.findChild("startBtn"),this.rankBtn=this.node.findChild("btns/rankBtn"),this.skinBtn=this.node.findChild("btns/skinBtn"),this.shareBtn=this.node.findChild("btns/shareBtn"),this.cjBtn=this.node.findChild("btns/cjBtn"),this.achieveBtn=this.node.findChild("achieveBtn"),this.goldTxt=this.node.findChild("goldNode/num").getComponent(cc.Label),this.moneyBtn=this.node.findChild("money"),this.stampTip=this.node.findChild("tip"),this.drawTip=this.node.findChild("drawTip"),this.moreBtn=this.node.findChild("moreBtn"),this.goldBtn=this.node.findChild("goldNode"),this.soundOnBtn=this.node.findChild("sound/on"),this.soundOffBtn=this.node.findChild("sound/off"),this.freeStampBtn=this.node.findChild("freestamp"),this.register(),this.glass=this.node.findChild("cao"),this.leef=this.node.findChild("yezi");var t=cc.director.getWinSizeInPixels();this.offsetY=(t.height-1280)/2,-1!=n.userdata.getStamp&&n.ui.showFloatTip("\u6210\u529f\u83b7\u5f97\u4e00\u5f20\u90ae\u7968"),n.userdata.getSkin(),n.userdata.getStamp(),n.userdata.getFriend(),n.userdata.getDrawChance(),this.duck=this.node.findChild("yaya"),this.speedX=200,this.speedY=20,this.duckPos={x:-229,y:-79},this.getControlInfo();for(var i=0;i<30;i++)n.gamedata.stampSpriteFrameList.push("");for(i=0;i<30;i++){var e=i+1+"";cc.loader.loadRes("image/stamp/"+e,cc.SpriteFrame,function(t,i){t&&console.error(t);var e=parseInt(i.name);n.gamedata.stampSpriteFrameList[e]=i})}n.gamedata.skinSpriteFrameList=new Array;var s=new Array;for(i=0;i<n.config.skinConfig.length;i++)n.gamedata.skinSpriteFrameList[i]="",s[n.config.skinConfig[i].img]=i,cc.loader.loadRes("image/skin/"+n.config.skinConfig[i].img,cc.SpriteFrame,function(t,i){t&&console.error(t);var e=s[i.name];n.gamedata.skinSpriteFrameList[e]=i});n.gamedata.skillImgList=new Array;var a=new Array;for(i=0;i<n.config.skinConfig.length;i++)n.gamedata.skillImgList.push(""),""!=n.config.skinConfig[i].skillImg&&(a[n.config.skinConfig[i].skillImg]=i,cc.loader.loadRes("image/skin/"+n.config.skinConfig[i].skillImg,cc.SpriteFrame,function(t,i){t&&console.error(t);var e=a[i.name];n.gamedata.skillImgList[e]=i}));n.gamedata.JumpImgList=new Array;var o=new Array;for(i=0;i<n.config.skinConfig.length;i++)n.gamedata.JumpImgList.push(""),""!=n.config.skinConfig[i].jumpImg&&(o[n.config.skinConfig[i].jumpImg]=i,cc.loader.loadRes("image/skin/"+n.config.skinConfig[i].jumpImg,cc.SpriteFrame,function(t,i){t&&console.error(t);var e=o[i.name];n.gamedata.JumpImgList[e]=i}));"undefined"!=typeof ctt&&ctt.postMessage({action:"init"}),this.moreBtn.runAction(n.util.getQuakeAnim()),this.schedule(function(){var t=n.userdata.isDraw;n.userdata.getDrawChance(),t!=n.userdata.getDrawChance()&&n.event.emit(n.gametype.eventType.REFRESHDRAW)},30)},register:function(){var t=this;this.startBtn.on("click",this.onStart,this),this.rankBtn.on("click",this.onRank,this),this.skinBtn.on("click",this.onSkin,this),this.shareBtn.on("click",this.onShare,this),this.moneyBtn.on("click",this.onMoneyBtn,this),this.achieveBtn.on("click",this.onStamp,this),this.soundOnBtn.on("click",this.onSound,this),this.soundOffBtn.on("click",this.onSound,this),this.freeStampBtn.on("click",this.onDrawStamp,this),this.cjBtn.on("click",this.onAchieve,this),n.event.on(n.gametype.eventType.LOGIN,this.onlogined,this),n.event.on(n.gametype.eventType.GOLD,function(){t.goldTxt.string=n.userdata.gold},this),n.event.on(n.gametype.eventType.READSTAMP,function(){t.stampTip.active=!1},this),n.event.on(n.gametype.eventType.STAMPNEW,function(){t.stampTip.active=!0},this),n.event.on(n.gametype.eventType.GETGAMELIST,function(){n.ui.show("gamelist"),1==t.node.active&&n.ui.show("guess")},this),n.event.on(n.gametype.eventType.REFRESHDRAW,function(){t.drawTip.active=n.userdata.isDraw},this),this.moreBtn.on("click",function(){n.event.emit(n.gametype.eventType.SHOWGAMELIST)},this),this.goldBtn.on("click",this.onGold,this)},onlogined:function(){n.userdata.isLogin=!0,this.goldTxt.string=n.userdata.gold,this.schedule(function(){n.getFriendCount()},10)},onShow:function(t){this.stampTip.active=!1,this.leef.y+=this.offsetY,this.glass.y-=this.offsetY,0==n.userdata.isLogin&&n.login(),n.audio.playBgm(n.audio.bgmType.start),this.goldTxt.string=n.userdata.gold;var i=cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.02,1.02),cc.scaleTo(.5,.98,.98)));this.startBtn.runAction(i),this.duck.x=this.duckPos.x,this.duck.y=this.duckPos.y,n.gamedata.gamelist.length>0&&n.ui.show("guess"),this.soundOnBtn.active=n.audio.musicOn,this.soundOffBtn.active=!n.audio.musicOn,n.gamedata.getStampError&&(n.ui.showFloatTip("\u94fe\u63a5\u8fc7\u671f\u6216\u8005\u5df2\u7ecf\u88ab\u9886\u53d6"),n.gamedata.getStampError=!1),this.drawTip.active=n.userdata.isDraw},onHide:function(t){this.startBtn.stopAllActions(),this.startBtn.scaleX=1,this.startBtn.scaleY=1,n.audio.stopBgm(),n.ui.isShow("guess")&&n.ui.hide("guess")},onStart:function(){n.audio.playEffect(n.audio.soundType.click),0==n.userdata.isLogin&&"undefined"!=typeof wx||n.ui.show("skin")},update:function(t){switch(this.duck.scaleX){case 1:this.duck.x+=this.speedX*t,this.duck.y-=this.speedY*t,this.duck.x>340&&(this.duck.scaleX=-1);break;case-1:this.duck.x-=this.speedX*t,this.duck.y-=this.speedY*t,this.duck.x<-520&&(this.duck.scaleX=1,this.duck.x=this.duckPos.x-150,this.duck.y=this.duckPos.y)}},onRank:function(){n.audio.playEffect(n.audio.soundType.click),0==n.userdata.isLogin&&"undefined"!=typeof wx||n.ui.show("rank",!0)},onSkin:function(){n.audio.playEffect(n.audio.soundType.click),0==n.userdata.isLogin&&"undefined"!=typeof wx||n.ui.show("skin")},onShare:function(){if(n.audio.playEffect(n.audio.soundType.click),0!=n.userdata.isLogin||"undefined"==typeof wx){var t=Math.floor(Math.random()*n.gamedata.shareData.length),i=Math.floor(Math.random()*n.gamedata.shareData[t].length);n.share.do(n.gamedata.shareData[t][i].text,n.gamedata.shareData[t][i].img)}},onStamp:function(){n.ui.show("achieve")},getControlInfo:function(){var t={AppID:n.config.appID},i=this;n.request.post(n.config.configUrl.control,t,function(t){console.log(t);var e=t.GameControlInfo;n.config.control.canpay=0!=parseInt(e.Recharge),n.config.control.shareOpen=0!=parseInt(e.Share),n.config.control.forcePassOpen=0!=parseInt(e.BombShare),n.config.control.forcePassNum=5,n.config.control.gamelistEnable=1==parseInt(e.ShowGameList),n.config.control.force3minVideo=0!=parseInt(e.Video),n.config.control.forceResetShare=parseInt(e.Reset),n.config.control.showredpack=0!=parseInt(e.IsRed),0==n.config.control.gamelistEnable&&(i.moreBtn.active=!1),n.config.netversion=parseInt(e.Edition),NATIVE&&(n.config.localversion=n.config.netversion),console.log(n.config.control),console.log("net:"+n.config.netversion+" local:"+n.config.localversion),n.ui.show("gamelist")})},onMoneyBtn:function(){n.updateGold(1e3,function(){n.ui.showFloatTip("\u52a01000\u91d1\u5e01")})},onAchieve:function(){n.ui.showFloatTip("\u656c\u8bf7\u671f\u5f85")},onGold:function(){n.ui.show("friend")},onSound:function(){n.audio.on(),this.soundOnBtn.active=n.audio.musicOn,this.soundOffBtn.active=!n.audio.musicOn},onDrawStamp:function(){n.ui.show("draw")}}),cc._RF.pop()},{"../app":"app"}],storage:[function(t,i,e){"use strict";cc._RF.push(i,"68d70aC795AQJEIl2L2b8Kp","storage");var n=t("../common/config"),s=t("../data/gamedata"),a=null,o={writeData:function(){var t=s.openid+"_pool",i=JSON.stringify(a);cc.sys.localStorage.setItem(t,i)},setData:function(t,i){},getFishData:function(){var t=s.openid+"_pool",i=cc.sys.localStorage.getItem(t);if(null===i||""===i){a=new Array;for(var e=0;e<12;++e)a[e]={i:1,t:0,p:0}}else a=JSON.parse(i);return console.log(JSON.stringify(a)),a},saveGold:function(){},getGold:function(){var t=s.openid+"_gold",i=cc.sys.localStorage.getItem(t);return null!==i&&""!==i||(i=s.gold),parseInt(i)},saveBuyData:function(){},getBuyData:function(){var t=s.openid+"_buy",i=cc.sys.localStorage.getItem(t);if(null===i||""===i){i=new Array(n.fishCount);for(var e=0;e<n.fishCount;++e)i[e]=0}else i=JSON.parse(i);return console.log("buy:"+i),i}};i.exports=o,cc._RF.pop()},{"../common/config":"config","../data/gamedata":"gamedata"}],subpackage:[function(t,i,e){"use strict";if(cc._RF.push(i,"73a80R53zdGIZCWB9VXSquA","subpackage"),WECHATGAME)wx.getFileSystemManager();var n=new Array,s=new Array,a={fishImg:new Array,shareTexture:new Array,fishLoaded:!1,shareLoaded:!1,setFishImg:function(t,i){var e=this;this.loadSprite(t,function(t){e.fishImg[i]=t})},load:function(){if(WECHATGAME&&QQPlAY){var t=this;ctt.loadSubpackage({name:"fish",success:function(i){console.log("\u5206\u5305\u52a0\u8f7d\u6210\u529f");for(var e=0;e<n.length;++e)t.setFishImg(n[e],e);t.fishLoaded=!0},fail:function(t){}}),ctt.loadSubpackage({name:"share",success:function(i){console.log("share \u5206\u5305\u52a0\u8f7d\u6210\u529f"),t.shareTexture=s,t.shareLoaded=!0},fail:function(t){}})}},getFish:function(t){return this.fishImg[t]},getShareImg:function(t){return this.shareTexture[t]},loadSprite:function(t,i){var e=ctt.createImage();e.src=t,e.onload=function(){var t=new cc.Texture2D;t.initWithElement(e),t.handleLoadedTexture(),i(new cc.SpriteFrame(t))}}};i.exports=a,cc._RF.pop()},{}],time:[function(t,i,e){"use strict";cc._RF.push(i,"ce23eTYlO5Jk5d8AlPQPVPC","time");t("../manager/request"),t("../common/config"),t("../common/protocol");var n={localTime:null,serviceTime:null,init:function(t){this.localTime=(new Date).timestamp(),this.serviceTime=(new Date).timestamp()},now:function(){var t=(new Date).timestamp();return this.serviceTime+(t-this.localTime)}};i.exports=n,cc._RF.pop()},{"../common/config":"config","../common/protocol":"protocol","../manager/request":"request"}],ui:[function(t,i,e){"use strict";cc._RF.push(i,"f9877TlstFIWZzubYTR0CcK","ui");var n=new Array({prefab:"game",order:1,script:"game"},{prefab:"float",order:51,script:"float"},{prefab:"loading",order:50,script:"loading"},{prefab:"relive",order:4,script:"relive"},{prefab:"result",order:30,script:"result"},{prefab:"rank",order:31,script:"rank"},{prefab:"skin",order:5,script:"skin"},{prefab:"confirm",order:52,script:"confirm"},{prefab:"achieve",order:35,script:"achieve"},{prefab:"stampTip",order:36,script:"stampTip"},{prefab:"start",order:3,script:"start"},{prefab:"draw",order:33,script:"draw"},{prefab:"gamelist",order:54,script:"gamelist"},{prefab:"guess",order:31,script:"guess"},{prefab:"friend",order:"35",script:"friend"}),s=new Array,a=!1;i.exports={inited:a,show:function(t,i){void 0!=s[t]&&(s[t].node.active=!0,s[t].script&&void 0!=s[t].script.onShow&&s[t].script.onShow(i))},hide:function(t,i){void 0!=s[t]&&s[t].node.active&&(s[t].node.active=!1,s[t].script&&void 0!=s[t].script.onHide&&s[t].script.onHide(i))},isShow:function(t){if(void 0!=s[t])return s[t].node.active},load:function(t){if(a)return console.log("uimanager has been loaded"),void(void 0!=t&&t());console.log("uimanager load");var i=cc.find("Canvas");if(i.childrenCount>0)for(var e=0;e<i.childrenCount;++e)"Main Camera"!==i.children[e].name&&i.children[e].destroy();var o=new Array,r=n;for(e=0;e<r.length-1;e++)for(var c=0;c<r.length-1-e;c++)if(r[c].order>r[c+1].order){var h=r[c];r[c]=r[c+1],r[c+1]=h}for(var l in n)o[l]="prefab/view/"+n[l].prefab;console.log(o),cc.loader.loadResArray(o,cc.Prefab,function(i,e){i&&cc.error(i);for(var o=0;o<e.length;++o){var r=e[o].name;console.log("Load "+r+" successfully");var c=cc.instantiate(e[o]);c.name=r,s[r]={},s[r].node=c,cc.find("Canvas").addChild(c),console.log(n[o].script),s[r].script=c.addComponent(n[o].script),void 0==s[r].script&&console.error(r+"add component "+n[o].script+" failure"),c.active=!1}a=!0,void 0!=t&&t()})},showFloatTip:function(t,i){void 0==i&&(i=1),void 0==t&&(t=""),this.show("float",{during:i,content:t})},showMessageBox:function(t){void 0!=t?(t.content,this.show("msgbox",t)):console.error("invaild params to msgbox")},showLoading:function(t){WECHATGAME?wx.showLoading(t):QQPLAY?qq.showLoading(t):TTGAME?tt.showLoading(t):this.show("loading",t)},hideLoading:function(){WECHATGAME?wx.hideLoading():QQPLAY?qq.hideLoading():this.hide("loading")}},cc._RF.pop()},{}],userdata:[function(t,i,e){"use strict";var n;function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}cc._RF.push(i,"1d8d7wiOxdIt7icx23FBxY5","userdata");var a=(s(n={openid:"",nickname:"",icon:"",gold:0,gainGold:0,isauth:!1,guideStep:0,isLogin:!1,roundScore:0,lastGameScore:0,lastItemCount:0,maxScore:0,totalMaxScore:0,skin:[1,0,0,0,0,0],selectSkin:0,orginSkin:0,stamp:0,stampList:0,userkey:"190814_2",friendNum:0,friendReward:[0,0,0,0,0],isGetUserData:!1,getStamp:-1,isInvite:!1,inviteId:0,isDraw:!1,getLastGameData:function(){var t=cc.sys.localStorage.getItem("lastScore"+this.userkey);this.lastGameScore=""===t||null===t?0:parseInt(t);var i=cc.sys.localStorage.getItem("lastItemNum"+this.userkey);this.lastItemCount=""===i||null===i?0:parseInt(i)},setLastGameData:function(){cc.sys.localStorage.setItem("lastScore"+this.userkey,this.lastGameScore),cc.sys.localStorage.setItem("lastItemNum"+this.userkey,this.lastItemCount)},getSkin:function(){var t=cc.sys.localStorage.getItem("skin"+this.userkey);this.skin=""===t||null===t?[1,0,0,0,0,0]:JSON.parse(t);var i=cc.sys.localStorage.getItem("selectSkin"+this.userkey);this.selectSkin=""===i||null===i?0:parseInt(i)},saveSkin:function(){cc.sys.localStorage.setItem("skin"+this.userkey,JSON.stringify(this.skin)),cc.sys.localStorage.setItem("selectSkin"+this.userkey,this.selectSkin)}},"getStamp",function(){var t=cc.sys.localStorage.getItem("stamp"+this.userkey);this.stamp=new Array;for(var i=0;i<30;i++)this.stamp.push(0);if(""===t||null===t);else{t=parseInt(t);for(i=0;i<30;i++){var e=Math.pow(2,i);(t&e)==e&&(this.stamp[i]=1)}}var n=cc.sys.localStorage.getItem("stampData"+this.userkey);this.stampList=new Array;for(i=0;i<30;i++)this.stampList.push(0);if(""===n||null===n)for(i=0;i<this.stamp.length;i++)1==this.stamp[i]?this.stampList[i]=1:this.stampList[i]=0;else this.stampList=JSON.parse(n);a.getStamp&&(this.stamp[a.getStamp]=1,this.stampList[a.getStamp]++,a.getStamp=-1,this.saveStamp())}),s(n,"saveStamp",function(){for(var t=0,i=0;i<30;i++)1==this.stamp[i]&&(t+=Math.pow(2,i));console.log(t),cc.sys.localStorage.setItem("stamp"+this.userkey,t);var e=JSON.stringify(this.stampList);cc.sys.localStorage.setItem("stampData"+this.userkey,e)}),s(n,"saveFriend",function(){cc.sys.localStorage.setItem("friend"+this.userkey,this.friendNum),cc.sys.localStorage.setItem("friendReward"+this.userkey,JSON.stringify(this.friendReward))}),s(n,"getFriend",function(){var t=cc.sys.localStorage.getItem("friend"+this.userkey);this.friendNum=0,""===t||null===t||(this.friendNum=parseInt(t))}),s(n,"getHighScore",function(){var t=cc.sys.localStorage.getItem("highScore"+this.userkey);return""==t||null===t?0:parseInt(t)}),s(n,"setHighScore",function(t){cc.sys.localStorage.setItem("highScore"+this.userkey,t)}),s(n,"getDrawChance",function(){var t=new Date,i=t.getFullYear()+""+t.getMonth()+t.getDate(),e=cc.sys.localStorage.getItem(i+this.userkey);a.isDraw=null===e||""===e}),s(n,"setDrawChance",function(){var t=new Date,i=t.getFullYear()+""+t.getMonth()+t.getDate();cc.sys.localStorage.setItem(i+this.userkey,"false")}),n);i.exports=a,cc._RF.pop()},{}],util:[function(t,i,e){"use strict";cc._RF.push(i,"1d143eaIW9OLLEegjjkLnkf","util");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};String.prototype.format=function(){if(0==arguments.length)return this;var t=arguments[0],i=this;if("object"==(void 0===t?"undefined":n(t))){for(var e in t)i=i.replace(new RegExp("\\{"+e+"\\}","g"),t[e]);return i}for(var s=0;s<arguments.length;s++)i=i.replace(new RegExp("\\{"+s+"\\}","g"),arguments[s]);return i},cc.Node.prototype.findChild=function(t,i){for(var e=t.split("/"),n=this,s=this,a=0;a<e.length;++a)n=s=n.getChildByName(e[a]);return void 0!=i&&(s=s.getComponent(i)),s},Date.prototype.timestamp=function(){return Math.floor((new Date).getTime()/1e3)},Number.prototype.toUnit=function(t){for(var i=[{size:1e3,unit:"K"},{size:1e6,unit:"M"},{size:1e9,unit:"G"},{size:1e12,unit:"T"},{size:1e15,unit:"P"},{size:1e18,unit:"E"},{size:1e21,unit:"Z"},{size:1e24,unit:"Y"},{size:1e27,unit:"H"},{size:1e30,unit:"a"},{size:1e33,unit:"b"},{size:1e36,unit:"c"},{size:1e39,unit:"d"},{size:1e42,unit:"e"},{size:1e45,unit:"f"},{size:1e48,unit:"g"},{size:1e51,unit:"h"},{size:1e54,unit:"i"},{size:1e57,unit:"j"},{size:1e60,unit:"k"},{size:1e63,unit:"l"},{size:1e66,unit:"m"},{size:1e69,unit:"n"},{size:1e72,unit:"o"},{size:1e75,unit:"p"},{size:1e78,unit:"q"},{size:1e81,unit:"r"},{size:1e84,unit:"s"},{size:1e87,unit:"t"},{size:1e90,unit:"u"},{size:1e93,unit:"v"},{size:1e96,unit:"w"}],e=-1,n=0;n<i.length&&!(this<i[n].size);++n)e=n;return-1==e?this.toFixed(0)+"":(this/i[e].size).toFixed(t)+i[e].unit};var s=t("../data/userdata"),a={audio:void 0,unique:function(t){for(var i=new Array,e=0;e<t.length;e++)-1===t.indexOf(t[e],e+1)&&i.push(t[e]);return i},unOrderSort:function(t){return t=t.sort(function(){return Math.random()>.5?-1:1})},bubbleSort:function(t,i){if("object"==n(t[0])){for(var e=0;e<t.length-1;e++)for(var s=0;s<t.length-1-e;s++)if(t[s][i]>t[s+1][i]){var a=t[s];t[s]=t[s+1],t[s+1]=a}}else for(e=0;e<t.length-1;e++)for(s=0;s<t.length-1-e;s++)if(t[s]>t[s+1]){a=t[s];t[s]=t[s+1],t[s+1]=a}},createIcon:function(t,i,e){if(WECHATGAME||QQPLAY||TTGAME||VIVO){var n=(WECHATGAME?wx:QQPLAY?qq:TTGAME?tt:qg).createImage();n.onload=function(){var i=new cc.Texture2D;i.initWithElement(n),i.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(i)},n.onerror=function(t){e&&e()},n.src=i}else if(NATIVE)cc.loader.load(i,function(i,e){var n=new cc.SpriteFrame(e);t.spriteFrame=n});else{var s=document.createElement("image");s.style.width="120px",s.style.height="120px",s.setAttribute("src",i);var a=new cc.Texture2D;a.initWithElement(s),a.handleLoadedTexture(),t.spriteFrame=new cc.SpriteFrame(a)}},csv2Json:function(t){for(var i=[],e=t.split("\n"),n=e[0].split(","),s=1;s<e.length;++s){var a={},o=e[s].split(",");if(o.length==n.length){for(var r=0;r<n.length;++r){var c=n[r].trim().replace(/\"/g,""),h=o[r].trim().replace(/\"/g,"");Object.defineProperty(a,c,{value:h})}i.push(a)}}return i},sec2hhmmss:function(t){var i=Math.floor(t/3600),e=Math.floor(t/60)%60,n=t%60;return i+":"+(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)},isInside:function(t,i){var e=t.x,n=t.y,s=i;return e>s.x-s.width/2&&e<s.x+s.width/2&&n<s.y+s.height/2&&n>s.y-s.height/2},transAxis:function(t){var i=cc.winSize,e=cc.view.getFrameSize(),n=i.width,s=n*e.height/e.width;return new cc.Vec2(t.x-n/2,t.y-s/2)},isGuided:function(t){var i=1<<t-1;return 0!=(s.guidestep&i)},system:null,createAuthBtn:function(t){null==this.system&&(this.system=ctt.getSystemInfoSync());var i=this.system.screenWidth/5,e=1.25*i,n=this.system.screenHeight/2-3.52*e,s=ctt.createUserInfoButton({type:"text",text:"",style:{left:0,top:n,width:i,height:e,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});s.onTap(function(i){var e=i.userInfo;void 0!=e&&(s.hide(),t(e))})},getQuakeAnim:function(){return cc.repeatForever(cc.sequence(cc.rotateBy(.1,-10),cc.rotateBy(.1,20),cc.rotateBy(.1,-20),cc.rotateBy(.1,20),cc.rotateBy(.1,-10),cc.scaleTo(2,1,1)))},getFloatAnim:function(){return cc.repeatForever(cc.sequence(cc.moveBy(.7,cc.v2(0,30)),cc.moveBy(.7,cc.v2(0,-30))))},randomAverage:function(){return Math.random()>.5?-1:1}};i.exports=a,cc._RF.pop()},{"../data/userdata":"userdata"}]},{},["app","config","protocol","util","gamedata","gametype","guidedata","relatedata","userdata","formula","main","audio","event","request","res","storage","subpackage","time","ui","ad","friendrank","launch","login","native","share","collider","achieve","confirm","draw","float","friend","game","gamelist","guess","loading","msgbox","multi","rank","relive","result","skin","stampTip","start"]);